<!DOCTYPE html>
<html lang="zh-CN">
    <head hexo-theme='https://github.com/volantis-x/hexo-theme-volantis/tree/5.5.0'>
  <meta name="generator" content="Hexo 6.2.0">
  <meta name="Volantis" content="5.5.0">
  <meta charset="utf-8">
  <!-- SEOÁõ∏ÂÖ≥ -->
  
  <link rel="canonical" href="http://example.com/2022/10/08/java/mysql/"/>
  <!-- Ê∏≤Êüì‰ºòÂåñ -->
    <meta http-equiv='x-dns-prefetch-control' content='on' />
      <link rel='dns-prefetch' href='https://unpkg.com'>
      <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <meta name="renderer" content="webkit">
  <meta name="force-rendering" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Content-Security-Policy" content=" default-src 'self' https:; block-all-mixed-content; base-uri 'self' https:; form-action 'self' https:; worker-src 'self' https:; connect-src 'self' https: *; img-src 'self' data: https: *; media-src 'self' https: *; font-src 'self' data: https: *; frame-src 'self' https: *; manifest-src 'self' https: *; child-src https:; script-src 'self' https: 'unsafe-inline' *; style-src 'self' https: 'unsafe-inline' *; ">
  <meta name="HandheldFriendly" content="True" >
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">
  <meta content="black-translucent" name="apple-mobile-web-app-status-bar-style">
  <meta content="telephone=no" name="format-detection">
  <!-- import head_begin begin -->
  <!-- import head_begin end -->
  <!-- Custom Files headBegin begin-->
  
  <!-- Custom Files headBegin end-->
  <link rel="preload" href="/css/style.13e9f403.css" as="style">
  <link rel="preload" href="https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/VarelaRound/VarelaRound-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">
<link rel="preload" href="https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf" as="font" type="font/ttf" crossorigin="anonymous">

  <!-- feed -->
  <!-- È°µÈù¢ÂÖÉÊï∞ÊçÆ -->
  <title>MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞ - Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ</title>
  <meta name="keywords" content="Java,Êï∞ÊçÆÂ∫ì,null">
  <meta desc name="description" content="‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢ - ‰∏Ä‰∏™Â∞èÂûÉÂúæ - Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ">
  
<meta property="og:type" content="article">
<meta property="og:title" content="MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞">
<meta property="og:url" content="http://example.com/2022/10/08/Java/MySQL/index.html">
<meta property="og:site_name" content="Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ">
<meta property="og:description" content="ËøõÈò∂ DDLÔºöÊï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä	   DMLÔºöÊï∞ÊçÆÊìç‰ΩúËØ≠Ë®Ä	  DQLÔºöÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®Ä  DCLÔºöÊï∞ÊçÆÊéßÂà∂ËØ≠Ë®Ä   1.Â≠òÂÇ®ÂºïÊìé1.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ ËøûÊé•Â±Ç ÊúÄ‰∏äÂ±ÇÊòØ‰∏Ä‰∫õÂÆ¢Êà∑Á´ØÂíåÈìæÊé•ÊúçÂä°Ôºå‰∏ªË¶ÅÂÆåÊàê‰∏Ä‰∫õÁ±ª‰ºº‰∫éËøûÊé•Â§ÑÁêÜ„ÄÅÊéàÊùÉËÆ§ËØÅ„ÄÅÂèäÁõ∏ÂÖ≥ÁöÑÂÆâÂÖ®ÊñπÊ°à„ÄÇÊúçÂä°Âô®‰πü‰ºö‰∏∫ÂÆâÂÖ®Êé•ÂÖ•ÁöÑÊØè‰∏™ÂÆ¢Êà∑Á´ØÈ™åËØÅÂÆÉÊâÄÂÖ∑ÊúâÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ  ÊúçÂä°Â±Ç Á¨¨‰∫åÂ±ÇÊû∂ÊûÑ‰∏ªË¶ÅÂÆåÊàêÂ§ßÂ§öÊï∞ÁöÑÊ†∏ÂøÉÊúçÂä°ÂäüËÉΩÔºåÂ¶ÇSQLÊé•Âè£ÔºåÂπ∂ÂÆåÊàêÁºìÂ≠òÁöÑÊü•ËØ¢ÔºåSQLÁöÑÂàÜÊûêÂíå‰ºò">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
<meta property="article:published_time" content="2022-10-08T07:37:44.332Z">
<meta property="article:modified_time" content="2023-03-29T06:11:03.275Z">
<meta property="article:author" content="‰∏Ä‰∏™Â∞èÂûÉÂúæ">
<meta property="article:tag" content="Java">
<meta property="article:tag" content="Êï∞ÊçÆÂ∫ì">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
  <style>
    /* È¶ñÂ±èÊ†∑Âºè */
    #safearea {
  display: none;
}
/*
  * Workaround for Chrome bug, part 1
  * Chunk rendering for all but the first article.
  * /layout/_partial/scripts/content-visibility-scroll-fix.ejs
*/
.post-story + .post-story {
  content-visibility: auto;
  contain-intrinsic-size: 10px 500px;
}
:root {
  --color-site-body: #f4f4f4;
  --color-site-bg: #f4f4f4;
  --color-site-inner: #fff;
  --color-site-footer: #666;
  --color-card: #fff;
  --color-text: #444;
  --color-block: #f6f6f6;
  --color-inlinecode: #c74f00;
  --color-codeblock: #fff7ea;
  --color-h1: #3a3a3a;
  --color-h2: #3a3a3a;
  --color-h3: #333;
  --color-h4: #444;
  --color-h5: #555;
  --color-h6: #666;
  --color-p: #444;
  --color-list: #666;
  --color-list-hl: #30ad91;
  --color-meta: #888;
  --color-read-bkg: #e0d8c8;
  --color-read-post: #f8f1e2;
  --color-copyright-bkg: #f5f5f5;
}
* {
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  outline: none;
  margin: 0;
  padding: 0;
}
*::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
*::-webkit-scrollbar-track-piece {
  background: transparent;
}
*::-webkit-scrollbar-thumb {
  background: #3dd9b6;
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
*::-webkit-scrollbar-thumb:hover {
  background: #ff5722;
}
html {
  color: var(--color-text);
  width: 100%;
  height: 100%;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  font-size: 16px;
}
html >::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}
html >::-webkit-scrollbar-track-piece {
  background: transparent;
}
html >::-webkit-scrollbar-thumb {
  background: #3dd9b6;
  cursor: pointer;
  border-radius: 2px;
  -webkit-border-radius: 2px;
}
html >::-webkit-scrollbar-thumb:hover {
  background: #ff5722;
}
body {
  background-color: var(--color-site-body);
  text-rendering: optimizelegibility;
  -webkit-tap-highlight-color: rgba(0,0,0,0);
  line-height: 1.6;
  -webkit-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
}
body.modal-active {
  overflow: hidden;
}
@media screen and (max-width: 680px) {
  body.modal-active {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
  }
}
a {
  color: #2092ec;
  cursor: pointer;
  text-decoration: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
a:hover {
  color: #ff5722;
}
a:active,
a:hover {
  outline: 0;
}
ul,
ol {
  padding-left: 0;
}
ul li,
ol li {
  list-style: none;
}
header {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
img {
  border: 0;
  background: none;
  max-width: 100%;
}
svg:not(:root) {
  overflow: hidden;
}
hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  -webkit-box-sizing: content-box;
  -moz-box-sizing: content-box;
  height: 0;
  border: 0;
  border-radius: 1px;
  -webkit-border-radius: 1px;
  border-bottom: 1px solid rgba(68,68,68,0.1);
}
button,
input {
  color: inherit;
  font: inherit;
  margin: 0;
}
button {
  overflow: visible;
  text-transform: none;
  -webkit-appearance: button;
  cursor: pointer;
}
@supports (backdrop-filter: blur(20px)) {
  .blur {
    background: rgba(255,255,255,0.9) !important;
    backdrop-filter: saturate(200%) blur(20px);
  }
}
.shadow {
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.shadow.floatable {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.shadow.floatable:hover {
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.1), 0 4px 8px 0px rgba(0,0,0,0.1), 0 8px 16px 0px rgba(0,0,0,0.1);
}
#l_cover {
  min-height: 64px;
}
.cover-wrapper {
  top: 0;
  left: 0;
  max-width: 100%;
  height: 100vh;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  align-self: center;
  align-content: center;
  color: var(--color-site-inner);
  padding: 0 16px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  position: relative;
  overflow: hidden;
  margin-bottom: -100px;
}
.cover-wrapper .cover-bg {
  position: absolute;
  width: 100%;
  height: 100%;
  background-position: center;
  background-size: cover;
  -webkit-background-size: cover;
  -moz-background-size: cover;
}
.cover-wrapper .cover-bg.lazyload:not(.loaded) {
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
}
.cover-wrapper .cover-bg.lazyload.loaded {
  animation-delay: 0s;
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-timing-function: ease-out;
  animation-name: fadeIn;
}
@-moz-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
    -webkit-transform: scale(1.02);
    -khtml-transform: scale(1.02);
    -moz-transform: scale(1.02);
    -o-transform: scale(1.02);
    -ms-transform: scale(1.02);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
    -webkit-transform: scale(1.02);
    -khtml-transform: scale(1.02);
    -moz-transform: scale(1.02);
    -o-transform: scale(1.02);
    -ms-transform: scale(1.02);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
    -webkit-transform: scale(1.02);
    -khtml-transform: scale(1.02);
    -moz-transform: scale(1.02);
    -o-transform: scale(1.02);
    -ms-transform: scale(1.02);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes fadeIn {
  0% {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
    filter: blur(12px);
    transform: scale(1.02);
    -webkit-transform: scale(1.02);
    -khtml-transform: scale(1.02);
    -moz-transform: scale(1.02);
    -o-transform: scale(1.02);
    -ms-transform: scale(1.02);
  }
  100% {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.cover-wrapper .cover-body {
  z-index: 1;
  position: relative;
  width: 100%;
  height: 100%;
}
.cover-wrapper#full {
  height: calc(100vh + 100px);
  padding-bottom: 100px;
}
.cover-wrapper#half {
  max-height: 640px;
  min-height: 400px;
  height: calc(36vh - 64px + 200px);
}
.cover-wrapper #scroll-down {
  width: 100%;
  height: 64px;
  position: absolute;
  bottom: 100px;
  text-align: center;
  cursor: pointer;
}
.cover-wrapper #scroll-down .scroll-down-effects {
  color: #fff;
  font-size: 24px;
  line-height: 64px;
  position: absolute;
  width: 24px;
  left: calc(50% - 12px);
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
  animation: scroll-down-effect 1.5s infinite;
  -webkit-animation: scroll-down-effect 1.5s infinite;
  -khtml-animation: scroll-down-effect 1.5s infinite;
  -moz-animation: scroll-down-effect 1.5s infinite;
  -o-animation: scroll-down-effect 1.5s infinite;
  -ms-animation: scroll-down-effect 1.5s infinite;
}
@-moz-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-webkit-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@-o-keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@keyframes scroll-down-effect {
  0% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
  50% {
    top: -16px;
    opacity: 0.4;
    -webkit-opacity: 0.4;
    -moz-opacity: 0.4;
  }
  100% {
    top: 0;
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.cover-wrapper .cover-body {
  margin-top: 64px;
  margin-bottom: 100px;
}
.cover-wrapper .cover-body,
.cover-wrapper .cover-body .top,
.cover-wrapper .cover-body .bottom {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  max-width: 100%;
}
.cover-wrapper .cover-body .bottom {
  margin-top: 32px;
}
.cover-wrapper .cover-body .title {
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
  font-size: 3.125rem;
  line-height: 1.2;
  text-shadow: 0 1px 2px rgba(0,0,0,0.1);
}
.cover-wrapper .cover-body .subtitle {
  font-size: 20px;
}
.cover-wrapper .cover-body .logo {
  max-height: 120px;
  max-width: calc(100% - 4 * 16px);
}
@media screen and (min-height: 1024px) {
  .cover-wrapper .cover-body .title {
    font-size: 3rem;
  }
  .cover-wrapper .cover-body .subtitle {
    font-size: 1.05rem;
  }
  .cover-wrapper .cover-body .logo {
    max-height: 150px;
  }
}
.cover-wrapper .cover-body .m_search {
  position: relative;
  max-width: calc(100% - 16px);
  width: 320px;
  vertical-align: middle;
}
.cover-wrapper .cover-body .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  width: 100%;
}
.cover-wrapper .cover-body .m_search .icon,
.cover-wrapper .cover-body .m_search .input {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.cover-wrapper .cover-body .m_search .icon {
  position: absolute;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  line-height: 2.5rem;
  width: 32px;
  top: 0;
  left: 5px;
  color: rgba(68,68,68,0.75);
}
.cover-wrapper .cover-body .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  height: 2.5rem;
  width: 100%;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  font-size: 0.875rem;
  -webkit-appearance: none;
  padding-left: 36px;
  border-radius: 1.4rem;
  -webkit-border-radius: 1.4rem;
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(10px);
  border: none;
  color: var(--color-text);
}
@media screen and (max-width: 500px) {
  .cover-wrapper .cover-body .m_search .input {
    padding-left: 36px;
  }
}
.cover-wrapper .cover-body .m_search .input:hover {
  background: rgba(255,255,255,0.8);
}
.cover-wrapper .cover-body .m_search .input:focus {
  background: #fff;
}
.cover-wrapper .list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  flex-wrap: wrap;
  -webkit-flex-wrap: wrap;
  -khtml-flex-wrap: wrap;
  -moz-flex-wrap: wrap;
  -o-flex-wrap: wrap;
  -ms-flex-wrap: wrap;
  align-items: stretch;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.cover-wrapper .list-h a {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 0;
  -ms-flex: 1 0;
  flex: 1 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  font-weight: 600;
}
.cover-wrapper .list-h a img {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  border-radius: 2px;
  -webkit-border-radius: 2px;
  margin: 4px;
  min-width: 40px;
  max-width: 44px;
}
@media screen and (max-width: 768px) {
  .cover-wrapper .list-h a img {
    min-width: 36px;
    max-width: 40px;
  }
}
@media screen and (max-width: 500px) {
  .cover-wrapper .list-h a img {
    margin: 2px 4px;
    min-width: 32px;
    max-width: 36px;
  }
}
@media screen and (max-width: 375px) {
  .cover-wrapper .list-h a img {
    min-width: 28px;
    max-width: 32px;
  }
}
.cover-wrapper {
  max-width: 100%;
}
.cover-wrapper.search .bottom .menu {
  margin-top: 16px;
}
.cover-wrapper.search .bottom .menu .list-h a {
  white-space: nowrap;
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: horizontal;
  -moz-box-orient: horizontal;
  -webkit-flex-direction: row;
  -ms-flex-direction: row;
  flex-direction: row;
  align-items: baseline;
  padding: 2px;
  margin: 4px;
  color: var(--color-site-inner);
  opacity: 0.75;
  -webkit-opacity: 0.75;
  -moz-opacity: 0.75;
  text-shadow: 0 1px 2px rgba(0,0,0,0.05);
  border-bottom: 2px solid transparent;
}
.cover-wrapper.search .bottom .menu .list-h a i {
  margin-right: 4px;
}
.cover-wrapper.search .bottom .menu .list-h a p {
  font-size: 0.9375rem;
}
.cover-wrapper.search .bottom .menu .list-h a:hover,
.cover-wrapper.search .bottom .menu .list-h a.active,
.cover-wrapper.search .bottom .menu .list-h a:active {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
  border-bottom: 2px solid var(--color-site-inner);
}
.cover-wrapper.dock .menu,
.cover-wrapper.featured .menu,
.cover-wrapper.focus .menu {
  border-radius: 6px;
  -webkit-border-radius: 6px;
}
.cover-wrapper.dock .menu .list-h a,
.cover-wrapper.featured .menu .list-h a,
.cover-wrapper.focus .menu .list-h a {
  -webkit-box-direction: normal;
  -moz-box-direction: normal;
  -webkit-box-orient: vertical;
  -moz-box-orient: vertical;
  -webkit-flex-direction: column;
  -ms-flex-direction: column;
  flex-direction: column;
  align-items: center;
  padding: 12px;
  line-height: 24px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  border-bottom: none;
  text-align: center;
  align-content: flex-end;
  color: rgba(68,68,68,0.7);
  font-size: 1.5rem;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h a,
  .cover-wrapper.featured .menu .list-h a,
  .cover-wrapper.focus .menu .list-h a {
    padding: 12px 8px;
  }
}
.cover-wrapper.dock .menu .list-h a i,
.cover-wrapper.featured .menu .list-h a i,
.cover-wrapper.focus .menu .list-h a i {
  margin: 8px;
}
.cover-wrapper.dock .menu .list-h a p,
.cover-wrapper.featured .menu .list-h a p,
.cover-wrapper.focus .menu .list-h a p {
  font-size: 0.875rem;
}
.cover-wrapper.dock .menu .list-h a.active,
.cover-wrapper.featured .menu .list-h a.active,
.cover-wrapper.focus .menu .list-h a.active {
  background: var(--color-card);
  backdrop-filter: none;
}
.cover-wrapper.dock .menu .list-h a.active i,
.cover-wrapper.featured .menu .list-h a.active i,
.cover-wrapper.focus .menu .list-h a.active i,
.cover-wrapper.dock .menu .list-h a.active i+p,
.cover-wrapper.featured .menu .list-h a.active i+p,
.cover-wrapper.focus .menu .list-h a.active i+p {
  color: #3dd9b6;
}
.cover-wrapper.dock .menu .list-h a.active img+p,
.cover-wrapper.featured .menu .list-h a.active img+p,
.cover-wrapper.focus .menu .list-h a.active img+p {
  color: var(--color-text);
}
.cover-wrapper.dock .menu .list-h a:hover,
.cover-wrapper.featured .menu .list-h a:hover,
.cover-wrapper.focus .menu .list-h a:hover {
  background: var(--color-card);
}
.cover-wrapper.dock .top {
  margin-bottom: 48px;
}
.cover-wrapper.dock .menu {
  background: rgba(255,255,255,0.5);
  position: absolute;
  bottom: 0;
  max-width: 100%;
}
.cover-wrapper.dock .menu .list-h {
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  margin: 4px;
}
.cover-wrapper.dock .menu .list-h a+a {
  margin-left: 4px;
}
@media screen and (max-width: 500px) {
  .cover-wrapper.dock .menu .list-h {
    overflow-x: scroll;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar {
    height: 0;
    width: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-track-piece {
    background: transparent;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb {
    background: #3dd9b6;
    cursor: pointer;
    border-radius: 0;
    -webkit-border-radius: 0;
  }
  .cover-wrapper.dock .menu .list-h::-webkit-scrollbar-thumb:hover {
    background: #ff5722;
  }
}
@supports (backdrop-filter: blur(20px)) {
  .cover-wrapper.dock .menu {
    background: rgba(255,255,255,0.5);
    backdrop-filter: saturate(200%) blur(20px);
  }
}
@font-face {
  font-family: 'UbuntuMono';
  src: url("https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/UbuntuMono/UbuntuMono-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
@font-face {
  font-family: 'Varela Round';
  src: url("https://unpkg.com/volantis-static@0.0.1654736714924/media/fonts/VarelaRound/VarelaRound-Regular.ttf");
  font-weight: 'normal';
  font-style: 'normal';
  font-display: swap;
}
.l_header {
  position: fixed;
  z-index: 1000;
  top: 0;
  width: 100%;
  height: 64px;
  background: var(--color-card);
  box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
  -webkit-box-shadow: 0 1px 2px 0px rgba(0,0,0,0.1);
}
.l_header.auto {
  transition: opacity 0.4s ease;
  -webkit-transition: opacity 0.4s ease;
  -khtml-transition: opacity 0.4s ease;
  -moz-transition: opacity 0.4s ease;
  -o-transition: opacity 0.4s ease;
  -ms-transition: opacity 0.4s ease;
  visibility: hidden;
}
.l_header.auto.show {
  opacity: 1 !important;
  -webkit-opacity: 1 !important;
  -moz-opacity: 1 !important;
  visibility: visible;
}
.l_header .container {
  margin-left: 16px;
  margin-right: 16px;
}
.l_header #wrapper {
  height: 100%;
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}
.l_header #wrapper .nav-main,
.l_header #wrapper .nav-sub {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  flex-wrap: nowrap;
  -webkit-flex-wrap: nowrap;
  -khtml-flex-wrap: nowrap;
  -moz-flex-wrap: nowrap;
  -o-flex-wrap: nowrap;
  -ms-flex-wrap: nowrap;
  justify-content: space-between;
  -webkit-justify-content: space-between;
  -khtml-justify-content: space-between;
  -moz-justify-content: space-between;
  -o-justify-content: space-between;
  -ms-justify-content: space-between;
  align-items: center;
}
.l_header #wrapper .nav-main {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.l_header #wrapper.sub .nav-main {
  transform: translateY(-64px);
  -webkit-transform: translateY(-64px);
  -khtml-transform: translateY(-64px);
  -moz-transform: translateY(-64px);
  -o-transform: translateY(-64px);
  -ms-transform: translateY(-64px);
}
.l_header #wrapper .nav-sub {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  opacity: 0;
  -webkit-opacity: 0;
  -moz-opacity: 0;
  height: 64px;
  width: calc(100% - 2 * 16px);
  position: absolute;
}
.l_header #wrapper .nav-sub ::-webkit-scrollbar {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (min-width: 2048px) {
  .l_header #wrapper .nav-sub {
    max-width: 55vw;
    margin: auto;
  }
}
.l_header #wrapper.sub .nav-sub {
  opacity: 1;
  -webkit-opacity: 1;
  -moz-opacity: 1;
}
.l_header #wrapper .title {
  position: relative;
  color: var(--color-text);
  padding-left: 24px;
  max-height: 64px;
}
.l_header #wrapper .nav-main .title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  flex-shrink: 0;
  line-height: 64px;
  padding: 0 24px;
  font-size: 1.25rem;
  font-family: "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Helvetica, monospace;
}
.l_header #wrapper .nav-main .title img {
  height: 64px;
}
.l_header .nav-sub {
  max-width: 1080px;
  margin: auto;
}
.l_header .nav-sub .title {
  font-weight: bold;
  font-family: UbuntuMono, "Varela Round", "PingFang SC", "Microsoft YaHei", Helvetica, Arial, Menlo, Monaco, monospace, sans-serif;
  line-height: 1.2;
  max-height: 64px;
  white-space: normal;
  flex-shrink: 1;
}
.l_header .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  line-height: 64px;
  align-items: center;
}
.l_header .switcher .s-toc {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
}
@media screen and (max-width: 768px) {
  .l_header .switcher .s-toc {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
  }
}
.l_header .switcher >li {
  height: 48px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  margin: 2px;
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li {
    margin: 0 1px;
    height: 48px;
  }
}
.l_header .switcher >li >a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  align-items: center;
  width: 48px;
  height: 48px;
  padding: 0.85em 1.1em;
  border-radius: 100px;
  -webkit-border-radius: 100px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  color: #3dd9b6;
}
.l_header .switcher >li >a:hover {
  border: none;
}
.l_header .switcher >li >a.active,
.l_header .switcher >li >a:active {
  border: none;
  background: var(--color-site-bg);
}
@media screen and (max-width: 500px) {
  .l_header .switcher >li >a {
    width: 36px;
    height: 48px;
  }
}
.l_header .nav-sub .switcher {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
}
.l_header .m_search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  height: 64px;
  width: 240px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (max-width: 1024px) {
  .l_header .m_search {
    width: 44px;
    min-width: 44px;
  }
  .l_header .m_search input::placeholder {
    opacity: 0;
    -webkit-opacity: 0;
    -moz-opacity: 0;
  }
  .l_header .m_search:hover {
    width: 240px;
  }
  .l_header .m_search:hover input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (min-width: 500px) {
  .l_header .m_search:hover .input {
    width: 100%;
  }
  .l_header .m_search:hover .input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search {
    min-width: 0;
  }
  .l_header .m_search input::placeholder {
    opacity: 1;
    -webkit-opacity: 1;
    -moz-opacity: 1;
  }
}
.l_header .m_search .form {
  position: relative;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  width: 100%;
  align-items: center;
}
.l_header .m_search .icon {
  position: absolute;
  width: 36px;
  left: 5px;
  color: var(--color-meta);
}
@media screen and (max-width: 500px) {
  .l_header .m_search .icon {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
.l_header .m_search .input {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding-top: 8px;
  padding-bottom: 8px;
  line-height: 1.3;
  width: 100%;
  color: var(--color-text);
  background: #fafafa;
  box-shadow: none;
  -webkit-box-shadow: none;
  box-sizing: border-box;
  -webkit-box-sizing: border-box;
  -moz-box-sizing: border-box;
  padding-left: 40px;
  font-size: 0.875rem;
  border-radius: 8px;
  -webkit-border-radius: 8px;
  border: none;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
@media screen and (min-width: 500px) {
  .l_header .m_search .input:focus {
    box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
    -webkit-box-shadow: 0 4px 8px 0px rgba(0,0,0,0.1);
  }
}
@media screen and (max-width: 500px) {
  .l_header .m_search .input {
    background: var(--color-block);
    padding-left: 8px;
    border: none;
  }
  .l_header .m_search .input:hover,
  .l_header .m_search .input:focus {
    border: none;
  }
}
@media (max-width: 500px) {
  .l_header .m_search {
    left: 0;
    width: 0;
    overflow: hidden;
    position: absolute;
    background: #fff;
    transition: all 0.28s ease;
    -webkit-transition: all 0.28s ease;
    -khtml-transition: all 0.28s ease;
    -moz-transition: all 0.28s ease;
    -o-transition: all 0.28s ease;
    -ms-transition: all 0.28s ease;
  }
  .l_header .m_search .input {
    border-radius: 32px;
    -webkit-border-radius: 32px;
    margin-left: 16px;
    padding-left: 16px;
  }
  .l_header.z_search-open .m_search {
    width: 100%;
  }
  .l_header.z_search-open .m_search .input {
    width: calc(100% - 120px);
  }
}
ul.m-pc >li>a {
  color: inherit;
  border-bottom: 2px solid transparent;
}
ul.m-pc >li>a:active,
ul.m-pc >li>a.active {
  border-bottom: 2px solid #3dd9b6;
}
ul.m-pc li:hover >ul.list-v,
ul.list-v li:hover >ul.list-v {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.nav-list-h {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: -ms-flexbox /* TWEENER - IE 10 */;
  display: -webkit-flex /* NEW - Chrome */;
  display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
  display: flex;
  align-items: stretch;
}
ul.nav-list-h>li {
  position: relative;
  justify-content: center;
  -webkit-justify-content: center;
  -khtml-justify-content: center;
  -moz-justify-content: center;
  -o-justify-content: center;
  -ms-justify-content: center;
  height: 100%;
  line-height: 2.4;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
ul.nav-list-h>li >a {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-weight: 600;
}
ul.list-v {
  z-index: 1;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: absolute;
  background: var(--color-card);
  box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  -webkit-box-shadow: 0 2px 4px 0px rgba(0,0,0,0.08), 0 4px 8px 0px rgba(0,0,0,0.08), 0 8px 16px 0px rgba(0,0,0,0.08);
  margin-top: -6px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
  padding: 8px 0;
}
ul.list-v.show {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
}
ul.list-v hr {
  margin-top: 8px;
  margin-bottom: 8px;
}
ul.list-v >li {
  white-space: nowrap;
  word-break: keep-all;
}
ul.list-v >li.header {
  font-size: 0.78125rem;
  font-weight: bold;
  line-height: 2em;
  color: var(--color-meta);
  margin: 8px 16px 4px;
}
ul.list-v >li.header i {
  margin-right: 8px;
}
ul.list-v >li ul {
  margin-left: 0;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: -40px;
}
ul.list-v .aplayer-container {
  min-height: 64px;
  padding: 6px 16px;
}
ul.list-v >li>a {
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  color: var(--color-list);
  font-size: 0.875rem;
  font-weight: bold;
  line-height: 36px;
  padding: 0 20px 0 16px;
  text-overflow: ellipsis;
  margin: 0 4px;
  border-radius: 4px;
  -webkit-border-radius: 4px;
}
@media screen and (max-width: 1024px) {
  ul.list-v >li>a {
    line-height: 40px;
  }
}
ul.list-v >li>a >i {
  margin-right: 8px;
}
ul.list-v >li>a:active,
ul.list-v >li>a.active {
  color: var(--color-list-hl);
}
ul.list-v >li>a:hover {
  color: var(--color-list-hl);
  background: var(--color-site-bg);
}
.l_header .menu >ul>li>a {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: block;
  padding: 0 8px;
}
.l_header .menu >ul>li>a >i {
  margin-right: 4px;
}
.l_header ul.nav-list-h>li {
  color: var(--color-list);
  line-height: 64px;
}
.l_header ul.nav-list-h>li >a {
  max-height: 64px;
  overflow: hidden;
  color: inherit;
}
.l_header ul.nav-list-h>li >a:active,
.l_header ul.nav-list-h>li >a.active {
  color: #3dd9b6;
}
.l_header ul.nav-list-h>li:hover>a {
  color: var(--color-list-hl);
}
.l_header ul.nav-list-h>li i.music {
  animation: rotate-effect 1.5s linear infinite;
  -webkit-animation: rotate-effect 1.5s linear infinite;
  -khtml-animation: rotate-effect 1.5s linear infinite;
  -moz-animation: rotate-effect 1.5s linear infinite;
  -o-animation: rotate-effect 1.5s linear infinite;
  -ms-animation: rotate-effect 1.5s linear infinite;
}
@-moz-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-webkit-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@-o-keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
@keyframes rotate-effect {
  0% {
    transform: rotate(0);
    -webkit-transform: rotate(0);
    -khtml-transform: rotate(0);
    -moz-transform: rotate(0);
    -o-transform: rotate(0);
    -ms-transform: rotate(0);
  }
  25% {
    transform: rotate(90deg);
    -webkit-transform: rotate(90deg);
    -khtml-transform: rotate(90deg);
    -moz-transform: rotate(90deg);
    -o-transform: rotate(90deg);
    -ms-transform: rotate(90deg);
  }
  50% {
    transform: rotate(180deg);
    -webkit-transform: rotate(180deg);
    -khtml-transform: rotate(180deg);
    -moz-transform: rotate(180deg);
    -o-transform: rotate(180deg);
    -ms-transform: rotate(180deg);
  }
  75% {
    transform: rotate(270deg);
    -webkit-transform: rotate(270deg);
    -khtml-transform: rotate(270deg);
    -moz-transform: rotate(270deg);
    -o-transform: rotate(270deg);
    -ms-transform: rotate(270deg);
  }
  100% {
    transform: rotate(360deg);
    -webkit-transform: rotate(360deg);
    -khtml-transform: rotate(360deg);
    -moz-transform: rotate(360deg);
    -o-transform: rotate(360deg);
    -ms-transform: rotate(360deg);
  }
}
.menu-phone li ul.list-v {
  right: calc(100% - 0.5 * 16px);
}
.menu-phone li ul.list-v ul {
  right: calc(100% - 0.5 * 16px);
}
#wrapper {
  max-width: 1080px;
  margin: auto;
}
@media screen and (min-width: 2048px) {
  #wrapper {
    max-width: 55vw;
  }
}
#wrapper .menu {
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  -webkit-flex: 1 1;
  -ms-flex: 1 1;
  flex: 1 1;
  margin: 0 16px 0 0;
}
#wrapper .menu .list-v ul {
  left: calc(100% - 0.5 * 16px);
}
.menu-phone {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  margin-top: 16px;
  right: 8px;
  transition: all 0.28s ease;
  -webkit-transition: all 0.28s ease;
  -khtml-transition: all 0.28s ease;
  -moz-transition: all 0.28s ease;
  -o-transition: all 0.28s ease;
  -ms-transition: all 0.28s ease;
}
.menu-phone ul {
  right: calc(100% - 0.5 * 16px);
}
@media screen and (max-width: 500px) {
  .menu-phone {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: block;
  }
}
.l_header {
  max-width: 65vw;
  left: calc((100% - 65vw) * 0.5);
  border-bottom-left-radius: 8px;
  border-bottom-right-radius: 8px;
}
@media screen and (max-width: 2048px) {
  .l_header {
    max-width: 1112px;
    left: calc((100% - 1112px) * 0.5);
  }
}
@media screen and (max-width: 1112px) {
  .l_header {
    left: 0;
    border-radius: 0;
    -webkit-border-radius: 0;
    max-width: 100%;
  }
}
@media screen and (max-width: 500px) {
  .l_header .container {
    margin-left: 0;
    margin-right: 0;
  }
  .l_header #wrapper .nav-main .title {
    padding-left: 16px;
    padding-right: 16px;
  }
  .l_header #wrapper .nav-sub {
    width: 100%;
  }
  .l_header #wrapper .nav-sub .title {
    overflow-y: scroll;
    margin-top: 2px;
    padding: 8px 16px;
  }
  .l_header #wrapper .switcher {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: -ms-flexbox /* TWEENER - IE 10 */;
    display: -webkit-flex /* NEW - Chrome */;
    display: flex /* NEW, Spec - Opera 12.1, Firefox 20+ */;
    display: flex;
    margin-right: 8px;
  }
  .l_header .menu {
    display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
    display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
    display: none;
  }
}
@media screen and (max-width: 500px) {
  .list-v li {
    max-width: 270px;
  }
}
#u-search {
  display: -webkit-box /* OLD - iOS 6-, Safari 3.1-6 */;
  display: -moz-box /* OLD - Firefox 19- (buggy but mostly works) */;
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  padding: 60px 20px;
  z-index: 1001;
}
@media screen and (max-width: 680px) {
  #u-search {
    padding: 0px;
  }
}

  </style>
  <link rel="stylesheet" href="/css/style.13e9f403.css" media="print" onload="this.media='all';this.onload=null">
  <noscript><link rel="stylesheet" href="/css/style.13e9f403.css"></noscript>
  
<script>
if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode))
    document.write(
	'<style>'+
		'html{'+
			'overflow-x: hidden !important;'+
			'overflow-y: hidden !important;'+
		'}'+
		'.kill-ie{'+
			'text-align:center;'+
			'height: 100%;'+
			'margin-top: 15%;'+
			'margin-bottom: 5500%;'+
		'}'+
    '.kill-t{'+
      'font-size: 2rem;'+
    '}'+
    '.kill-c{'+
      'font-size: 1.2rem;'+
    '}'+
		'#l_header,#l_body{'+
			'display: none;'+
		'}'+
	'</style>'+
    '<div class="kill-ie">'+
        `<span class="kill-t"><b>Êä±Ê≠âÔºåÊÇ®ÁöÑÊµèËßàÂô®Êó†Ê≥ïËÆøÈóÆÊú¨Á´ô</b></span><br/>`+
        `<span class="kill-c">ÂæÆËΩØÂ∑≤Áªè‰∫é2016Âπ¥ÁªàÊ≠¢‰∫ÜÂØπ Internet Explorer (IE) 10 ÂèäÊõ¥Êó©ÁâàÊú¨ÁöÑÊîØÊåÅÔºå<br/>ÁªßÁª≠‰ΩøÁî®Â≠òÂú®ÊûÅÂ§ßÁöÑÂÆâÂÖ®ÈöêÊÇ£ÔºåËØ∑‰ΩøÁî®ÂΩì‰ª£‰∏ªÊµÅÁöÑÊµèËßàÂô®ËøõË°åËÆøÈóÆ„ÄÇ</span><br/>`+
        `<a target="_blank" rel="noopener" href="https://blogs.windows.com/windowsexperience/2021/05/19/the-future-of-internet-explorer-on-windows-10-is-in-microsoft-edge/"><strong>‰∫ÜËß£ËØ¶ÊÉÖ ></strong></a>`+
    '</div>');
</script>


<noscript>
	<style>
		html{
			overflow-x: hidden !important;
			overflow-y: hidden !important;
		}
		.kill-noscript{
			text-align:center;
			height: 100%;
			margin-top: 15%;
			margin-bottom: 5500%;
		}
    .kill-t{
      font-size: 2rem;
    }
    .kill-c{
      font-size: 1.2rem;
    }
		#l_header,#l_body{
			display: none;
		}
	</style>
    <div class="kill-noscript">
        <span class="kill-t"><b>Êä±Ê≠âÔºåÊÇ®ÁöÑÊµèËßàÂô®Êó†Ê≥ïËÆøÈóÆÊú¨Á´ô</b></span><br/>
        <span class="kill-c">Êú¨È°µÈù¢ÈúÄË¶ÅÊµèËßàÂô®ÊîØÊåÅÔºàÂêØÁî®ÔºâJavaScript</span><br/>
        <a target="_blank" rel="noopener" href="https://www.baidu.com/s?wd=ÂêØÁî®JavaScript"><strong>‰∫ÜËß£ËØ¶ÊÉÖ ></strong></a>
    </div>
</noscript>


  <script>
  /************Ëøô‰∏™Êñá‰ª∂Â≠òÊîæ‰∏çÈúÄË¶ÅÈáçËΩΩÁöÑÂÖ®Â±ÄÂèòÈáèÂíåÂÖ®Â±ÄÂáΩÊï∞*********/
  window.volantis = {}; // volantis ÂÖ®Â±ÄÂèòÈáè
  volantis.debug = false; // ÂºÄÂêØË∞ÉËØïÊ®°Âºè
  volantis.dom = {}; // È°µÈù¢Dom see: /source/js/app.js etc.

  volantis.GLOBAL_CONFIG ={
    debug: false,
    cdn: {"js":{"app":"/js/app.af2d54c8.js","parallax":"/js/plugins/parallax.8bf0ab10.js","rightMenu":"/js/plugins/rightMenu.d9437285.js","rightMenus":"/js/plugins/rightMenus.4d580c89.js","sites":"/js/plugins/tags/sites.76bf19b8.js","friends":"/js/plugins/tags/friends.f372da57.js","contributors":"/js/plugins/tags/contributors.aec80453.js","search":"/js/search/hexo.0e52f222.js"},"css":{"style":"/css/style.13e9f403.css"}},
    default: {"avatar":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/avatar/round/3442075.svg","link":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/link/8f277b4ee0ecd.svg","cover":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/cover/76b86c0226ffd.svg","image":"https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/image/2659360.svg"},
    lastupdate: new Date(1682953631743),
    sidebar: {
      for_page: ["blogger","category","tagcloud","donate"],
      for_post: ["toc"],
      webinfo: {
        lastupd: {
          enable: true,
          friendlyShow: true
        },
        runtime: {
          data: "2022/06/24",
          unit: "Â§©"
        }
      }
    },
    plugins: {
      message: {"enable":true,"css":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/css/iziToast.min.css","js":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/izitoast/dist/js/iziToast.min.js","icon":{"default":"fa-solid fa-info-circle light-blue","quection":"fa-solid fa-question-circle light-blue"},"time":{"default":5000,"quection":20000},"position":"topRight","transitionIn":"bounceInLeft","transitionOut":"fadeOutRight","titleColor":"var(--color-text)","messageColor":"var(--color-text)","backgroundColor":"var(--color-card)","zindex":2147483647,"copyright":{"enable":true,"title":"Áü•ËØÜÂÖ±‰∫´ËÆ∏ÂèØÂçèËÆÆ","message":"ËØ∑ÈÅµÂÆà CC BY-NC-SA 4.0 ÂçèËÆÆ„ÄÇ","icon":"far fa-copyright light-blue"},"aplayer":{"enable":true,"play":"fa-solid fa-play","pause":"fa-solid fa-pause"},"rightmenu":{"enable":true,"notice":true}},
      fancybox: {"css":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fancyapps/ui/dist/fancybox.css","js":"https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fancyapps/ui/dist/fancybox.umd.js"},
      
      
      
      rightmenus: {"enable":true,"order":["plugins.navigation","hr","plugins.inputBox","plugins.seletctText","plugins.elementCheck","plugins.elementImage","menus.link","hr","menus.darkMode","plugins.articlePage","music"],"options":{"iconPrefix":"fa-solid","articleShowLink":false,"musicAlwaysShow":false},"plugins":{"navigation":[{"id":"left","name":"ËΩ¨Âà∞‰∏ä‰∏ÄÈ°µ","icon":"fa-solid fa-arrow-left","event":"history.back()","group":"navigation"},{"id":"right","name":"ËΩ¨Âà∞‰∏ã‰∏ÄÈ°µ","icon":"fa-solid fa-arrow-right","event":"history.forward()","group":"navigation"},{"id":"redo","name":"Âà∑Êñ∞ÂΩìÂâçÈ°µÈù¢","icon":"fa-solid fa-redo","event":"window.location.reload()","group":"navigation"},{"id":"up","name":"ÂõûÂà∞È°∂ÈÉ®","icon":"fa-solid fa-arrow-up","event":"VolantisApp.scrolltoElement(volantis.dom.bodyAnchor)","group":"navigation"}],"inputBox":[{"id":"copyPaste","name":"Á≤òË¥¥ÊñáÊú¨","icon":"fa-solid fa-paste","event":"copyPaste","group":"inputBox"},{"id":"copyAll","name":"ÂÖ®ÈÄâÊñáÊú¨","icon":"fa-solid fa-object-ungroup","event":"copyAll","group":"inputBox"},{"id":"copyCut","name":"Ââ™ÂàáÊñáÊú¨","icon":"fa-solid fa-cut","event":"copyCut","group":"inputBox"}],"seletctText":[{"id":"copyText","name":"Â§çÂà∂ÊñáÊú¨","icon":"fa-solid fa-copy","event":"copyText","group":"seletctText"},{"id":"searchWord","name":"Á´ôÂÜÖÊêúÁ¥¢","icon":"fa-solid fa-search","event":"OpenSearch(__text__)","group":"seletctText"},{"id":"bingSearch","name":"ÂøÖÂ∫îÊêúÁ¥¢","icon":"fa-solid fa-search","event":"window.open(`https://cn.bing.com/search?q=${__text__}`)","group":"seletctText"}],"elementCheck":[{"id":"openTab","name":"Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ","icon":"fa-solid fa-external-link-square-alt","event":"window.open(__link__)","group":"elementCheck"},{"id":"copyLink","name":"Â§çÂà∂ÈìæÊé•Âú∞ÂùÄ","icon":"fa-solid fa-link","event":"copyLink","group":"elementCheck"}],"elementImage":[{"id":"copyImg","name":"Â§çÂà∂ÂõæÁâá","icon":"fa-solid fa-image","event":"copyImg","group":"elementImage"},{"id":"googleImg","name":"Ë∞∑Ê≠åËØÜÂõæ","icon":"fa-solid fa-images","event":"window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)","group":"elementImage"}],"articlePage":[{"id":"printMode","name":"ÊâìÂç∞È°µÈù¢","icon":"fa-solid fa-print","event":"printMode","group":"articlePage"},{"id":"readMode","name":"ÈòÖËØªÊ®°Âºè","icon":"fa-solid fa-book-open","event":"readMode","group":"articlePage"}]},"menus":{"link":["hr",{"id":"source_docs","name":"Êú¨Á´ôÊ∫êÁ†Å","icon":"fa-solid fa-code-branch","link":"https://github.com/volantis-x/volantis-docs/","group":"link"},{"id":"source_theme","name":"‰∏ªÈ¢òÊ∫êÁ†Å","icon":"fa-solid fa-code-branch","link":"https://github.com/volantis-x/hexo-theme-volantis/","group":"link"}]}}
      
    }
  }

  /******************** volantis.EventListener ********************************/
  // ‰∫ã‰ª∂ÁõëÂê¨Âô® see: /source/js/app.js
  volantis.EventListener = {}
  // ËøôÈáåÂ≠òÊîæpjaxÂàáÊç¢È°µÈù¢Êó∂Â∞ÜË¢´ÁßªÈô§ÁöÑ‰∫ã‰ª∂ÁõëÂê¨Âô®
  volantis.EventListener.list = []
  //ÊûÑÈÄ†ÊñπÊ≥ï
  function volantisEventListener(type, f, ele) {
    this.type = type
    this.f = f
    this.ele = ele
  }
  // ÁßªÈô§‰∫ã‰ª∂ÁõëÂê¨Âô®
  volantis.EventListener.remove = () => {
    volantis.EventListener.list.forEach(function (i) {
      i.ele.removeEventListener(i.type, i.f, false)
    })
    volantis.EventListener.list = []
  }
  /******************** volantis.dom.$ ********************************/
  // Ê≥®ÔºöËøôÈáåÊ≤°ÊúâÈÄâÊã©Âô®Ôºå‰πüÊ≤°ÊúâforEach‰∏ÄÊ¨°Âè™Â§ÑÁêÜ‰∏Ä‰∏™domÔºåËøôÈáåÈáçÊñ∞Â∞ÅË£Ö‰∏ªÈ¢òÂ∏∏Áî®ÁöÑdomÊñπÊ≥ïÔºåËøîÂõûÁöÑÊòØdomÂØπË±°ÔºåÂØπË±°ÂåÖÂê´‰∫Ü‰ª•‰∏ãÊñπÊ≥ïÔºåÂêåÊó∂‰øùÁïôdomÁöÑÂéüÁîüAPI
  function volantisDom(ele) {
    if (!ele) ele = document.createElement("div")
    this.ele = ele;
    // ==============================================================
    this.ele.find = (c) => {
      let q = this.ele.querySelector(c)
      if (q)
        return new volantisDom(q)
    }
    // ==============================================================
    this.ele.hasClass = (c) => {
      return this.ele.className.match(new RegExp('(\\s|^)' + c + '(\\s|$)'));
    }
    this.ele.addClass = (c) => {
      this.ele.classList.add(c);
      return this.ele
    }
    this.ele.removeClass = (c) => {
      this.ele.classList.remove(c);
      return this.ele
    }
    this.ele.toggleClass = (c) => {
      if (this.ele.hasClass(c)) {
        this.ele.removeClass(c)
      } else {
        this.ele.addClass(c)
      }
      return this.ele
    }
    // ==============================================================
    // ÂèÇÊï∞ r ‰∏∫ true Ë°®Á§∫pjaxÂàáÊç¢È°µÈù¢Êó∂‰∫ã‰ª∂ÁõëÂê¨Âô®Â∞ÜË¢´ÁßªÈô§Ôºåfalse‰∏çÁßªÈô§
    this.ele.on = (c, f, r = 1) => {
      this.ele.addEventListener(c, f, false)
      if (r) {
        volantis.EventListener.list.push(new volantisEventListener(c, f, this.ele))
      }
      return this.ele
    }
    this.ele.click = (f, r) => {
      this.ele.on("click", f, r)
      return this.ele
    }
    this.ele.scroll = (f, r) => {
      this.ele.on("scroll", f, r)
      return this.ele
    }
    // ==============================================================
    this.ele.html = (c) => {
      // if(c=== undefined){
      //   return this.ele.innerHTML
      // }else{
      this.ele.innerHTML = c
      return this.ele
      // }
    }
    // ==============================================================
    this.ele.hide = (c) => {
      this.ele.style.display = "none"
      return this.ele
    }
    this.ele.show = (c) => {
      this.ele.style.display = "block"
      return this.ele
    }
    // ==============================================================
    return this.ele
  }
  volantis.dom.$ = (ele) => {
    return !!ele ? new volantisDom(ele) : null;
  }
  /******************** RunItem ********************************/
  function RunItem() {
    this.list = []; // Â≠òÊîæÂõûË∞ÉÂáΩÊï∞
    this.start = () => {
      for (var i = 0; i < this.list.length; i++) {
        this.list[i].run();
      }
    };
    this.push = (fn, name, setRequestAnimationFrame = true) => {
      let myfn = fn
      if (setRequestAnimationFrame) {
        myfn = ()=>{
          volantis.requestAnimationFrame(fn)
        }
      }
      var f = new Item(myfn, name);
      this.list.push(f);
    };
    this.remove = (name) =>{
      for (let index = 0; index < this.list.length; index++) {
        const e = this.list[index];
        if (e.name == name) {
          this.list.splice(index,1);
        }
      }
    }
    // ÊûÑÈÄ†‰∏Ä‰∏™ÂèØ‰ª•runÁöÑÂØπË±°
    function Item(fn, name) {
      // ÂáΩÊï∞ÂêçÁß∞
      this.name = name || fn.name;
      // runÊñπÊ≥ï
      this.run = () => {
        try {
          fn()
        } catch (error) {
          console.log(error);
        }
      };
    }
  }
  /******************** Pjax ********************************/
  // /layout/_plugins/pjax/index.ejs
  // volantis.pjax.send(callBack[,"callBackName"]) ‰º†ÂÖ•pjax:sendÂõûË∞ÉÂáΩÊï∞
  // volantis.pjax.push(callBack[,"callBackName"]) ‰º†ÂÖ•pjax:completeÂõûË∞ÉÂáΩÊï∞
  // volantis.pjax.error(callBack[,"callBackName"]) ‰º†ÂÖ•pjax:errorÂõûË∞ÉÂáΩÊï∞
  volantis.pjax = {};
  volantis.pjax.method = {
    complete: new RunItem(),
    error: new RunItem(),
    send: new RunItem(),
  };
  volantis.pjax = Object.assign(volantis.pjax, {
    push: volantis.pjax.method.complete.push,
    error: volantis.pjax.method.error.push,
    send: volantis.pjax.method.send.push,
  });
  /******************** RightMenu ********************************/
  // volantis.rightmenu.handle(callBack[,"callBackName"]) Â§ñÈÉ®ËèúÂçïÈ°πÊéßÂà∂
  // ÂèØÂú® volantis.mouseEvent Â§ÑËé∑ÂèñÂè≥ÈîÆ‰∫ã‰ª∂
  volantis.rightmenu = {};
  volantis.rightmenu.method = {
    handle: new RunItem(),
  }
  volantis.rightmenu = Object.assign(volantis.rightmenu, {
    handle: volantis.rightmenu.method.handle.push,
  });
  /********************  Dark Mode  ********************************/
  // /layout/_partial/scripts/darkmode.ejs
  // volantis.dark.mode ÂΩìÂâçÊ®°Âºè dark or light
  // volantis.dark.toggle() ÊöóÈªëÊ®°ÂºèËß¶ÂèëÂô®
  // volantis.dark.push(callBack[,"callBackName"]) ‰º†ÂÖ•Ëß¶ÂèëÂô®ÂõûË∞ÉÂáΩÊï∞
  volantis.dark = {};
  volantis.dark.method = {
    toggle: new RunItem(),
  };
  volantis.dark = Object.assign(volantis.dark, {
    push: volantis.dark.method.toggle.push,
  });
  /********************  Message  ********************************/
  // VolantisApp.message
  /********************  isMobile  ********************************/
  // /source/js/app.js
  // volantis.isMobile
  // volantis.isMobileOld
  /********************ËÑöÊú¨Âä®ÊÄÅÂä†ËΩΩÂáΩÊï∞********************************/
  // volantis.js(src, cb)  cb ÂèØ‰ª•‰º†ÂÖ•onloadÂõûË∞ÉÂáΩÊï∞ ÊàñËÄÖ JSONÂØπË±° ‰æãÂ¶Ç: volantis.js("src", ()=>{}) Êàñ volantis.js("src", {defer:true,onload:()=>{}})
  // volantis.css(src)

  // ËøîÂõûPromiseÂØπË±°ÔºåÂ¶Ç‰∏ãÊñπÊ≥ïÂêåÊ≠•Âä†ËΩΩËµÑÊ∫êÔºåËøôÂà©‰∫éÂ§ÑÁêÜÊñá‰ª∂ËµÑÊ∫ê‰πãÈó¥ÁöÑ‰æùËµñÂÖ≥Á≥ªÔºå‰æãÂ¶ÇÔºöAPlayer ÈúÄË¶ÅÂú® MetingJS ‰πãÂâçÂä†ËΩΩ
  // (async () => {
  //     await volantis.js("...theme.plugins.aplayer.js.aplayer...")
  //     await volantis.js("...theme.plugins.aplayer.js.meting...")
  // })();

  // Â∑≤ÁªèÂä†ÂÖ•‰∫ÜsetTimeout
  volantis.js = (src, cb) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var HEAD = document.getElementsByTagName("head")[0] || document.documentElement;
        var script = document.createElement("script");
        script.setAttribute("type", "text/javascript");
        if (cb) {
          if (JSON.stringify(cb)) {
            for (let p in cb) {
              if (p == "onload") {
                script[p] = () => {
                  cb[p]()
                  resolve()
                }
              } else {
                script[p] = cb[p]
                script.onload = resolve
              }
            }
          } else {
            script.onload = () => {
              cb()
              resolve()
            };
          }
        } else {
          script.onload = resolve
        }
        script.setAttribute("src", src);
        HEAD.appendChild(script);
      });
    });
  }
  volantis.css = (src) => {
    return new Promise(resolve => {
      setTimeout(function () {
        var link = document.createElement('link');
        link.rel = "stylesheet";
        link.href = src;
        link.onload = resolve;
        document.getElementsByTagName("head")[0].appendChild(link);
      });
    });
  }
  /********************ÊåâÈúÄÂä†ËΩΩÁöÑÊèí‰ª∂********************************/
  // volantis.import.jQuery().then(()=>{})
  volantis.import = {
    jQuery: () => {
      if (typeof jQuery == "undefined") {
        return volantis.js("https://unpkg.com/volantis-static@0.0.1654736714924/libs/jquery/dist/jquery.min.js")
      } else {
        return new Promise(resolve => {
          resolve()
        });
      }
    }
  }
  /********************** requestAnimationFrame ********************************/
  // 1„ÄÅrequestAnimationFrame ‰ºöÊääÊØè‰∏ÄÂ∏ß‰∏≠ÁöÑÊâÄÊúâ DOM Êìç‰ΩúÈõÜ‰∏≠Ëµ∑Êù•ÔºåÂú®‰∏ÄÊ¨°ÈáçÁªòÊàñÂõûÊµÅ‰∏≠Â∞±ÂÆåÊàêÔºåÂπ∂‰∏îÈáçÁªòÊàñÂõûÊµÅÁöÑÊó∂Èó¥Èó¥ÈöîÁ¥ßÁ¥ßË∑üÈöèÊµèËßàÂô®ÁöÑÂà∑Êñ∞È¢ëÁéáÔºå‰∏ÄËà¨Êù•ËØ¥ÔºåËøô‰∏™È¢ëÁéá‰∏∫ÊØèÁßí60Â∏ß„ÄÇ
  // 2„ÄÅÂú®ÈöêËóèÊàñ‰∏çÂèØËßÅÁöÑÂÖÉÁ¥†‰∏≠ÔºårequestAnimationFrame Â∞Ü‰∏ç‰ºöËøõË°åÈáçÁªòÊàñÂõûÊµÅÔºåËøôÂΩìÁÑ∂Â∞±ÊÑèÂë≥ÁùÄÊõ¥Â∞ëÁöÑÁöÑ cpuÔºågpu ÂíåÂÜÖÂ≠ò‰ΩøÁî®Èáè„ÄÇ
  volantis.requestAnimationFrame = (fn)=>{
    if (!window.requestAnimationFrame) {
      window.requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame;
    }
    window.requestAnimationFrame(fn)
  }
  /************************ layoutHelper *****************************************/
  volantis.layoutHelper = (helper, html, opt)=>{
    opt = Object.assign({clean:false, pjax:true}, opt)
    function myhelper(helper, html, clean) {
      volantis.tempDiv = document.createElement("div");
      volantis.tempDiv.innerHTML = html;
      let layoutHelper = document.querySelector("#layoutHelper-"+helper)
      if (layoutHelper) {
        if (clean) {
          layoutHelper.innerHTML = ""
        }
        layoutHelper.append(volantis.tempDiv);
      }
    }
    myhelper(helper, html, opt.clean)
    if (opt.pjax) {
      volantis.pjax.push(()=>{
        myhelper(helper, html, opt.clean)
      },"layoutHelper-"+helper)
    }
  }
  /****************************** ÊªöÂä®‰∫ã‰ª∂Â§ÑÁêÜ ****************************************/
  volantis.scroll = {
    engine: new RunItem(),
    unengine: new RunItem(),
  };
  volantis.scroll = Object.assign(volantis.scroll, {
    push: volantis.scroll.engine.push,
  });
  // ÊªöÂä®Êù°Ë∑ùÁ¶ªÈ°∂ÈÉ®ÁöÑË∑ùÁ¶ª
  volantis.scroll.getScrollTop = () =>{
    let scrollPos;
    if (window.pageYOffset) {
      scrollPos = window.pageYOffset;
    } else if (document.compatMode && document.compatMode != 'BackCompat') {
      scrollPos = document.documentElement.scrollTop;
    } else if (document.body) {
      scrollPos = document.body.scrollTop;
    }
    return scrollPos;
  }
  // ‰ΩøÁî® requestAnimationFrame Â§ÑÁêÜÊªöÂä®‰∫ã‰ª∂
  // `volantis.scroll.del` ‰∏≠Â≠òÂÇ®‰∫Ü‰∏Ä‰∏™Êï∞ÂÄº, ËØ•Êï∞ÂÄºÊ£ÄÊµã‰∏ÄÂÆöÊó∂Èó¥Èó¥ÈöîÂÜÖÊªöÂä®Êù°ÊªöÂä®ÁöÑ‰ΩçÁßª, Êï∞ÂÄºÁöÑÊ£ÄÊµãÈ¢ëÁéáÊòØÊµèËßàÂô®ÁöÑÂà∑Êñ∞È¢ëÁéá. Êï∞ÂÄº‰∏∫Ê≠£Êï∞Êó∂, Ë°®Á§∫Âêë‰∏ãÊªöÂä®. Êï∞ÂÄº‰∏∫Ë¥üÊï∞Êó∂, Ë°®Á§∫Âêë‰∏äÊªöÂä®.
  volantis.scroll.handleScrollEvents = () => {
    volantis.scroll.lastScrollTop = volantis.scroll.getScrollTop()
    function loop() {
      const scrollTop = volantis.scroll.getScrollTop();
      if (volantis.scroll.lastScrollTop !== scrollTop) {
        volantis.scroll.del = scrollTop - volantis.scroll.lastScrollTop;
        volantis.scroll.lastScrollTop = scrollTop;
        // if (volantis.scroll.del > 0) {
        //   console.log("Âêë‰∏ãÊªöÂä®");
        // } else {
        //   console.log("Âêë‰∏äÊªöÂä®");
        // }
        // Ê≥®ÈîÄËøáÊúüÁöÑunengineÊú™ÊªöÂä®‰∫ã‰ª∂
        volantis.scroll.unengine.list=[]
        volantis.scroll.engine.start();
      }else{
        volantis.scroll.unengine.start();
      }
      volantis.requestAnimationFrame(loop)
    }
    volantis.requestAnimationFrame(loop)
  }
  volantis.scroll.handleScrollEvents()
  // Ëß¶ÂèëÈ°µÈù¢ÊªöÂä®Ëá≥ÁõÆÊ†áÂÖÉÁ¥†‰ΩçÁΩÆ
  volantis.scroll.to = (ele, option = {}) =>{
    // ÈªòËÆ§ÈÖçÁΩÆ
    opt = {
      top: ele.getBoundingClientRect().top + document.documentElement.scrollTop,
      behavior: "smooth"
    }
    // ÂÆö‰πâÈÖçÁΩÆ
    if ("top" in option) {
      opt.top = option.top
    }
    if ("behavior" in option) {
      opt.behavior = option.behavior
    }
    if ("addTop" in option) {
      opt.top += option.addTop
    }
    if (!("observerDic" in option)) {
      option.observerDic = 100
    }
    // ÊªöÂä®
    window.scrollTo(opt);
    // ÁõëËßÜÂô®
    // ÁõëËßÜÂπ∂Áü´Ê≠£ÂÖÉÁ¥†ÊªöÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆ
    // Áî®‰∫éÂ§ÑÁêÜ lazyload ÂºïËµ∑ÁöÑ cls ÂØºËá¥ÁöÑÂÆö‰ΩçÂ§±Ë¥•ÈóÆÈ¢ò
    // option.observer = false
    if (option.observer) {
      setTimeout(()=>{
        volantis.scroll.unengine.push(()=>{
          let me = ele.getBoundingClientRect().top
          if(!(me >= -option.observerDic && me <= option.observerDic)){
            volantis.scroll.to(ele, option)
          }
          volantis.scroll.unengine.remove("unengineObserver")
        },"unengineObserver")
      },1000)
    }
  }
  /********************** Content Visibility ********************************/
  // ËßÅ source/css/first.styl Â¶ÇÊûúÈÅáÂà∞‰ªª‰ΩïÈóÆÈ¢ò Âà†Èô§ .post-story Âç≥ÂèØ
  // ‰∏Ä‰∏™ÂÖÉÁ¥†Ë¢´Â£∞Êòé content-visibility Â±ûÊÄßÂêé Â¶ÇÊûúÂÖÉÁ¥†‰∏çÂú® viewport ‰∏≠ ÊµèËßàÂô®‰∏ç‰ºöËÆ°ÁÆóÂÖ∂Âêé‰ª£ÂÖÉÁ¥†Ê†∑ÂºèÂíåÂ±ûÊÄß ‰ªéËÄåËäÇÁúÅ Style & Layout ËÄóÊó∂
  // content-visibility ÁöÑÂâØ‰ΩúÁî®: ÈîöÁÇπÂ§±Êïà Á≠âÁ≠â(ÂÆûÈ™åÂàùÊúü ÊöÇ‰∏çÊòéÁ°Æ), ‰ΩøÁî®Ê≠§ÊñπÊ≥ïÊ∏ÖÈô§Ê†∑Âºè
  volantis.cleanContentVisibility = ()=>{
    if (document.querySelector(".post-story")) {
      console.log("cleanContentVisibility");
      document.querySelectorAll(".post-story").forEach(e=>{
        e.classList.remove("post-story")
      })
    }
  }
  /******************************************************************************/
  /******************************************************************************/
  /******************************************************************************/
  //ÂõæÂÉèÂä†ËΩΩÂá∫ÈîôÊó∂ÁöÑÂ§ÑÁêÜ
  function errorImgAvatar(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/avatar/round/3442075.svg";
    img.onerror = null;
  }
  function errorImgCover(img) {
    img.src = "https://unpkg.com/volantis-static@0.0.1654736714924/media/placeholder/cover/76b86c0226ffd.svg";
    img.onerror = null;
  }
  /******************************************************************************/
</script>

  <!-- import head_end begin -->
  <!-- import head_end end -->
  <!-- Custom Files headEnd begin-->
  
  <!-- Custom Files headEnd end-->
</head>
  <body itemscope itemtype="http://schema.org/WebPage">
    <!-- import body_begin begin-->
    <!-- import body_begin end-->
    <!-- Custom Files bodyBegin begin-->
    
    <!-- Custom Files bodyBegin end-->
    <header itemscope itemtype="http://schema.org/WPHeader" id="l_header" class="l_header auto shadow floatable blur show" style='opacity: 0' >
  <div class='container'>
  <div id='wrapper'>
    <div class='nav-sub'>
      <p class="title"></p>
      <ul class='switcher nav-list-h m-phone' id="pjax-header-nav-list">
        <li><a id="s-comment" class="fa-solid fa-comments fa-fw" target="_self"  href="/" onclick="return false;" title="comment"></a></li>
        
          <li><a id="s-toc" class="s-toc fa-solid fa-list fa-fw" target="_self"  href="/" onclick="return false;" title="toc"></a></li>
        
      </ul>
    </div>
		<div class="nav-main">
      
        
        <a class="title flat-box" target="_self" href='/'>
          
            <img no-lazy class='logo' src='/images/Head.jpg'/>
          
          
          
        </a>
      

			<div class='menu navigation'>
				<ul class='nav-list-h m-pc'>
          
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/" title="ÂçöÂÆ¢"
                  
                  
                  
                    active-action="action-home"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>ÂçöÂÆ¢
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/categories/" title="ÂàÜÁ±ª"
                  
                  
                  
                    active-action="action-categories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>ÂàÜÁ±ª
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/tags/" title="Ê†áÁ≠æ"
                  
                  
                  
                    active-action="action-tags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>Ê†áÁ≠æ
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/archives/" title="ÂΩíÊ°£"
                  
                  
                  
                    active-action="action-archives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>ÂΩíÊ°£
                </a>
                
              </li>
            
          
          
            
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/about/" title="ÂÖ≥‰∫é"
                  
                  
                  
                    active-action="action-about"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>ÂÖ≥‰∫é
                </a>
                
              </li>
            
          
          
				</ul>
			</div>
      
      <div class="m_search">
        <form name="searchform" class="form u-search-form">
          <i class="icon fa-solid fa-search fa-fw"></i>
          <input type="text" class="input u-search-input" placeholder="Search..." />
        </form>
      </div>
      

			<ul class='switcher nav-list-h m-phone'>
				
					<li><a class="s-search fa-solid fa-search fa-fw" target="_self" href="/" onclick="return false;" title="search"></a></li>
				
				<li>
          <a class="s-menu fa-solid fa-bars fa-fw" target="_self" href="/" onclick="return false;" title="menu"></a>
          <ul class="menu-phone list-v navigation white-box">
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/" title="ÂçöÂÆ¢"
                  
                  
                  
                    active-action="action-home"
                  >
                  <i class='fa-solid fa-rss fa-fw'></i>ÂçöÂÆ¢
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/categories/" title="ÂàÜÁ±ª"
                  
                  
                  
                    active-action="action-categories"
                  >
                  <i class='fa-solid fa-folder-open fa-fw'></i>ÂàÜÁ±ª
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/tags/" title="Ê†áÁ≠æ"
                  
                  
                  
                    active-action="action-tags"
                  >
                  <i class='fa-solid fa-tags fa-fw'></i>Ê†áÁ≠æ
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/archives/" title="ÂΩíÊ°£"
                  
                  
                  
                    active-action="action-archives"
                  >
                  <i class='fa-solid fa-archive fa-fw'></i>ÂΩíÊ°£
                </a>
                
              </li>
            
          
            
              
            
              <li>
                <a class="menuitem flat-box faa-parent animated-hover"
                href="/about/" title="ÂÖ≥‰∫é"
                  
                  
                  
                    active-action="action-about"
                  >
                  <i class='fa-solid fa-info-circle fa-fw'></i>ÂÖ≥‰∫é
                </a>
                
              </li>
            
          
            
          </ul>
        </li>
			</ul>

      <!-- Custom Files header begin -->
      
      <!-- Custom Files header end -->
		</div>
	</div>
  </div>
</header>

    <div id="l_body">
      <div id="l_cover">
  
    
      <!-- see: /layout/_partial/scripts/_ctrl/coverCtrl.ejs -->
      <div id="none" class='cover-wrapper post dock' style="display: none;">
        
  <div class='cover-bg lazyload placeholder' data-bg="https://fastly.jsdelivr.net/gh/MHG-LAB/cron@gh-pages/bing/bing.jpg"></div>

<div class='cover-body'>
  <div class='top'>
    
    
      <p class="title">ALittleGarbageÁöÑÂçöÂÆ¢</p>
    
    
      <p class="subtitle">ÂèñÊ≥ï‰∫é‰∏äÔºå‰ªÖÂæóÂÖ∂‰∏≠ÔºåÂèñÊ≥ï‰∫é‰∏≠Ôºå‰ªÖÂæóÂÖ∂Êú´„ÄÇ</p>
    
  </div>
  <div class='bottom'>
    <div class='menu navigation'>
      <div class='list-h'>
        
      </div>
    </div>
  </div>
</div>

        <div id="scroll-down" style="display: none;"><i class="fa fa-chevron-down scroll-down-effects"></i></div>
      </div>
    
  
</div>

      <div id="safearea">
        <div class="body-wrapper">
          
<div id="l_main" class=''>
  <article itemscope itemtype="http://schema.org/Article" class="article post white-box reveal md shadow floatable blur article-type-post" id="post" itemscope itemprop="blogPost">
  <link itemprop="mainEntityOfPage" href="http://example.com/2022/10/08/Java/MySQL/">
  <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
    <meta itemprop="name" content="Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ">
  </span>
  <span hidden itemprop="post" itemscope itemtype="http://schema.org/Post">
    <meta itemprop="name" content="Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ">
    <meta itemprop="description" content="‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢">
  </span>
  


  
    <span hidden>
      <meta itemprop="image" content="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png">
    </span>
  
  <div class="article-meta" id="top">
    
    
    
      <h1 class="title" itemprop="name headline">
        MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞
      </h1>
      <div class='new-meta-box'>
        
          
            
<div class='new-meta-item author' itemprop="author" itemscope itemtype="http://schema.org/Person">
  <a itemprop="url" class='author' href="/" rel="nofollow">
    <img itemprop="image" src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/apple-touch-icon.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/apple-touch-icon.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
    <p itemprop="name">‰∏Ä‰∏™Â∞èÂûÉÂúæ</p>
  </a>
</div>

          
        
          
            
  <div class='new-meta-item category'>
    <i class="fa-solid fa-folder-open fa-fw" aria-hidden="true"></i>
    <a class="category-link" href="/categories/Java/">Java</a>
    
      <span hidden itemprop="about" itemscope itemtype="http://schema.org/Thing">
        <a href="/categories/Java/" itemprop="url"><span itemprop="name">Java</span></a>
      </span>
    
  </div>


          
        
          
            <div class="new-meta-item date" itemprop="dateCreated datePublished" datetime="2022-10-08T15:37:44+08:00">
  <a class='notlink'>
    <i class="fa-solid fa-calendar-alt fa-fw" aria-hidden="true"></i>
    <p>ÂèëÂ∏É‰∫éÔºö2022Âπ¥10Êúà8Êó•</p>
  </a>
</div>

          
        
          
            


<div class="new-meta-item browse">
  <a class='notlink'>
    <p>
      <i class="fa-solid fa-eye fa-fw" aria-hidden="true"></i>
      
      <span>Ê¨°ÊµèËßà</span>
    </p>
  </a>
</div>


          
        
        <!-- Custom Files topMeta begin-->
        
        <!-- Custom Files topMeta end-->
      </div>
    
  </div>


  <div id="layoutHelper-page-plugins"></div>
  <div id="post-body" itemprop="articleBody">
    <h1 id="ËøõÈò∂"><a href="#ËøõÈò∂" class="headerlink" title="ËøõÈò∂"></a>ËøõÈò∂</h1><ul>
<li><p>DDLÔºöÊï∞ÊçÆÂÆö‰πâËØ≠Ë®Ä	 </p>
</li>
<li><p>DMLÔºöÊï∞ÊçÆÊìç‰ΩúËØ≠Ë®Ä	</p>
</li>
<li><p>DQLÔºöÊï∞ÊçÆÊü•ËØ¢ËØ≠Ë®Ä</p>
</li>
<li><p>DCLÔºöÊï∞ÊçÆÊéßÂà∂ËØ≠Ë®Ä</p>
</li>
</ul>
<div class="story post-story"><h2 id="1-Â≠òÂÇ®ÂºïÊìé"><a href="#1-Â≠òÂÇ®ÂºïÊìé" class="headerlink" title="1.Â≠òÂÇ®ÂºïÊìé"></a>1.Â≠òÂÇ®ÂºïÊìé</h2><h3 id="1-1-MySQL‰ΩìÁ≥ªÁªìÊûÑ"><a href="#1-1-MySQL‰ΩìÁ≥ªÁªìÊûÑ" class="headerlink" title="1.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ"></a>1.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ</h3><ul>
<li><p>ËøûÊé•Â±Ç</p>
<p>ÊúÄ‰∏äÂ±ÇÊòØ‰∏Ä‰∫õÂÆ¢Êà∑Á´ØÂíåÈìæÊé•ÊúçÂä°Ôºå‰∏ªË¶ÅÂÆåÊàê‰∏Ä‰∫õÁ±ª‰ºº‰∫éËøûÊé•Â§ÑÁêÜ„ÄÅÊéàÊùÉËÆ§ËØÅ„ÄÅÂèäÁõ∏ÂÖ≥ÁöÑÂÆâÂÖ®ÊñπÊ°à„ÄÇÊúçÂä°Âô®‰πü‰ºö‰∏∫ÂÆâÂÖ®Êé•ÂÖ•ÁöÑÊØè‰∏™ÂÆ¢Êà∑Á´ØÈ™åËØÅÂÆÉÊâÄÂÖ∑ÊúâÁöÑÊìç‰ΩúÊùÉÈôê„ÄÇ</p>
</li>
<li><p>ÊúçÂä°Â±Ç</p>
<p>Á¨¨‰∫åÂ±ÇÊû∂ÊûÑ‰∏ªË¶ÅÂÆåÊàêÂ§ßÂ§öÊï∞ÁöÑÊ†∏ÂøÉÊúçÂä°ÂäüËÉΩÔºåÂ¶ÇSQLÊé•Âè£ÔºåÂπ∂ÂÆåÊàêÁºìÂ≠òÁöÑÊü•ËØ¢ÔºåSQLÁöÑÂàÜÊûêÂíå‰ºòÂåñÔºåÈÉ®ÂàÜÂÜÖÁΩÆË•øÊï∞ÁöÑÊâßË°å„ÄÇÊâÄÊúâË∑®Â≠òÂÇ®ÂºïÊìéÁöÑÂäüËÉΩ‰πüÂú®Ëøô‰∏ÄÂ±ÇÂÆûÁé∞ÔºåÂ¶ÇËøáÁ®ã„ÄÅÂáΩÊï∞Á≠â„ÄÇ</p>
</li>
<li><p>ÂºïÊìéÂ±Ç</p>
<p>Â≠òÂÇ®ÂºïÊìéÁúüÊ≠£ÁöÑË¥üË¥£‰∫ÜMySQL‰∏≠Êï∞ÊçÆÁöÑÂ≠òÂÇ®ÂíåÊèêÂèñÔºåÊúçÂä°Âô®ÈÄöËøáAPIÂíåÂ≠òÂÇ®ÂºïÊìéËøõË°åÈÄö‰ø°„ÄÇ‰∏çÂêåÁöÑÂ≠òÂÇ®ÂºïÊìéÂÖ∑Êúâ‰∏çÂêåÁöÑÂäüËÉΩÔºåËøôÊ†∑Êàë‰ª¨ÂèØ‰ª•Ê†πÊçÆËá™Â∑±ÁöÑÈúÄË¶ÅÔºåÊù•ÈÄâÂèñÂêàÈÄÇÁöÑÂ≠òÂÇ®ÂºïÊìé</p>
</li>
<li><p>Â≠òÂÇ®Â±Ç</p>
<p>‰∏ªË¶ÅÊòØÂ∞ÜÊï∞ÊçÆÂ≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰πã‰∏äÔºåÂπ∂ÂÆåÊàê‰∏éÂ≠òÂÇ®ÂºïÊìéÁöÑ‰∫§‰∫í</p>
</li>
</ul>
<h3 id="1-2-Â≠òÂÇ®ÂºïÊìéÁÆÄ‰ªã"><a href="#1-2-Â≠òÂÇ®ÂºïÊìéÁÆÄ‰ªã" class="headerlink" title="1.2 Â≠òÂÇ®ÂºïÊìéÁÆÄ‰ªã"></a>1.2 Â≠òÂÇ®ÂºïÊìéÁÆÄ‰ªã</h3><p>Â≠òÂÇ®ÂºïÊìéÂ∞±ÊòØÂ≠òÂÇ®Êï∞ÊçÆ„ÄÅÂª∫Á´ãÁ¥¢Âºï„ÄÅÊõ¥Êñ∞&#x2F;Êü•ËØ¢Êï∞ÊçÆÁ≠âÊäÄÊúØÁöÑÂÆûÁé∞ÊñπÂºè„ÄÇÂ≠òÂÇ®ÂºïÊìéÊòØÂü∫‰∫éË°®ÁöÑÔºåËÄå‰∏çÊòØÂü∫‰∫éÂ∫ìÁöÑÔºåÊâÄ‰ª•Â≠òÂÇ®ÂºïÊìé‰πüÂèØË¢´Áß∞‰∏∫Ë°®Á±ªÂûã</p>
<ol>
<li><p>Âú®ÂàõÂª∫Ë°®Êó∂ÔºåÊåáÂÆöÂ≠òÂÇ®ÂºïÊìé</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Ë°®Âêç(</span><br><span class="line">  Â≠óÊÆµ Â≠óÊÆµÁ±ªÂûã[COMMENT Â≠óÊÆµÊ≥®Èáä],</span><br><span class="line">  ......</span><br><span class="line">)ENGINE<span class="operator">=</span>INNODB[COMMENT Ë°®Ê≥®Èáä];</span><br></pre></td></tr></table></figure>
</li>
<li><p>Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÊîØÊåÅÁöÑÂ≠òÂÇ®ÂºïÊìé</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SHOW ENGINES;</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="1-3-Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ"><a href="#1-3-Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ" class="headerlink" title="1.3 Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ"></a>1.3 Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ</h3><ul>
<li><p>InnoDB</p>
<blockquote>
<ul>
<li>‰ªãÁªç</li>
</ul>
</blockquote>
</li>
</ul>
<blockquote>
<p>  InnoDBÊòØ‰∏ÄÁßçÂÖºÈ°æÈ´òÂèØÈù†ÊÄßÂíåÈ´òÊÄßËÉΩÁöÑÈÄöÁî®Â≠òÂÇ®ÂºïÊìéÔºåÂú® MySQL5.5 ‰πãÂêéÔºåInnoDBÊòØÈªòËÆ§ÁöÑ MySQL Â≠òÂÇ®ÂºïÊìé</p>
<ul>
<li><p>ÁâπÁÇπ</p>
<p>DMLÊìç‰ΩúÈÅµÂæ™ACIDÊ®°ÂûãÔºåÊîØÊåÅ<strong>‰∫ãÂä°</strong></p>
<p><strong>Ë°åÁ∫ßÈîÅ</strong>ÔºåÊèêÈ´òÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩ</p>
<p>ÊîØÊåÅ<strong>Â§ñÈîÆ</strong> FOREIGN KEYÁ∫¶ÊùüÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÂíåÊ≠£Á°ÆÊÄßÔºõ</p>
</li>
<li><p>Êñá‰ª∂</p>
<p><code>xxx.ibd</code>Ôºöxxx‰ª£Ë°®ÁöÑÊòØË°®ÂêçÔºåinnoDBÂºïÊìéÁöÑÊØèÂº†Ë°®ÈÉΩ‰ºöÂØπÂ∫îËøôÊ†∑‰∏Ä‰∏™Ë°®Á©∫Èó¥Êñá‰ª∂ÔºåÂ≠òÂÇ®ËØ•Ë°®ÁöÑË°®ÁªìÊûÑ(frm„ÄÅsdi)„ÄÅÊï∞ÊçÆÂíåÁ¥¢Âºï„ÄÇ<br>ÂèÇÊï∞Ôºö<code>innodb file_per_table</code></p>
</li>
</ul>
</blockquote>
<ul>
<li><p>MyISAM</p>
<blockquote>
<ul>
<li>‰ªãÁªç</li>
</ul>
</blockquote>
</li>
</ul>
<blockquote>
<p>  MyISAMÊòØMySQLÊó©ÊúüÁöÑÈªòËÆ§Â≠òÂÇ®ÂºïÊìé„ÄÇ</p>
<ul>
<li><p>ÁâπÁÇπ</p>
<p>‰∏çÊîØÊåÅ‰∫ãÂä°Ôºå‰∏çÊîØÊåÅÂ§ñÈîÆ</p>
<p>ÊîØÊåÅË°®ÈîÅÔºå‰∏çÊîØÊåÅË°åÈîÅ</p>
<p>ËÆøÈóÆÈÄüÂ∫¶Âø´</p>
</li>
<li><p>Êñá‰ª∂<br><code>xxx.sdi</code>ÔºöÂ≠òÂÇ®Ë°®ÁªìÊûÑ‰ø°ÊÅØ<br><code>xxx.MYD</code>ÔºöÂ≠òÂÇ®Êï∞ÊçÆ<br><code>xxx.MYI</code>ÔºöÂ≠òÂÇ®Á¥¢Âºï</p>
</li>
</ul>
</blockquote>
<ul>
<li><p>Memory</p>
<blockquote>
<ul>
<li><p>‰ªãÁªç</p>
<p>MemoryÂºïÊìéÁöÑË°®Êï∞ÊçÆÊó∂Â≠òÂÇ®Âú®ÂÜÖÂ≠ò‰∏≠ÁöÑÔºåÁî±‰∫éÂèóÂà∞Á°¨‰ª∂ÈóÆÈ¢ò„ÄÅÊàñÊñ≠ÁîµÈóÆÈ¢òÁöÑÂΩ±ÂìçÔºåÂè™ËÉΩÂ∞ÜËøô‰∫õË°®‰Ωú‰∏∫‰∏¥Êó∂Ë°®ÊàñÁºìÂ≠ò‰ΩøÁî®</p>
</li>
<li><p>ÁâπÁÇπ</p>
<p>ÂÜÖÂ≠òÂ≠òÊîæ</p>
<p>hashÁ¥¢ÂºïÔºàÈªòËÆ§Ôºâ</p>
</li>
<li><p>Êñá‰ª∂</p>
<p><code>xxx.sdi</code>ÔºöÂ≠òÂÇ®Ë°®ÁªìÊûÑ‰ø°ÊÅØ</p>
</li>
</ul>
</blockquote>
</li>
</ul>
<table>
<thead>
<tr>
<th align="center">ÁâπÁÇπ</th>
<th align="center">InnoDB</th>
<th align="center">MyISAM</th>
<th align="center">Memory</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Â≠òÂÇ®ÈôêÂà∂</td>
<td align="center">64TB</td>
<td align="center">Êúâ</td>
<td align="center">Êúâ</td>
</tr>
<tr>
<td align="center">‰∫ãÂä°ÂÆâÂÖ®</td>
<td align="center"><strong>ÊîØÊåÅ</strong></td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">ÈîÅÊú∫Âà∂</td>
<td align="center"><strong>Ë°åÈîÅ</strong></td>
<td align="center">Ë°®ÈîÅ</td>
<td align="center">Ë°®ÈîÅ</td>
</tr>
<tr>
<td align="center">B+treeÁ¥¢Âºï</td>
<td align="center">ÊîØÊåÅ</td>
<td align="center">ÊîØÊåÅ</td>
<td align="center">ÊîØÊåÅ</td>
</tr>
<tr>
<td align="center">HashÁ¥¢Âºï</td>
<td align="center">-</td>
<td align="center">-</td>
<td align="center">ÊîØÊåÅ</td>
</tr>
<tr>
<td align="center">ÂÖ®ÊñáÁ¥¢Âºï</td>
<td align="center">ÊîØÊåÅ(5.6ÁâàÊú¨Âêé)</td>
<td align="center">ÊîØÊåÅ</td>
<td align="center">-</td>
</tr>
<tr>
<td align="center">Á©∫Èó¥‰ΩøÁî®</td>
<td align="center">È´ò</td>
<td align="center">‰Ωé</td>
<td align="center">N&#x2F;A</td>
</tr>
<tr>
<td align="center">ÂÜÖÂ≠ò‰ΩøÁî®</td>
<td align="center">È´ò</td>
<td align="center">‰Ωé</td>
<td align="center">‰∏≠Á≠â</td>
</tr>
<tr>
<td align="center">ÊâπÈáèÊèíÂÖ•ÈÄüÂ∫¶</td>
<td align="center">‰Ωé</td>
<td align="center">È´ò</td>
<td align="center">È´ò</td>
</tr>
<tr>
<td align="center">ÊîØÊåÅÂ§ñÈîÆ</td>
<td align="center"><strong>ÊîØÊåÅ</strong></td>
<td align="center">-</td>
<td align="center">-</td>
</tr>
</tbody></table>
<h3 id="1-4-Â≠òÂÇ®ÂºïÊìéÁöÑÂ∫îÁî®Âú∫ÊôØ"><a href="#1-4-Â≠òÂÇ®ÂºïÊìéÁöÑÂ∫îÁî®Âú∫ÊôØ" class="headerlink" title="1.4 Â≠òÂÇ®ÂºïÊìéÁöÑÂ∫îÁî®Âú∫ÊôØ"></a>1.4 Â≠òÂÇ®ÂºïÊìéÁöÑÂ∫îÁî®Âú∫ÊôØ</h3><p>Âú®ÈÄâÊã©Â≠òÂÇ®ÂºïÊìéÊó∂ÔºåÂ∫îËØ•Ê†πÊçÆÂ∫îÁî®Á≥ªÁªüÁöÑÁâπÁÇπÈÄâÊã©ÂêàÈÄÇÁöÑÂ≠òÂÇ®Âºï1Êìé„ÄÇÂØπ‰∫éÂ§çÊùÇÁöÑÂ∫îÁî®Á≥ªÁªüÔºåËøòÂèØ‰ª•Ê†πÊçÆÂÆûÈôÖÊÉÖÂÜµÈÄâÊã©Â§öÁßçÂ≠òÂÇ®ÂºïÊìéËøõË°åÁªÑÂêà„ÄÇ</p>
<ul>
<li><p>InnoDBÔºö</p>
<p>ÊòØMySQLÁöÑÈªòËÆ§Â≠òÂÇ®ÂºïÊìéÔºåÊîØÊåÅ‰∫ãÂä°„ÄÅÂ§ñÈîÆ„ÄÇÂ¶ÇÊûúÂ∫îÁî®ÂØπ‰∫ãÂä°ÁöÑÂÆåÊï¥ÊÄßÊúâÊØîËæÉÈ´òÁöÑË¶ÅÊ±ÇÔºåÂú®Âπ∂ÂèëÊù°‰ª∂‰∏ãË¶ÅÊ±ÇÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºåÊï∞ÊçÆÊìç‰ΩúÈô§‰∫ÜÊèíÂÖ•ÂíåÊü•ËØ¢‰πãÂ§ñÔºåËøòÂåÖÂê´ÂæàÂ§öÁöÑÊõ¥Êñ∞„ÄÅËÑöÈô§Êìç‰ΩúÔºåÈÇ£‰πàinnoDBÂ≠òÂÇ®ÂºïÊìéÊòØÊØîËæÉÂêàÈÄÇÁöÑÈÄâÊã©„ÄÇ</p>
</li>
<li><p>MyISAMÔºö(MongoDBÂèñ‰ª£)</p>
<p>Â¶ÇÊûúÂ∫îÁî®ÊòØ‰ª•ËØªÊìç‰ΩúÂíåÊèíÂÖ•Êìç‰Ωú‰∏∫‰∏ªÔºåÂè™ÊúâÂæàÂ∞ëÁöÑÊõ¥Êñ∞ÂíåÂà†Èô§Êìç‰ΩúÔºå‰∫ï‰∏îÂØπ‰∫ãÂä°ÁöÑÂÆåÊï¥ÊÄß„ÄÅÂπ∂ÂèëÊÄßË¶ÅÊ±Ç‰∏çÊòØÂæàÈ´òÔºåÈÇ£‰πàÈÄâÊã©Ëøô‰∏™Â≠òÂÇ®ÂºïÊìéÊòØÈùûÂ∏∏ÂêàÈÄÇÁöÑ„ÄÇ</p>
</li>
<li><p>MEMORYÔºö(RedisÂèñ‰ª£)</p>
<p>Â∞ÜÊâÄÊúâÊï∞ÊçÆ‰øùÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËÆøÈóÆÈÄüÂ∫¶Âø´ÔºåÈÄöÂ∏∏Áî®‰∫é‰∏¥Êó∂Ë°®ÂèäÁºìÂ≠ò„ÄÇMEMORYÁöÑÁº∫Èô∑Â∞±ÊòØÂØπË°®ÁöÑÂ§ßÂ∞èÊúâÈôêÂà∂ÔºåÂ§™Â§ßÁöÑË°®Êó†Ê≥ïÁºìÂ≠òÂú®ÂÜÖÂ≠ò‰∏≠ÔºåËÄå‰∏îÊó†Ê≥ï‰øùÈöúÊï∞ÊçÆÁöÑÂÆâÂÖ®ÊÄß„ÄÇ</p>
</li>
</ul>
</div><div class="story post-story"><h2 id="2-Á¥¢Âºï"><a href="#2-Á¥¢Âºï" class="headerlink" title="2.Á¥¢Âºï"></a>2.Á¥¢Âºï</h2><h3 id="2-1-Ê¶ÇËø∞"><a href="#2-1-Ê¶ÇËø∞" class="headerlink" title="2.1 Ê¶ÇËø∞"></a>2.1 Ê¶ÇËø∞</h3><p>Á¥¢Âºï(index)ÊòØÂ∏ÆÂä©MySQL **È´òÊïàËé∑ÂèñÊï∞ÊçÆÁöÑÊï∞ÊçÆÁªìÊûÑ(ÊúâÂ∫è)**„ÄÇÂú®Êï∞ÊçÆ‰πãÂ§ñÔºåÊï∞ÊçÆÂ∫ìÁ≥ªÁªüËøòÁª¥Êä§ÁùÄÊª°Ë∂≥ÁâπÂÆöÊü•ÊâæÁÆóÊ≥ïÁöÑÊï∞ÊçÆÁªìÊûÑÔºåËøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰ª•ÊüêÁßçÊñπÂºèÂºïÁî®(ÊåáÂêë)Êï∞ÊçÆÔºå ËøôÊ†∑Â∞±ÂèØ‰ª•Âú®Ëøô‰∫õÊï∞ÊçÆÁªìÊûÑ‰∏äÂÆûÁé∞È´òÁ∫ßÊü•ÊâæÁÆóÊ≥ïÔºåËøôÁßçÊï∞ÊçÆÁªìÊûÑÂ∞±ÊòØÁ¥¢Âºï„ÄÇ</p>
<p>‰ºòÁº∫ÁÇπÔºö</p>
<table>
<thead>
<tr>
<th align="center">‰ºòÂäø</th>
<th align="center">Âä£Âäø</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ÊçÆÊ£ÄÁ¥¢ÁöÑÊïàÁéáÔºåÈôç‰ΩéÊï∞ÊçÆÂ∫ìÁöÑIOÊàêÊú¨</td>
<td align="center">Á¥¢ÂºïÂàó‰πüÊòØË¶ÅÂç†Áî®Á©∫Èó¥ÁöÑ„ÄÇ</td>
</tr>
<tr>
<td align="center">ÈÄöËøáÁ¥¢ÂºïÂàóÂØπÊï∞ÊçÆËøõË°åÊéíÂ∫èÔºåÈôç‰ΩéÊï∞ÊçÆÊéíÂ∫èÁöÑÊàêÊú¨ÔºåÈôç‰ΩéCPUÁöÑÊ∂àËÄó</td>
<td align="center">Á¥¢ÂºïÂ§ßÂ§ßÊèêÈ´ò‰∫ÜÊü•ËØ¢ÊïàÁéáÔºåÂêåÊó∂Âç¥‰πüÈôç‰ΩéÊõ¥Êñ∞Ë°®ÁöÑÈÄüÂ∫¶ÔºåÂ¶ÇÂØπË°®ËøõË°åINSERT„ÄÅUPDATE„ÄÅDELETEÊó∂ÔºåÊïàÁéáÈôç‰Ωé„ÄÇ</td>
</tr>
</tbody></table>
<h3 id="2-2-ÁªìÊûÑ"><a href="#2-2-ÁªìÊûÑ" class="headerlink" title="2.2 ÁªìÊûÑ"></a>2.2 ÁªìÊûÑ</h3><p>MySQLÁöÑÁ¥¢ÂºïÊòØÂú®Â≠òÂÇ®ÂºïÊìéÂ±ÇÂÆûÁé∞ÁöÑÔºå‰∏çÂêåÁöÑÂ≠òÂÇ®ÂºïÊìéÊúâ‰∏çÂêåÁöÑÁªìÊûÑÔºå‰∏ªË¶ÅÂåÖÂê´‰ª•‰∏ãÂá†ÁßçÔºö</p>
<table>
<thead>
<tr>
<th>Á¥¢ÂºïÁªìÊûÑ</th>
<th>ÊèèËø∞</th>
</tr>
</thead>
<tbody><tr>
<td>B+TreeÁ¥¢Âºï</td>
<td>ÊúÄÂ∏∏ËßÅÁöÑÁ¥¢ÂºïÁ±ªÂûãÔºåÂ§ßÈÉ®ÂàÜÂºïÊìéÈÉΩÊîØÊåÅ B+Ê†ëÁ¥¢Âºï</td>
</tr>
<tr>
<td>HashÁ¥¢Âºï</td>
<td>Â∫ïÂ±ÇÊï∞ÊçÆÁªìÊûÑÊòØÁî®ÂìàÂ∏åË°®ÂÆûÁé∞ÁöÑÔºåÂè™ÊúâÁ≤æÁ°ÆÂåπÈÖçÁ¥¢ÂºïÂàóÁöÑÊü•ËØ¢ÊâçÊúâÊïà,‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢</td>
</tr>
<tr>
<td>R-Tree(Á©∫Èó¥Á¥¢Âºï)</td>
<td>Á©∫Èó¥Á¥¢ÂºïÊòØMyISANÂºïÊìéÁöÑ‰∏Ä‰∏™ÁâπÊÆäÁ¥¢ÂºïÁ±ªÂûãÔºå‰∏ªË¶ÅÁî®‰∫éÂú∞ÁêÜÁ©∫ÈóÆÊï∞ÊçÆÁ±ªÂûãÔºåÈÄöÂ∏∏‰ΩøÁî®ËæÉÂ∞ë</td>
</tr>
<tr>
<td>Full-Text(ÂÖ®ÊñáÁ¥¢Âºï)</td>
<td>ÊòØ‰∏ÄÁßçÈÄöËøáÂª∫Á´ãÂÄíÊéíÁ¥¢Âºï,Âø´ÈÄüÂåπÈÖçÊñáÊ°£ÁöÑÊñπÂºè„ÄÇÁ±ª‰ºº‰∫éLucene„ÄÅSolr„ÄÅES</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>Á¥¢Âºï</th>
<th>InnoDB</th>
<th>MyISAM</th>
<th>Memory</th>
</tr>
</thead>
<tbody><tr>
<td>B+TreeÁ¥¢Âºï</td>
<td>:white_check_mark:</td>
<td>:white_check_mark:</td>
<td>:white_check_mark:</td>
</tr>
<tr>
<td>HashÁ¥¢Âºï</td>
<td>:x:</td>
<td>:x:</td>
<td>:white_check_mark:</td>
</tr>
<tr>
<td>R-TreeÁ¥¢Âºï</td>
<td>:x:</td>
<td>:white_check_mark:</td>
<td>:x:</td>
</tr>
<tr>
<td>Full-TextÁ¥¢Âºï</td>
<td>5.6ÁâàÊú¨Âêé:white_check_mark:</td>
<td>:white_check_mark:</td>
<td>:x:</td>
</tr>
</tbody></table>
<p>Êàë‰ª¨Âπ≥Â∏∏ÊâÄËØ¥ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûúÊ≤°ÊúâÁâπÂà´ÊåáÊòéÔºåÈÉΩÊòØÊåáB+Ê†ëÁªìÊûÑÁªÑÁªáÁöÑÁ¥¢Âºï„ÄÇ</p>
<p><strong>‰∫åÂèâÊ†ëÔºö</strong></p>
<img src="https://s2.loli.net/2022/10/08/clGrwayNSAYbVPi.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/clGrwayNSAYbVPi.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008163852043.png" style="zoom:67%;" />



<p>‰∫åÂèâÊ†ëÁº∫ÁÇπÔºöÈ°∫Â∫èÊèíÂÖ•Êó∂Ôºå‰ºöÂΩ¢Êàê‰∏Ä‰∏™ÈìæË°®ÔºåÊü•ËØ¢ÊÄßËÉΩÂ§ßÂ§ßÈôç‰Ωé„ÄÇÂ§ßÊï∞ÊçÆÈáèÊÉÖÂÜµ‰∏ãÔºåÂ±ÇÁ∫ßËæÉÊ∑±ÔºåÊ£ÄÁ¥¢ÈÄüÂ∫¶ÊÖ¢„ÄÇ</p>
<p>Á∫¢ÈªëÊ†ëÔºöÂ§ßÊï∞ÊçÆÈáèÊÉÖÂÜµ‰∏ãÔºåÂ±ÇÁ∫ßËæÉÊ∑±ÔºåÊ£ÄÁ¥¢ÈÄüÂ∫¶ÊÖ¢„ÄÇ</p>
<p><strong>B-Tree(Â§öË∑ØÂπ≥Ë°°Êü•ÊâæÊ†ë)</strong></p>
<p>‰ª•‰∏ÄÈ¢óÊúÄÂ§ßÂ∫¶Êï∞‰∏∫5ÁöÑ(5Èò∂)B-Tree‰∏∫‰æãÔºö</p>
<p>Ê≥®ÊÑèÔºöÊï∞ÁöÑÂ∫¶Êï∞ÊåáÁöÑÊòØ‰∏Ä‰∏™ÁªìÁÇπÁöÑÂ≠êËäÇÁÇπÊï∞</p>
<img src="https://s2.loli.net/2022/10/08/wdhgr3pmaDU6Lnj.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/wdhgr3pmaDU6Lnj.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008164715771.png" style="zoom: 50%;" />



<p><strong>B+Tree</strong></p>
<p>‰ª•‰∏ÄÈ¢óÊúÄÂ§ßÂ∫¶Êï∞‰∏∫3ÁöÑ(3Èò∂)B+Tree‰∏∫‰æãÔºö</p>
<img src="https://s2.loli.net/2022/10/08/QzROMgSdqV3wjFD.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/QzROMgSdqV3wjFD.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008164831179.png" style="zoom:67%;" />



<p>Áõ∏ÂØπ‰∫éB-TreeÁöÑÂå∫Âà´Ôºö</p>
<ul>
<li>ÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰ºöÂá∫Áé∞Âú®Âè∂Â≠êËäÇÁÇπ</li>
<li>Âè∂Â≠êËäÇÁÇπÂΩ¢Êàê‰∏Ä‰∏™ÂçïÂêëÈìæË°®</li>
</ul>
<p>ËÄåMySQLÁ¥¢ÂºïÊï∞ÊçÆÁªìÊûÑÂØπÁªèÂÖ∏ÁöÑB+TreeËøõË°å‰∫Ü‰ºòÂåñ„ÄÇÂú®ÂéüB+TreeÁöÑÂü∫Á°Ä‰∏äÔºåÂ¢ûÂä†‰∏Ä‰∏™ÊåáÂêëÁõ∏ÈÇªÂè∂Â≠êËäÇÁÇπÁöÑÈìæË°®ÊåáÈíàÔºåÂ∞±ÂΩ¢Êàê‰∫ÜÂ∏¶ÊúâÈ°∫Â∫èÊåáÈíàÁöÑB+TreeÔºåÊèêÈ´òÂå∫Èó¥ËÆøÈóÆÁöÑÊÄßËÉΩ„ÄÇ</p>
<img src="https://s2.loli.net/2022/10/08/FilXt48mcz1bUyL.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/FilXt48mcz1bUyL.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008165043053.png" style="zoom:50%;" />



<p><strong>Hash</strong></p>
<p>ÂìàÂ∏åÁ¥¢ÂºïÂ∞±ÊòØÈááÁî®‰∏ÄÂÆöÁöÑhashÁÆóÊ≥ïÔºåÂ∞ÜÈîÆÂÄºÊç¢ÁÆóÊàêÊñ∞ÁöÑhashÂÄºÔºåÊò†Â∞ÑÂà∞ÂØπÂ∫îÁöÑÊßΩ‰Ωç‰∏äÔºåÁÑ∂ÂêéÂ≠òÂÇ®Âú®hashË°®‰∏≠„ÄÇ</p>
<img src="https://s2.loli.net/2022/10/08/GVer2oA9wFHzsY5.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/GVer2oA9wFHzsY5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008165246360.png" style="zoom: 67%;" />



<ul>
<li><strong>HashÁ¥¢ÂºïÁâπÁÇπ</strong></li>
</ul>
<ol>
<li>HashÁ¥¢ÂºïÂè™ËÉΩÁî®‰∫éÂØπÁ≠âÊØîËæÉ(&#x3D;Ôºåin)Ôºå‰∏çÊîØÊåÅËåÉÂõ¥Êü•ËØ¢(betweenÔºå&gt;ÔºåÔºúÔºå‚Ä¶)</li>
<li>Êó†Ê≥ïÂà©Áî®Á¥¢ÂºïÂÆåÊàêÊéíÂ∫èÊìç‰Ωú</li>
<li>Êü•ËØ¢ÊïàÁéáÈ´òÔºåÈÄöÂ∏∏Âè™ÈúÄË¶Å‰∏ÄÊ¨°Ê£ÄÁ¥¢Â∞±ÂèØ‰ª•‰∫ÜÔºåÊïàÁéáÈÄöÂ∏∏Ë¶ÅÈ´ò‰∫éB+treeÁ¥¢Âºï</li>
</ol>
<ul>
<li><p><strong>Â≠òÂÇ®ÂºïÊìéÊîØÊåÅ</strong></p>
<p>Âú®MySQL‰∏≠ÔºåÊîØÊåÅhashÁ¥¢ÂºïÁöÑÊòØMemoryÂºïÊìéÔºåËÄåInnoDB‰∏≠ÂÖ∑ÊúâËá™ÈÄÇÂ∫îhashÂäüËÉΩÔºåhashÁ¥¢ÂºïÊòØÂ≠òÂÇ®ÂºïÊìéÊ†πÊçÆB+TreeÁ¥¢ÂºïÂú®ÊåáÂÆöÊù°‰ª∂‰∏ãËá™Âä®ÊûÑÂª∫ÁöÑ„ÄÇ</p>
</li>
</ul>
<p><strong>ÊÄùËÄÉ</strong>Ôºö</p>
<p>‰∏∫‰ªÄ‰πàInnoDBÂ≠òÂÇ®ÂºïÊìéÈÄâÊã©‰ΩøÁî®B+treeÁ¥¢ÂºïÁªìÊûÑÔºü</p>
<ul>
<li>Áõ∏ÂØπ‰∫é‰∫åÂèâÊ†ëÔºåÂ±ÇÁ∫ßÊõ¥Â∞ëÔºåÊêúÁ¥¢ÊïàÁéáÈ´òÔºõ</li>
<li>ÂØπ‰∫éB-treeÔºåÊó†ËÆ∫ÊòØÂè∂Â≠êËäÇÁÇπËøòÊòØÈùûÂè∂Â≠êËäÇÁÇπÔºåÈÉΩ‰ºö‰øùÂ≠òÊï∞ÊçÆÔºåËøôÊ†∑ÂØºËá¥‰∏ÄÈ°µ‰∏≠Â≠òÂÇ®ÁöÑÈîÆÂÄºÂáèÂ∞ëÔºåÊåáÈíàË∑üÁùÄÂáèÂ∞ëÔºåË¶ÅÂêåÊ†∑‰øùÂ≠òÂ§ßÈáèÊï∞ÊçÆÔºåÂè™ËÉΩÂ¢ûÂä†Ê†ëÁöÑÈ´òÂ∫¶ÔºåÂØºËá¥ÊÄßËÉΩÈôç‰Ωé;</li>
<li>Áõ∏ÂØπ‰∫éHashÁ¥¢ÂºïÔºåB+TreeÊîØÊåÅËåÉÂõ¥ÂåπÈÖçÂèäÊéíÂ∫èÊìç‰Ωú;</li>
</ul>
<h3 id="2-3-ÂàÜÁ±ª"><a href="#2-3-ÂàÜÁ±ª" class="headerlink" title="2.3 ÂàÜÁ±ª"></a>2.3 ÂàÜÁ±ª</h3><table>
<thead>
<tr>
<th>ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
<th>ÂÖ≥ÈîÆÂ≠ó</th>
</tr>
</thead>
<tbody><tr>
<td>‰∏ªÈîÆÁ¥¢Âºï</td>
<td>ÈíàÂØπ‰∫éË°®‰∏≠‰∏ªÈîÆÂàõÂª∫ÁöÑÁ¥¢Âºï</td>
<td>ÈªòËÆ§Ëá™Âä®ÂàõÂª∫ÔºåÂè™ËÉΩÊúâ‰∏Ä‰∏™</td>
<td>PRIMARY</td>
</tr>
<tr>
<td>ÂîØ‰∏ÄÁ¥¢Âºï</td>
<td>ÈÅøÂÖçÂêå‰∏Ä‰∏™Ë°®‰∏≠ÊüêÊï∞ÊçÆÂàó‰∏≠ÁöÑÂÄºÈáçÂ§ç</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>UNIQUE</td>
</tr>
<tr>
<td>Â∏∏ËßÑÁ¥¢Âºï</td>
<td>Âø´ÈÄüÂÆö‰ΩçÁâπÂÆöÊï∞ÊçÆ</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td></td>
</tr>
<tr>
<td>ÂÖ®ÊñáÁ¥¢Âºï</td>
<td>ÂÖ®ÊñáÊ≥∞ÂºïÊü•ÊâæÁöÑÊòØÊñáÊú¨‰∏≠ÁöÑÂÖ≥ÈîÆËØçÔºå<br>ËÄå‰∏çÊòØÊØîËæÉÁ¥¢Âºï‰∏≠ÁöÑÂÄº</td>
<td>ÂèØ‰ª•ÊúâÂ§ö‰∏™</td>
<td>FULLTEXT</td>
</tr>
</tbody></table>
<p>Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠ÔºåÊ†πÊçÆÁ¥¢ÂºïÁöÑÂ≠òÂÇ®ÂΩ¢ÂºèÔºåÂèàÂèØ‰ª•ÂàÜ‰∏∫‰ª•‰∏ã‰∏§ÁßçÔºö</p>
<table>
<thead>
<tr>
<th align="center">ÂàÜÁ±ª</th>
<th>Âê´‰πâ</th>
<th>ÁâπÁÇπ</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ËÅöÈõÜÁ¥¢Âºï<br>(Clustered Index)</td>
<td>Â∞ÜÊï∞ÊçÆÂ≠òÂÇ®‰∏éÁ¥¢ÂºïÊîæÂà∞‰∫Ü‰∏ÄÂùóÔºå<br>Á¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπ‰øùÂ≠ò‰∫Ü<strong>Ë°åÊï∞ÊçÆ</strong></td>
<td>ÂøÖÈ°ªÊúâ,ËÄå‰∏îÂè™Êúâ‰∏Ä‰∏™</td>
</tr>
<tr>
<td align="center">‰∫åÁ∫ßÁ¥¢Âºï<br>(Secondary Index)</td>
<td>Â∞ÜÊï∞ÊçÆ‰∏éÁ¥¢ÂºïÂàÜÂºÄÂ≠òÂÇ®Ôºå<br>Á¥¢ÂºïÁªìÊûÑÁöÑÂè∂Â≠êËäÇÁÇπÂÖ≥ËÅîÁöÑÊòØ<strong>ÂØπÂ∫îÁöÑ‰∏ªÈîÆ</strong></td>
<td>ÂèØ‰ª•Â≠òÂú®Â§ö‰∏™</td>
</tr>
</tbody></table>
<p>ËÅöÈõÜÁ¥¢ÂºïÈÄâÂèñËßÑÂàôÔºö</p>
<ul>
<li>Â¶ÇÊûúÂ≠òÂú®‰∏ªÈîÆÔºå‰∏ªÈîÆÁ¥¢ÂºïÂ∞±ÊòØËÅöÈõÜÁ¥¢Âºï„ÄÇ</li>
<li>Â¶ÇÊûú‰∏çÂ≠òÂú®‰∏ªÈîÆÔºåÂ∞Ü‰ΩøÁî®Á¨¨‰∏Ä‰∏™ÂîØ‰∏Ä(UNIQUE)Á¥¢Âºï‰Ωú‰∏∫ËÅöÈõÜÁ¥¢Âºï„ÄÇ</li>
<li>Â¶ÇÊûúË°®Ê≤°Êúâ‰∏ªÈîÆÔºåÊàñÊ≤°ÊúâÂêàÈÄÇÁöÑÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂàôinnoDB‰ºöËá™Âä®ÁîüÊàê‰∏Ä‰∏™rowid‰Ωú‰∏∫ÈöêËóèÁöÑËÅöÈõÜÁ¥¢Âºï„ÄÇ</li>
</ul>
<img src="https://s2.loli.net/2022/10/08/a4lDPfys69TCV5d.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/a4lDPfys69TCV5d.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008170642178.png" style="zoom: 50%;" />

<p>‰ª•<code>select * from user where name=&#39;Arm&#39;</code>‰∏∫‰æãÔºö</p>
<img src="https://s2.loli.net/2022/10/08/vJzsdKWxCeAVjtY.png" class="lazyload" data-srcset="https://s2.loli.net/2022/10/08/vJzsdKWxCeAVjtY.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221008171306986.png" style="zoom: 67%;" />

<p>ÂõûË°®Êü•ËØ¢ÔºöÂÖàÈÄöËøá<strong>‰∫åÁ∫ßÁ¥¢Âºï</strong>Êü•ËØ¢Âà∞‰∏ªÈîÆidÔºåÂÜçÈÄöËøá‰∏ªÈîÆidÈÄöËøá<strong>ËÅöÈõÜÁ¥¢Âºï</strong>Êü•ËØ¢</p>
<p><strong>ÊÄùËÄÉ</strong>Ôºö</p>
<p>‰ª•‰∏ãSQLËØ≠Âè•ÔºåÈÇ£‰∏™ÊâßË°åÊïàÁéáÈ´òÔºü</p>
<ul>
<li><code>select * from user where id=10</code></li>
<li><code>select * from user where name=&#39;Arm&#39;</code></li>
</ul>
<p>Ê≥®ÊÑèÔºöid‰∏∫‰∏ªÈîÆÔºåname‰∏∫Â≠óÊÆµ(ÊúâÁ¥¢Âºï)</p>
<p>ÈÄöËøáid(‰∏ªÈîÆ)Êü•ËØ¢ÊïàÁéáÈ´ò</p>
<p>InnoDB‰∏ªÈîÆÁ¥¢ÂºïÁöÑB+treeÈ´òÂ∫¶‰∏∫Â§öÈ´òÂë¢Ôºü</p>
<ul>
<li><p>ÂÅáËÆæÔºö</p>
<p>‰∏ÄË°åÊï∞ÊçÆÂ§ßÂ∞è‰∏∫1kÔºå‰∏ÄÈ°µ‰∏≠ÂèØ‰ª•Â≠òÂÇ®16Ë°åËøôÊ†∑ÁöÑÊï∞ÊçÆ„ÄÇInnoDBÁöÑÊåáÈíàÂç†Áî®6‰∏™Â≠óËäÇÁöÑÁ©∫Èó¥Ôºå‰∏ªÈîÆÂç≥‰Ωø‰∏∫bigintÔºå Âç†Áî®Â≠óËäÇÊï∞‰∏∫8„ÄÇ</p>
</li>
<li><p>È´òÂ∫¶‰∏∫2Ôºö<br><code>n*8+Ôºàn+1)*6=16*1024</code>ÔºåÁÆóÂá∫nÁ∫¶‰∏∫ 1170<br><code>1171* 16=18736</code></p>
</li>
<li><p>È´òÂ∫¶‰∏∫3<br><code>1171* 1171*16=21939856</code></p>
</li>
</ul>
<h3 id="2-4-ËØ≠Ê≥ï"><a href="#2-4-ËØ≠Ê≥ï" class="headerlink" title="2.4 ËØ≠Ê≥ï"></a>2.4 ËØ≠Ê≥ï</h3><ul>
<li><p>ÂàõÂª∫Á¥¢ÂºïÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">UNIQUE</span><span class="operator">|</span>FULLTEXT] index index_name <span class="keyword">on</span> table_name(index_col_name, ‚Ä¶);</span><br></pre></td></tr></table></figure></li>
</ul>
<p>ÂèÇÊï∞ËØ¥ÊòéÔºö</p>
<blockquote>
<p><code>UNIQUE</code>ÔºöÂîØ‰∏ÄÁ¥¢ÂºïÔºåËØ•Â≠óÊÆµ‰∏çËÉΩÂá∫Áé∞ÈáçÂ§çÊï∞ÊçÆ</p>
<p><code>FULLTEXT</code>ÔºöÂÖ®ÊñáÁ¥¢Âºï</p>
<p>Â¶ÇÊûú‰∏çÂä†ÔºåÂàôÊòØÂ∏∏ËßÑÁ¥¢Âºï</p>
<p>Â¶ÇÊûú‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂÖ≥ËÅî‰∏Ä‰∏™Â≠óÊÆµÂè´ÂÅöÂçïÂàóÁ¥¢Âºï</p>
<p>Â¶ÇÊûú‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂÖ≥ËÅîÂ§ö‰∏™Â≠óÊÆµÂè´ÂÅöËÅîÂêàÁ¥¢Âºï</p>
</blockquote>
<p>Êü•ÁúãÁ¥¢ÂºïÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> table_name;</span><br></pre></td></tr></table></figure>

<p>Âà†Èô§Á¥¢ÂºïÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> index index_name <span class="keyword">on</span> table_name; </span><br></pre></td></tr></table></figure>



<p>Ê°à‰æãÈúÄÊ±ÇÔºö</p>
<ol>
<li>nameÂÆáÊÆµ‰∏∫ÂßìÂêçÂ≠óÊÆµÔºåËØ•ÂÆáÊÆµÁöÑÂÄºÂèØËÉΩ‰ºöÈáçÂ§çÔºå‰∏∫ËØ•ÂÆáÊÆµÂàõÂª∫Á¥¢Âºï„ÄÇ</li>
<li>phoneÊâãÊú∫Âè∑Â≠óÊÆµÁöÑÂÄºÔºåÊòØÈùûÁ©∫Ôºå‰∏îÂîØ‰∏ÄÁöÑÔºå‰∏∫ËØ•ÂÆáÊÆµÂàõÂª∫ÂîØ‰∏ÄÁ¥¢Âºï„ÄÇ</li>
<li>‰∏∫profession„ÄÅage„ÄÅstatusÂàõÂª∫ËÅîÂêàÁ¥†Âºï„ÄÇ</li>
<li>‰∏∫emailÂª∫Á´ãÂêàÈÄÇÁöÑÁ¥¢ÂºïÊù•ÊèêÂçáÊü•ËØ¢ÊïàÁéá„ÄÇ(Â∏∏ËßÑÁ¥¢Âºï)</li>
</ol>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index idx_user_name <span class="keyword">on</span> tb_user(name);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index idx_user_phone <span class="keyword">on</span> tb_user(phone);</span><br><span class="line"><span class="keyword">create</span> index idx_user_pro_age_sta <span class="keyword">on</span> tb_user(profession, age, status);</span><br><span class="line"><span class="keyword">create</span> index idx_email <span class="keyword">on</span> tb_user(email);</span><br></pre></td></tr></table></figure>



<h3 id="2-5-SQLÊÄßËÉΩÂàÜÊûê"><a href="#2-5-SQLÊÄßËÉΩÂàÜÊûê" class="headerlink" title="2.5 SQLÊÄßËÉΩÂàÜÊûê"></a>2.5 SQLÊÄßËÉΩÂàÜÊûê</h3><p><strong>SQLÁöÑÊâßË°åÈ¢ëÁéá</strong></p>
<p>MvSOL ÂÆ¢Êà∑Â™èËøûÊé•ÊàêÂäüÂêéÔºåÈÄöËøá <code>show [session|global] status</code> ÂëΩ‰ª§ÂèØ‰ª•Êèê‰æõÊúçÂä°Âô®Áä∂ÊÄÅ‰ø°ÊÅØ„ÄÇÈÄöËøáÊåá‰ª§ÔºåÂèØ‰ª•Êü•ÁúãÂΩìÂâçÊï∞ÊçÆÂ∫ìÁöÑINSERT„ÄÅUPDATE„ÄÅDELETE„ÄÅSELECTÁöÑËÆøÈóÆÈ¢ëÊ¨°Ôºö&amp;#x20;</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">global</span> status <span class="keyword">like</span> ‚ÄòCom_______‚Äô;</span><br></pre></td></tr></table></figure>



<h4 id="ÊÖ¢Êü•ËØ¢Êó•Âøó"><a href="#ÊÖ¢Êü•ËØ¢Êó•Âøó" class="headerlink" title="ÊÖ¢Êü•ËØ¢Êó•Âøó"></a>ÊÖ¢Êü•ËØ¢Êó•Âøó</h4><p>ÊÖ¢Êü•ËØ¢Êó•ÂøóËÆ∞ÂΩï‰∫ÜÊâÄÊúâÊâßË°åÊó∂Èó¥Ë∂ÖËøáÊåáÂÆöÂèÇÊï∞(long_query_timeÔºå Âçï‰ΩçÔºöÁßíÔºåÈªòËÆ§10Áßí)ÁöÑÊâÄÊúâSQLËØ≠Âè•ÁöÑÊó•Âøó„ÄÇ&amp;#x20;</p>
<p>MySQLÁöÑÊÖ¢Êü•ËØ¢Êó•ÂøóÈªòËÆ§Ê≤°ÊúâÂºÄÂêØÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> ‚Äòshow_query_log‚Äô;</span><br></pre></td></tr></table></figure>

<p>ÈúÄË¶ÅÂú®MySQLÁöÑÈÖçÁΩÆÊñá‰ª∂(&#x2F;etc&#x2F;my.cnf)‰∏≠ÈÖçÁΩÆÂ¶Ç‰∏ã‰ø°ÊÅØÔºö</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#ÂºÄÂêØMySQLÊÖ¢Êó•ÂøóÊü•ËØ¢ÂºÄÂÖ≥</span><br><span class="line">slow_query_log=1</span><br><span class="line">#ËÆæÁΩÆÊÖ¢Êó•ÂøóÁöÑÊó∂Èó¥‰∏∫2ÁßíÔºåSQLËØ≠Âè•ÊâßË°åÊó∂Èó¥Ë∂ÖËøá2ÁßíÂ∞±‰ºöËßÜ‰∏∫ÊÖ¢Êü•ËØ¢ÔºåËÆ∞ÂΩïÊÖ¢Êü•ËØ¢Êó•Âøó</span><br><span class="line">long_query_time=2</span><br></pre></td></tr></table></figure>

<p>ÈÖçÁΩÆÂÆåÊØï‰πãÂêéÔºåÈáçÊñ∞ÂêØÂä®MySQLÊúçÂä°Âô®ËøõË°åÊµãËØïÔºåÊü•ÁúãÊÖ¢Êó•ÂøóÊñá‰ª∂‰∏≠ËÆ∞ÂΩïÁöÑ‰ø°ÊÅØ<code>/var/lib/mysql/locathost-slow.log</code></p>
<h4 id="profileËØ¶ÊÉÖ"><a href="#profileËØ¶ÊÉÖ" class="headerlink" title="profileËØ¶ÊÉÖ"></a>profileËØ¶ÊÉÖ</h4><p>show profiles ËÉΩÂ§üÂú®ÂÅöSQL‰ºòÂåñÊó∂Â∏ÆÂä©Êàë‰ª¨‰∫ÜËß£Êó∂Èó¥ÈÉΩËÄóË¥πÂà∞Âì™ÈáåÂéª‰∫Ü„ÄÇ</p>
<p>ÈÄöËøáhave_profilingÂèÉÊï∞ÔºåËÉΩÂ§üÁúãÂà∞ÂΩìÂâçMySQLÊòØÂê¶ÊîØÊåÅprofileÊìç‰ΩúÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@have</span>_profiling;</span><br></pre></td></tr></table></figure>

<p>ÈªòËÆ§profilingÊòØÂÖ≥Èó≠ÁöÑÔºåÂèØ‰ª•ÈÄöËøásetËØ≠Âè•Âú®session&#x2F;globalÁ∫ßÂà´ÂºÄÂêØprofilingÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> profiling <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure>

<p>Êü•ÁúãÊòØÂê¶ÂºÄÂêØprofilingÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@profiling</span>;</span><br></pre></td></tr></table></figure>

<p>Êü•ÁúãSQLËØ≠Âè•ËÄóÊó∂ÊÉÖÂÜµÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#Êü•ÁúãÊØè‰∏ÄÊù°<span class="keyword">SQL</span>ËØ≠Âè•ÁöÑÂü∫Êú¨ÊÉÖÂÜµ</span><br><span class="line"><span class="keyword">show</span> profiles;</span><br><span class="line"></span><br><span class="line">#Êü•ÁúãÊåáÂÆöquery_idÁöÑ<span class="keyword">SQL</span>ËØ≠Âè•ÁöÑÂêÑ‰∏™Èò∂ÊÆµÁöÑËÄóÊó∂ÊÉÖÂÜµ</span><br><span class="line"><span class="keyword">show</span> profile <span class="keyword">for</span> query query_id;</span><br><span class="line"></span><br><span class="line">#Êü•ÁúãÊåáÂÆöquery_idÁöÑ<span class="keyword">SQL</span>ËØ≠Âè•CPUÁöÑ‰ΩøÁî®ÊÉÖÂÜµ</span><br><span class="line"><span class="keyword">show</span> profile cpu <span class="keyword">for</span> query query_id;</span><br></pre></td></tr></table></figure>



<h4 id="explainÊâßË°åËÆ°Âàí"><a href="#explainÊâßË°åËÆ°Âàí" class="headerlink" title="explainÊâßË°åËÆ°Âàí"></a>explainÊâßË°åËÆ°Âàí</h4><p>EXPLAIN ÊàñËÄÖ DESC ÂëΩ‰ª§Ëé∑Âèñ MySQL Â¶Ç‰ΩïÊâßË°å SELECT ËØ≠Âè•ÁöÑ‰ø°ÊÅØÔºåÂåÖÊã¨Âú® SELECT ËØ≠Âè•ÊâßË°åËøáÁ®ã‰∏≠Ë°®Â¶Ç‰ΩïËøûÊé•ÂíåËøûÊé•ÁöÑÈ°∫Â∫è„ÄÇ</p>
<p>ËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#Áõ¥Êé•Âú®<span class="keyword">select</span>ËØ≠Âè•‰πãÂâçÂä†‰∏äÂÖ≥ÈîÆÂ≠óexplain<span class="operator">/</span><span class="keyword">desc</span></span><br><span class="line">explain <span class="keyword">select</span> Â≠óÊÆµÂàóË°® <span class="keyword">from</span> Ë°®Âêç <span class="keyword">where</span> Êù°‰ª∂;</span><br></pre></td></tr></table></figure>



<p>EXPLAIN ÊâßË°åËÆ°ÂàíÂêÑÂ≠óÊÆµÂê´‰πâÔºö</p>
<blockquote>
<ul>
<li><p><strong>Id</strong></p>
<p>selectÊü•ËØ¢ÁöÑÂ∫èÂàóÂè∑ÔºåË°®Á§∫Êü•ËØ¢‰∏≠ÊâßË°åselectÂ≠êÂè•ÊàñËÄÖÊòØÊìç‰ΩúË°®ÁöÑÈ°∫Â∫è(idÁõ∏ÂêåÔºåÊâßË°åÈ°∫Â∫è‰ªé‰∏äÂà∞‰∏ãÔºõid‰∏çÂêåÔºåÂÄºË∂äÂ§ßÔºåË∂äÂÖàÊâßË°å)„ÄÇ</p>
</li>
<li><p><strong>select_type</strong></p>
<p>Ë°®Á§∫ SELECT ÁöÑÁ±ªÂûãÔºåÂ∏∏ËßÅÁöÑÂèñÂÄºÊúâ SIMPLEÔºàÁÆÄÂçïË°®ÔºåÂç≥‰∏ç‰ΩøÁî®Ë°®ËøûÊé•ÊàñËÄÖÂ≠êÊü•ËØ¢Ôºâ„ÄÅPRIMARYÔºà‰∏ªÊü•ËØ¢ÔºåÂç≥Â§ñÂ±ÇÁöÑÊü•ËØ¢Ôºâ„ÄÅUNION (UNION ‰∏≠ÁöÑÁ¨¨‰∫å‰∏™ÊàñËÄÖÂêéÈù¢ÁöÑÊü•ËØ¢ËØ≠Âè•Ôºâ„ÄÅSUBQUERY (SELECT&#x2F;WHERE‰πãÂêéÂåÖÂê´‰∫ÜÂ≠êÊü•ËØ¢ÔºâÁ≠â</p>
</li>
<li><p><strong>type</strong></p>
<p>Ë°®Á§∫ËøûÊé•Á±ªÂûãÔºåÊÄßËÉΩÁî±Â•ΩÂà∞Â∑ÆÁöÑËøûÊé•Á±ªÂûã‰∏∫NULL„ÄÅsystem„ÄÅconst„ÄÅeq_ref„ÄÅref„ÄÅrange„ÄÅindex„ÄÅall „ÄÇ</p>
</li>
<li><p><strong>possible key</strong></p>
<p>ÊòæÁ§∫ÂèØËÉΩÂ∫îÁî®Âú®ËøôÂº†Ë°®‰∏äÁöÑÁ¥¢ÂºïÔºå‰∏Ä‰∏™ÊàñÂØπ‰∏™</p>
</li>
<li><p><strong>key</strong><br>ÂÆûÈôÖ‰ΩøÁî®ÁöÑÁ¥¢ÂºïÔºåÂ¶ÇÊûú‰∏∫NULLÔºåÂàôÊ≤°Êúâ‰ΩøÁî®Á¥¢Âºï„ÄÇ</p>
</li>
<li><p><strong>key_len</strong></p>
<p>Ë°®Á§∫Á¥¢Âºï‰∏≠‰ΩøÁî®ÁöÑÂ≠óËäÇÊï∞ÔºåËØ•ÂÄº‰∏∫Á¥¢ÂºïÂ≠óÊÆµÊúÄÂ§ßÂèØËÉΩÈïøÂ∫¶ÔºåÂπ∂ÈùûÂÆûÈôÖ‰ΩøÁî®ÈïøÂ∫¶ÔºåÂú®‰∏çÊçüÂ§±Á≤æÁ°ÆÊÄßÁöÑÂâçÊèê‰∏ãÔºåÈïøÂ∫¶Ë∂äÁü≠Ë∂äÂ•Ω„ÄÇ</p>
</li>
<li><p><strong>rows</strong></p>
<p>MySQLËÆ§‰∏∫ÂøÖÈ°ªË¶ÅÊâßË°åÊü•ËØ¢ÁöÑË°åÊï∞ÔºåÂú®innodbÂºïÊìéÁöÑË°®‰∏≠ÔºåÊòØ‰∏Ä‰∏™‰º∞ËÆ°ÂÄºÔºåÂèØËÉΩÂπ∂‰∏çÊÄªÊòØÂáÜÁ°ÆÁöÑ„ÄÇ</p>
</li>
<li><p><strong>filtered</strong></p>
<p>Ë°®Á§∫ËøîÂõûÁªìÊûúÁöÑË°åÊï∞Âç†ÈúÄËØªÂèñË°åÊï∞ÁöÑÁôæÂàÜÊØîÔºåfiltered ÁöÑÂÄºË∂äÂ§ßË∂äÂ•Ω„ÄÇ</p>
</li>
</ul>
</blockquote>
<h3 id="2-6-‰ΩøÁî®ËßÑÂàô"><a href="#2-6-‰ΩøÁî®ËßÑÂàô" class="headerlink" title="2.6 ‰ΩøÁî®ËßÑÂàô"></a>2.6 ‰ΩøÁî®ËßÑÂàô</h3><h4 id="È™åËØÅÁ¥¢ÂºïÊïàÁéá"><a href="#È™åËØÅÁ¥¢ÂºïÊïàÁéá" class="headerlink" title="È™åËØÅÁ¥¢ÂºïÊïàÁéá"></a>È™åËØÅÁ¥¢ÂºïÊïàÁéá</h4><p>Êú™Âª∫Á´ãÁ¥¢Âºï‰πãÂâçÔºå(Â§ßÁ∫¶ÂØπ<strong>1ÂçÉ‰∏áÁöÑÊï∞ÊçÆÈáè</strong>)ÊâßË°åÂ¶Ç‰∏ãSQLËØ≠Âè•ÔºåÊü•ÁúãSQLÁöÑËÄóÊó∂Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_sku <span class="keyword">where</span> sn<span class="operator">=</span><span class="string">&#x27;100000003145001&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ËÄóÊó∂ÔºöÂ§ßÁ∫¶20s</p>
</blockquote>
<p>ÈíàÂØπÂ≠óÊÆµÂàõÂª∫Á¥¢ÂºïÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index idx_sku_sn <span class="keyword">on</span> tb_sku(sn);</span><br></pre></td></tr></table></figure>

<p>ÂÜçÊ¨°ÊâßË°å‰∏äÈù¢ÁöÑSQLËØ≠Âè•ÔºåËÄóÊó∂ÔºöÂ§ßÁ∫¶0.01s</p>
<h4 id="ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"><a href="#ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô" class="headerlink" title="ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô"></a>ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</h4><p>Â¶ÇÊûúÁ¥¢Âºï‰∫ÜÂ§öÂàó(ËÅîÂêàÁ¥¢Âºï)ÔºåË¶ÅÈÅµÂÆàÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô„ÄÇ</p>
<p>ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÊåáÁöÑÊòØÊü•ËØ¢<strong>‰ªéÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂàóÂºÄÂßãÔºåÂπ∂‰∏î‰∏çË∑≥ËøáÁ¥¢Âºï‰∏≠ÁöÑÂàó</strong>„ÄÇ</p>
<p>Â¶ÇÊûú‰ªéÁ¥¢ÂºïÁöÑÊúÄÂ∑¶ÂàóÂºÄÂßã**Ë∑≥Ë∑ÉÊüê‰∏ÄÂàóÔºåÁ¥¢ÂºïÂ∞ÜÈÉ®ÂàÜÂ§±Êïà(ÂêéÈù¢ÁöÑÂ≠óÊÆµÁ¥¢ÂºïÂ§±Êïà)**„ÄÇ</p>
<p>Â∑≤ÁªèÂàõÂª∫Â•ΩÁöÑËÅîÂêàÁ¥¢ÂºïÔºö<code>idx_user_pro_age_sta</code>(‰æùÊ¨°‰∏∫profession„ÄÅage„ÄÅstatus)</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession<span class="operator">=</span><span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age<span class="operator">=</span><span class="number">31</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰ΩøÁî®‰∫ÜËÅîÂêàÁ¥¢Âºï<code>idx_user_pro_age_sta</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession<span class="operator">=</span><span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age<span class="operator">=</span><span class="number">31</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰æùÁÑ∂‰ΩøÁî®‰∫ÜËÅîÂêàÁ¥¢Âºï<code>idx_user_pro_age_sta</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession<span class="operator">=</span><span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰ªçÁÑ∂‰ΩøÁî®‰∫ÜËÅîÂêàÁ¥¢Âºï<code>idx_user_pro_age_sta</code></p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> age<span class="operator">=</span><span class="number">31</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Ê≤°Êúâ‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï</strong>ÔºåËÄåÊòØ‰ΩøÁî®‰∫ÜÂÖ®Ë°®Êâ´Êèè„ÄÇ</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> status<span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰æùÁÑ∂Ê≤°Êúâ‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession<span class="operator">=</span><span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰ºö‰ΩøÁî®ËÅîÂêàÁ¥¢Âºï„ÄÇprofessionËµ∞‰∫ÜÁ¥¢ÂºïÔºåËÄåstatusÊ≤°ÊúâËµ∞Á¥¢ÂºïÔºåÁ¥¢ÂºïÈÉ®ÂàÜÂ§±Êïà</p>
</blockquote>
<p>ËåÉÂõ¥Êü•ËØ¢</p>
<p>ËÅîÂêàÁ¥¢Âºï‰∏≠ÔºåÂá∫Áé∞ËåÉÂõ¥Êü•ËØ¢<code>&gt;</code>„ÄÅ<code>&lt;</code>ÔºåËåÉÂõ¥Êü•ËØ¢Âè≥‰æßÁöÑÂàóÁ¥¢ÂºïÂ§±Êïà</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">user</span> <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">&gt;</span><span class="number">30</span> <span class="keyword">and</span> status<span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>statusÁ¥¢ÂºïÂ§±Êïà</p>
</blockquote>
<p>‰ΩøÁî®<code>&lt;=</code>„ÄÅ<code>&gt;=</code>ÔºåÂàô‰∏ç‰ºöÂ§±ÊïàÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">user</span> <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">&gt;=</span><span class="number">30</span> <span class="keyword">and</span> status <span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>statusÁ¥¢Âºï‰∏ç‰ºöÂ§±Êïà</p>
</blockquote>
<h4 id="Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"><a href="#Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ" class="headerlink" title="Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ"></a>Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ</h4><ul>
<li><strong>Á¥¢ÂºïÂàóËøêÁÆó</strong></li>
</ul>
<p>‰∏çË¶ÅÂú®Á¥¢ÂºïÂàó‰∏äËøõË°åËøêÁÆóÊìç‰ΩúÔºåÁ¥¢ÂºïÂ∞ÜÂ§±Êïà</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- substring():Êà™ÂèñÂ≠óÊÆµ</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> <span class="built_in">substring</span>(phone,<span class="number">10</span>,<span class="number">2</span>) <span class="operator">=</span> <span class="string">&#x27;15&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>idx_user_phone</code>Á¥¢ÂºïÂ§±Êïà</p>
</blockquote>
<ul>
<li><strong>Â≠óÁ¨¶‰∏≤‰∏çÂä†ÂºïÂè∑</strong></li>
</ul>
<p>Â≠óÁ¨¶‰∏≤Á±ªÂûãÂ≠óÊÆµ‰ΩøÁî®Êó∂Ôºå‰∏çÂä†ÂºïÂè∑ÔºåÁ¥¢ÂºïÂ∞ÜÂ§±Êïà</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> phone<span class="operator">=</span><span class="number">17799990015</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>ËôΩÁÑ∂ÂèØ‰ª•Êü•ËØ¢Ôºå‰ΩÜÊòØ<code>idx_user_phone</code>Á¥¢Âºï‰ºöÂ§±Êïà</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">user</span> <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age<span class="operator">=</span><span class="number">30</span> <span class="keyword">and</span> status <span class="operator">=</span><span class="number">0</span>:</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ËÅîÂêàÁ¥¢Âºï‰∏≠ÁöÑstatusÂ§±Êïà</p>
</blockquote>
<ul>
<li><strong>Ê®°Á≥äÊü•ËØ¢</strong></li>
</ul>
<p>Â¶ÇÊûú‰ªÖ‰ªÖÊòØÂ∞æÈÉ®Ê®°Á≥äÂåπÈÖçÔºåÁ¥¢Âºï‰∏ç‰ºöÂ§±ÊïàÔºåÂ¶ÇÊûúÊòØ<strong>Â§¥ÈÉ®Ê®°Á≥äÂåπÈÖç</strong>ÔºåÁ¥¢ÂºïÂ§±Êïà</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">user</span> <span class="keyword">where</span> profession <span class="keyword">like</span> <span class="string">&#x27;%Â∑•Á®ã&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Á¥¢ÂºïÂ§±Êïà</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb <span class="keyword">user</span> <span class="keyword">where</span> profession <span class="keyword">like</span> <span class="string">&#x27;ËΩØ‰ª∂%&#x27;</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>Á¥¢ÂºïÁîüÊïà</p>
</blockquote>
<ul>
<li><strong>orËøûÊé•ÁöÑÊù°‰ª∂</strong></li>
</ul>
<p>Áî®orÂàÜÂâ≤ÂºÄÁöÑÊù°‰ª∂ÔºåÂ¶ÇÊûúorÂâçÁöÑÊù°‰ª∂‰∏≠ÁöÑÂàóÊúâÁ¥¢ÂºïÔºåËÄå<strong>ÂêéÈù¢ÁöÑÂàó‰∏≠Ê≤°ÊúâÁ¥¢Âºï</strong>ÔºåÈÇ£‰πàÊ∂âÂèäÁöÑÁ¥¢ÂºïÈÉΩ‰∏ç‰ºöË¢´Áî®Âà∞„ÄÇ</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">10</span> <span class="keyword">or</span> age <span class="operator">=</span> <span class="number">23</span>;</span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> phone <span class="operator">=</span> <span class="string">&#x27;77799990017&#x27;</span> <span class="keyword">or</span> age <span class="operator">=</span> <span class="number">23</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Áî±‰∫éageÊ≤°ÊúâÁ¥¢ÂºïÔºåÊâÄ‰ª•Âç≥‰Ωøid„ÄÅphoneÊúâÁ¥¢ÂºïÔºåÁ¥¢Âºï‰πü‰ºöÂ§±Êïà„ÄÇÊâÄ‰ª•<strong>ÈúÄË¶ÅÈíàÂØπ‰∫éage‰πüË¶ÅÂª∫Á´ãÁ¥¢Âºï</strong>„ÄÇ</p>
</blockquote>
<ul>
<li>Êï∞ÊçÆÂàÜÂ∏ÉÂΩ±Âìç</li>
</ul>
<p>Â¶ÇÊûúMySQLËØÑ‰º∞‰ΩøÁî®Á¥¢ÂºïÊØîÂÖ®Ë°®Êõ¥ÊÖ¢ÔºåÂàô‰∏ç‰ºö‰ΩøÁî®Á¥¢Âºï</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> phone <span class="operator">&gt;=</span> <span class="string">&#x27;17799990005&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰∏ç‰ºöËµ∞Á¥¢ÂºïÔºåÂõ†‰∏∫Â§ßÈÉ®ÂàÜÁöÑÊï∞ÊçÆÊª°Ë∂≥Êù°‰ª∂</p>
</blockquote>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> phone <span class="operator">&gt;=</span> <span class="string">&#x27;17799990015&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰ºöËµ∞Á¥¢ÂºïÔºå‰ªÖÂ∞ëÈáèÊï∞ÊçÆÊª°Ë∂≥Êù°‰ª∂</p>
</blockquote>
<h4 id="SQLÊèêÁ§∫"><a href="#SQLÊèêÁ§∫" class="headerlink" title="SQLÊèêÁ§∫"></a>SQLÊèêÁ§∫</h4><p>professionÂ≠òÂú®‰∏§‰∏™Á¥¢ÂºïËÅîÂêàÁ¥¢Âºï<code>idx_user_pro_age_sta</code>„ÄÅÂçïÂàóÁ¥¢Âºï<code>idx_user_pro</code></p>
<p>ÊâßË°å‰∏ãÈù¢ËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>Áî®Âà∞‰∫ÜËÅîÂêàÁ¥¢Âºï</strong>ÔºåÁªèËøáMySQLÔºåÈÄâÊã©‰∫ÜËÅîÂêàÁ¥¢Âºï</p>
</blockquote>
<p>SQLÊèêÁ§∫ÔºåÊòØ‰ºòÂåñÊï∞ÊçÆÂ∫ìÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÊâãÊÆµÔºåÁÆÄÂçïÊù•ËØ¥ÔºåÂ∞±ÊòØÂú®SQLËØ≠Âè•‰∏≠Âä†ÂÖ•‰∏Ä‰∫õ‰∫∫‰∏∫ÁöÑÊèêÁ§∫Êù•ËææÂà∞‰ºòÂåñÊìç‰ΩúÁöÑÁõÆÁöÑ„ÄÇ</p>
<p><code>use index</code>Ôºö‰ΩøÁî®ÁöÑÁ¥¢Âºï</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user use index(idx_user_pro) <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><code>ignore index</code>ÔºöÂøΩÁï•‰ΩøÁî®ÁöÑÁ¥¢Âºï</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user ignore index(idx_user_pro) <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><code>force index</code>ÔºöÂº∫Âà∂‰ΩøÁî®ÁöÑÁ¥¢Âºï</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user force index(idx_user_pro) <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span>;</span><br></pre></td></tr></table></figure>



<h4 id="Ë¶ÜÁõñÁ¥¢Âºï-amp-ÂõûË°®Êü•ËØ¢"><a href="#Ë¶ÜÁõñÁ¥¢Âºï-amp-ÂõûË°®Êü•ËØ¢" class="headerlink" title="Ë¶ÜÁõñÁ¥¢Âºï&amp;ÂõûË°®Êü•ËØ¢"></a>Ë¶ÜÁõñÁ¥¢Âºï&amp;ÂõûË°®Êü•ËØ¢</h4><p>Â∞ΩÈáè‰ΩøÁî®Ë¶ÜÁõñÁ¥¢Âºï(Êü•ËØ¢‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºåÂπ∂‰∏îÈúÄË¶ÅËøîÂõûÁöÑÂàóÔºåÂú®ËØ•Á¥¢Âºï‰∏≠Â∑≤ÁªèÂÖ®ÈÉ®ËÉΩÂ§üÊâæÂà∞)Ôºå<br><strong>ÂáèÂ∞ë‰ΩøÁî®<code>select *</code></strong></p>
<p>‰ª•‰∏ãÂ≠òÂú®ËÅîÂêàÁ¥¢Âºï<code>idx_user_pro_age_sta</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> id, profession <span class="keyword">from</span> tb_user </span><br><span class="line"><span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">=</span> <span class="number">31</span> <span class="keyword">and</span> status<span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="comment">/*using where; using index*/</span></span><br><span class="line"></span><br><span class="line">explain <span class="keyword">select</span> id, profession, age, status <span class="keyword">from</span> tb_user </span><br><span class="line"><span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">=</span><span class="number">31</span> <span class="keyword">and</span> status <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="comment">/*using where; using index*/</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">explain <span class="keyword">select</span> id, profession, age, status, name <span class="keyword">from</span> tb_user </span><br><span class="line"><span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">=</span><span class="number">31</span> <span class="keyword">and</span> status <span class="operator">=</span><span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="comment">/*using index condition Â§öÂä†‰∏Ä‰∏™nameÂ≠óÊÆµ*/</span></span><br><span class="line"></span><br><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_user </span><br><span class="line"><span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span> <span class="keyword">and</span> age <span class="operator">=</span><span class="number">31</span> <span class="keyword">and</span> status <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line"><span class="comment">/*using index condition*/</span></span><br></pre></td></tr></table></figure>

<p>Extra‰∏≠Ôºö</p>
<ul>
<li>using index condition ÔºöÊü•Êâæ‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºå‰ΩÜÊòØÈúÄË¶Å<strong>ÂõûË°®Êü•ËØ¢Êï∞ÊçÆ</strong></li>
<li>using where; using index ÔºöÊü•Êâæ‰ΩøÁî®‰∫ÜÁ¥¢ÂºïÔºå‰ΩÜÊòØ<strong>ÈúÄË¶ÅÁöÑÊï∞ÊçÆÈÉΩÂú®Á¥¢ÂºïÂàó‰∏≠ËÉΩÊâæÂà∞</strong>ÔºåÊâÄ‰ª•‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢Êï∞ÊçÆ</li>
</ul>
<p>‰∏ÄÂº†Ë°®ÔºåÊúâÂõõ‰∏™Â≠óÊÆµ(id, username, password, status)ÔºåÁî±‰∫éÊï∞ÊçÆÈáèÂ§ßÔºåÈúÄË¶ÅÂØπ‰ª•‰∏ãSQLËØ≠Âè•ËøõË°å‰ºòÂåñÔºåËØ•Â¶Ç‰ΩïËøõ<br>Ë°åÊâçÊòØÊúÄ‰ºòÊñπÊ°àÔºö<br><code>select id,username,password from tb_user where username = &#39;itcast&quot;;</code></p>
<blockquote>
<p>ÈÄöËøáusernameÂíåpasswordÂª∫Á´ã‰∏Ä‰∏™ËÅîÂêàÁ¥¢ÂºïÔºå‰∏çÈúÄË¶ÅÂõûË°®Êü•ËØ¢</p>
</blockquote>
<h4 id="ÂâçÁºÄÁ¥¢Âºï"><a href="#ÂâçÁºÄÁ¥¢Âºï" class="headerlink" title="ÂâçÁºÄÁ¥¢Âºï"></a>ÂâçÁºÄÁ¥¢Âºï</h4><p>ÂΩìÂ≠óÊÆµÁ±ªÂûã‰∏∫Â≠óÁ¨¶‰∏≤(varchar, textÁ≠â)Êó∂ÔºåÊúâÊó∂ÂÄôÈúÄË¶ÅÁ¥¢ÂºïÂæàÈïøÁöÑÂ≠óÁ¨¶‰∏≤ÔºåËøô‰ºöËÆ©Á¥¢ÂºïÂèòÂæóÂæàÂ§ßÔºåÊü•ËØ¢Êó∂ÔºåÊµ™Ë¥πÂ§ßÈáèÁöÑÁ£ÅÁõòIOÔºåÂΩ±ÂìçÊü•ËØ¢ÊïàÁéá„ÄÇÊ≠§Êó∂ÂèØ‰ª•Âè™<strong>Â∞ÜÂ≠óÁ¨¶‰∏≤ÁöÑ‰∏ÄÈÉ®ÂàÜÂâçÁºÄÔºåÂª∫Á´ãÁ¥¢Âºï</strong>ÔºåËøôÊ†∑<strong>ÂèØ‰ª•Â§ßÂ§ßËäÇÁ∫¶Á¥¢ÂºïÁ©∫Èó¥</strong>Ôºå‰ªéËÄåÊèêÈ´òÁ¥¢ÂºïÊïàÁéá„ÄÇ</p>
<p>ËØ≠Ê≥ïÔºö</p>
<p><code>create index idx_XXX on table_name(column(n))</code></p>
<p>ÂâçÁºÄÈïøÂ∫¶Ôºö</p>
<p>ÂèØ‰ª•Ê†πÊçÆÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊù•ÂÜ≥ÂÆöÔºåËÄåÈÄâÊã©ÊÄßÊòØÊåá‰∏çÈáçÂ§çÁöÑÁ¥¢ÂºïÂÄº(Âü∫Êï∞)ÂíåÊï∞ÊçÆË°®ÁöÑËÆ∞ÂΩïÊÄªÊï∞ÁöÑÊØîÂÄºÔºåÁ¥¢ÂºïÈÄâÊã©ÊÄßË∂äÈ´òÂàôÊü•ËØ¢ÊïàÁéáË∂äÈ´òÔºå<strong>ÂîØ‰∏ÄÁ¥¢ÂºïÁöÑÈÄâÊã©ÊÄßÊòØ1</strong>ÔºåËøôÊòØÊúÄÂ•ΩÁöÑÁ¥¢ÂºïÈÄâÊã©ÊÄßÔºåÊÄßËÉΩ‰πüÊòØÊúÄÂ•ΩÁöÑ„ÄÇ<br><code>select count(distinct email)/count(*) from tb_user;</code><br><code>select count(distinct substring(email,1,5))/count(*) from tb_user;</code></p>
<ul>
<li>distinctÔºöÂéªÈáç</li>
<li>count(*)ÔºöÊÄªË°åÊï∞</li>
<li>substring()ÔºöÊà™ÂèñÂ≠óÁ¨¶‰∏≤ÂáΩÊï∞</li>
</ul>
<h4 id="ÂçïÂàó-amp-ËÅîÂêàÁ¥¢Âºï"><a href="#ÂçïÂàó-amp-ËÅîÂêàÁ¥¢Âºï" class="headerlink" title="ÂçïÂàó&amp;ËÅîÂêàÁ¥¢Âºï"></a>ÂçïÂàó&amp;ËÅîÂêàÁ¥¢Âºï</h4><p>ÂçïÂàóÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂè™ÂåÖÂê´Âçï‰∏™Âàó</p>
<p>ËÅîÂêàÁ¥¢ÂºïÔºöÂç≥‰∏Ä‰∏™Á¥¢ÂºïÂåÖÂê´Â§ö‰∏™Âàó</p>
<p>Â≠òÂú®ÂçïÂàóÁ¥¢Âºï<code>idx_user_phone</code>„ÄÅ<code>idx_user_name</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> id, phone, name <span class="keyword">from</span> tb_user </span><br><span class="line"><span class="keyword">where</span> phone <span class="operator">=</span> <span class="string">&#x27;123456789&#x27;</span> <span class="keyword">and</span> name <span class="operator">=</span> <span class="string">&#x27;ÂÖÉÂì•&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Âè™Ëµ∞‰∫Ü<code>idx_user_phone</code>Á¥¢Âºï</p>
</blockquote>
<p>ÂàõÂª∫ËÅîÂêàÁ¥¢Âºï<code>idx_user_phone_name</code></p>
<p>ÊâßË°å‰∏äÈù¢ÁöÑËØ≠Âè•ÂêéÔºåÂèëÁé∞‰æùÁÑ∂Âè™Ëµ∞‰∫Ü<code>idx_user_phone</code>Á¥¢ÂºïÔºåÊúâÂçïÂàóÁ¥¢ÂºïÂπ≤Êâ∞</p>
<p>Êàë‰ª¨ÂèØ‰ª•ÊåáÂÆöÊâÄ‰ΩøÁî®ÁöÑÁ¥¢ÂºïÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> id, phone, name <span class="keyword">from</span> tb_user </span><br><span class="line">use index(idx_user_phone_name)</span><br><span class="line"><span class="keyword">where</span> phone <span class="operator">=</span> <span class="string">&#x27;123456789&#x27;</span> <span class="keyword">and</span> name <span class="operator">=</span> <span class="string">&#x27;ÂÖÉÂì•&#x27;</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Ëµ∞‰∫ÜËÅîÂêàÁ¥¢Âºïidx_user_phone_name</p>
</blockquote>
<p>Âú®‰∏öÂä°‰∏≠ÔºåÂ¶ÇÊûúÂ≠òÂú®Â§ö‰∏™Êü•ËØ¢Êù°‰ª∂ÔºåËÄÉËôëÈíàÂØπÊü•ËØ¢Â≠óÊÆµÂª∫Á´ãÁ¥¢ÂºïÊó∂Ôºå<strong>Âª∫ËÆÆÂª∫Á´ãËÅîÂêàÁ¥¢Âºï</strong>ÔºåËÄåÈùûÂçïÂàóÁ¥¢Âºï</p>
<h3 id="2-7-ËÆæËÆ°ÂéüÂàô"><a href="#2-7-ËÆæËÆ°ÂéüÂàô" class="headerlink" title="2.7 ËÆæËÆ°ÂéüÂàô"></a>2.7 ËÆæËÆ°ÂéüÂàô</h3><ol>
<li>ÈíàÂØπ‰∫éÊï∞ÊçÆÈáèËæÉÂ§ßÔºå‰∏îÊü•ËØ¢ÊØîËæÉÈ¢ëÁπÅÁöÑË°®Âª∫Á´ãÁ¥¢Âºï„ÄÇ</li>
<li>ÈíàÂØπ‰∫éÂ∏∏‰Ωú‰∏∫Êü•ËØ¢Êù°‰ª∂(where)„ÄÅÊéíÂ∫è(order by)„ÄÅÂàÜÁªÑ(groupby) Êìç‰ΩúÁöÑÂ≠óÊÆµÂª∫Á´ãÁ¥¢Âºï„ÄÇ</li>
<li>Â∞ΩÈáèÈÄâÊã©Âå∫ÂàÜÂ∫¶È´òÁöÑÂàó‰Ωú‰∏∫Á¥¢ÂºïÔºåÂ∞ΩÈáèÂª∫Á´ãÂîØ‰∏ÄÁ¥¢ÂºïÔºåÂå∫ÂàÜÂ∫¶Ë∂äÈ´òÔºå‰ΩøÁî®Á¥¢ÂºïÁöÑÊïàÁéáË∂äÈ´ò„ÄÇ</li>
<li>Â¶ÇÊûúÊòØÂ≠óÁ¨¶‰∏≤Á±ªÂûãÁöÑÂ≠óÊÆµÔºåÂ≠óÊÆµÁöÑÈïøÂ∫¶ËæÉÈïøÔºåÂèØ‰ª•ÈíàÂØπ‰∫éÂ≠óÊÆµÁöÑÁâπÁÇπÔºåÂª∫Á´ãÂâçÁºÄÁ¥¢Âºï„ÄÇ</li>
<li>Â∞ΩÈáè‰ΩøÁî®ËÅîÂêàÁ¥¢ÂºïÔºåÂáèÂ∞ëÂçïÂàóÁ¥¢ÂºïÔºåÊü•ËØ¢Êó∂ÔºåËÅîÂêàÁ¥¢ÂºïÂæàÂ§öÊó∂ÂÄôÂèØ‰ª•Ë¶ÜÁõñÁ¥¢ÂºïÔºåËäÇÁúÅÂ≠òÂÇ®Á©∫ÈóÆÔºåÈÅøÂÖçÂõûË°®ÔºåÊèêÈ´òÊü•ËØ¢ÊïàÁéá„ÄÇ</li>
<li>Ë¶ÅÊéßÂà∂Á¥¢ÂºïÁöÑÊï∞ÈáèÔºåÁ¥¢Âºï‰∏çÊòØÂ§öÂ§öÁõäÂñÑÔºåÁ¥¢ÂºïË∂äÂ§öÔºåÁª¥Êä§Á¥¢ÂºïÁªìÊûÑÁöÑ‰ª£‰ª∑‰πüÂ∞±Ë∂äÂ§ßÔºå‰ºöÂΩ±ÂìçÂ¢ûÂà†ÊîπÁöÑÊïàÁéá„ÄÇ</li>
<li>Â¶ÇÊûúÁ¥¢ÂºïÂàó‰∏çËÉΩÂ≠òÂÇ®NULLÂÄºÔºåËØ∑Âú®ÂàõÂª∫Ë°®Êó∂‰ΩøÁî®<code>NOT NULL</code>Á∫¶ÊùüÂÆÉ„ÄÇÂΩì‰ºòÂåñÂô®Áü•ÈÅìÊØèÂàóÊòØÂê¶ÂåÖÂê´NULLÂÄºÊó∂ÔºåÂÆÉÂèØ‰ª•Êõ¥Â•ΩÂú∞Á°ÆÂÆöÂì™‰∏™Á¥¢ÂºïÊúÄÊúâÊïàÂú∞Áî®‰∫éÊü•ËØ¢„ÄÇ</li>
</ol>
<h4 id=""><a href="#" class="headerlink" title=""></a></h4></div><div class="story post-story"><h2 id="3-SQL‰ºòÂåñ"><a href="#3-SQL‰ºòÂåñ" class="headerlink" title="3.SQL‰ºòÂåñ"></a>3.SQL‰ºòÂåñ</h2><h3 id="3-1-ÊèíÂÖ•Êï∞ÊçÆ"><a href="#3-1-ÊèíÂÖ•Êï∞ÊçÆ" class="headerlink" title="3.1 ÊèíÂÖ•Êï∞ÊçÆ"></a>3.1 ÊèíÂÖ•Êï∞ÊçÆ</h3><h4 id="insert‰ºòÂåñ"><a href="#insert‰ºòÂåñ" class="headerlink" title="insert‰ºòÂåñ"></a>insert‰ºòÂåñ</h4><ul>
<li><p>ÊâπÈáèÊèíÂÖ•</p>
<p>ÊâãÂä®Êèê‰∫§‰∫ãÂä°</p>
<p>‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ•</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_test <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;Tom&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;Cat&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;Jerry&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_test <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;Tom&#x27;</span>),(<span class="number">5</span>,<span class="string">&#x27;Cat&#x27;</span>),(<span class="number">6</span>,<span class="string">&#x27;Jerry&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> th_test <span class="keyword">values</span>(<span class="number">7</span>,<span class="string">&#x27;Tom&#x27;</span>),(<span class="number">8</span>,<span class="string">&#x27;Cat&#x27;</span>),(<span class="number">9</span>,<span class="string">&#x27;Jerry&#x27;</span>);</span><br><span class="line"><span class="keyword">commit</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Â§ßÊâπÈáèÊèíÂÖ•Êï∞ÊçÆ</p>
<p>Â¶ÇÊûú‰∏ÄÊ¨°ÊÄßÈúÄË¶ÅÊèíÂÖ•Â§ßÊâπÈáèÊï∞ÊçÆÔºå‰ΩøÁî®insertËØ≠Âè•ÊèíÂÖ•ÊÄßËÉΩËæÉ‰ΩéÔºåÊ≠§Êó∂ÂèØ‰ª•‰ΩøÁî®MySQLÊï∞ÊçÆÂ∫ìÊèê‰æõÁöÑloadÊåá‰ª§ËøõË°åÊèíÂÖ•„ÄÇ</p>
<p>Êìç‰ΩúÂ¶Ç‰∏ãÔºö</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#ÂÆ¢Êà∑Á´ØËøûÊé•ÊúçÂä°Á´ØÊó∂ÔºåÂä†‰∏äÂèÇÊï∞ --local-infile</span><br><span class="line">mysal --local-infile -u root -p</span><br><span class="line">#ËÆæÁΩÆÂÖ®Â±ÄÂèÇÊï∞local_infile‰∏∫1ÔºåÂºÄÂêØ‰ªéÊú¨Âú∞Âä†ËΩΩÊñá‰ª∂ÂØºÂÖ•Êï∞ÊçÆÁöÑÂºÄÂÖ≥</span><br><span class="line">set global local_infile = 1,</span><br><span class="line">#ÊâßË°åloadÊåá‰ª§Â∞ÜÂáÜÂ§áÂ•ΩÁöÑÊï∞ÊçÆÔºåÂä†ËΩΩÂà∞Ë°®ÁªìÊûÑ‰∏≠</span><br><span class="line">load data local infile &#x27;/root/sql1.log&#x27; into table `tb_user` fields terminated by &#x27;,&#x27; lines terminated by &#x27;/n&#x27;;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="3-2-‰∏ªÈîÆ‰ºòÂåñ"><a href="#3-2-‰∏ªÈîÆ‰ºòÂåñ" class="headerlink" title="3.2 ‰∏ªÈîÆ‰ºòÂåñ"></a>3.2 ‰∏ªÈîÆ‰ºòÂåñ</h3><h4 id="Êï∞ÊçÆÁªÑÁªáÊñπÂºè"><a href="#Êï∞ÊçÆÁªÑÁªáÊñπÂºè" class="headerlink" title="Êï∞ÊçÆÁªÑÁªáÊñπÂºè"></a>Êï∞ÊçÆÁªÑÁªáÊñπÂºè</h4><p>Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠ÔºåË°®Êï∞ÊçÆÈÉΩÊòØÊ†πÊçÆ‰∏ªÈîÆÈ°∫Â∏∏ÁªÑÁªáÂ≠òÊîæÁöÑÔºåËøôÁßçÂ≠òÂÇ®ÊñπÂºèÁöÑË°®Áß∞‰∏∫ÂÆ∂ÂºïÁªÑÁªáË°®(index organized table IOT)„ÄÇ</p>
<p><img src="https://s2.loli.net/2022/12/06/OyXSt8omNKhjUGc.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/OyXSt8omNKhjUGc.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206173530147.png"></p>
<h4 id="È°µÂàÜË£Ç"><a href="#È°µÂàÜË£Ç" class="headerlink" title="È°µÂàÜË£Ç"></a>È°µÂàÜË£Ç</h4><p>È°µÂèØ‰ª•‰∏∫Á©∫Ôºå‰πüÂèØ‰ª•Â°´ÂÖÖ‰∏ÄÂçäÔºå‰πüÂèØ‰ª•Â°´ÂÖÖ100%„ÄÇÊØè‰∏™È°µÂåÖÂê´‰∫Ü2~NË°åÊï∞ÊçÆ(Â¶ÇÊûú‰∏ÄË°åÊï∞ÊçÆÂ§öÂ§ßÔºå‰ºöË°åÊ∫¢Âá∫)ÔºåÊ†πÊçÆ‰∏ªÈîÆÊéíÂàó„ÄÇ</p>
<ul>
<li><strong>‰∏ªÈîÆÈ°∫Â∫èÊèíÂÖ•</strong>Ôºö</li>
</ul>
<p>‰æùÊ¨°ÊèíÂÖ•</p>
<ul>
<li><strong>‰∏ªÈîÆ‰π±Â∫èÊèíÂÖ•</strong>Ôºö</li>
</ul>
<p><img src="https://s2.loli.net/2022/12/06/cSvy3dfM4CwoATR.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/cSvy3dfM4CwoATR.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206180131502.png"></p>
<p><img src="https://s2.loli.net/2022/12/06/oVmNipcHlgDJvr5.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/oVmNipcHlgDJvr5.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206182524083.png"></p>
<h4 id="È°µÂêàÂπ∂"><a href="#È°µÂêàÂπ∂" class="headerlink" title="È°µÂêàÂπ∂"></a>È°µÂêàÂπ∂</h4><p>ÂΩìÂà†Èô§‰∏ÄË°åËÆ∞ÂΩïÊó∂ÔºåÂÆûÈôÖ‰∏äËÆ∞ÂΩïÂπ∂Ê≤°ÊúâË¢´Áâ©ÁêÜÂà†Èô§ÔºåÂè™ÊòØËÆ∞ÂΩïË¢´Ê†áËÆ∞(flaged)‰∏∫Âà†Èô§‰∫ï‰∏îÂÆÉÁöÑÁ©∫Èó¥ÂèòÂæóÂÖÅËÆ∏Ë¢´ÂÖ∂‰ªñËÆ∞ÂΩïÂ£∞Êòé‰ΩøÁî®„ÄÇ</p>
<p>ÂΩìÈ°µ‰∏≠Âà†Èô§ÁöÑËÆ∞ÂΩïËææÂà∞ MERGE_THRESHOLD(ÂêàÂπ∂È°µÁöÑÈòàÂÄºÔºåÈªòËÆ§‰∏∫È°µÁöÑ50%ÔºåÂèØ‰ª•Ëá™Â∑±ËÆæÁΩÆ)ÔºåInnoDB‰ºöÂºÄÂßãÂØªÊâæÊúÄÈù†ËøëÁöÑÈ°µ(ÂâçÊàñÂêé)ÁúãÁúãÊòØÂê¶ÂèØ‰ª•Â∞Ü‰∏§‰∏™È°µÂêàÂπ∂‰ª•‰ºòÂåñÁ©∫Èó¥‰ΩøÁî®„ÄÇ</p>
<p><img src="https://s2.loli.net/2022/12/06/QdVOT4ujy87o5rW.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/QdVOT4ujy87o5rW.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206183525291.png"></p>
<p><img src="https://s2.loli.net/2022/12/06/xJhRo7UGaKTtB43.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/xJhRo7UGaKTtB43.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206183701315.png"></p>
<h4 id="‰∏ªÈîÆËÆæËÆ°ÂéüÂàô"><a href="#‰∏ªÈîÆËÆæËÆ°ÂéüÂàô" class="headerlink" title="‰∏ªÈîÆËÆæËÆ°ÂéüÂàô"></a>‰∏ªÈîÆËÆæËÆ°ÂéüÂàô</h4><ul>
<li>Êª°Ë∂≥‰∏öÂä°ÈúÄÊ±ÇÁöÑÊÉÖÂÜµ‰∏ãÔºåÂ∞ΩÈáèÈôç‰Ωé‰∏ªÈîÆÁöÑÈïøÂ∫¶„ÄÇ</li>
<li>ÊèíÂÖ•Êï∞ÊçÆÊó∂ÔºåÂ∞ΩÈáèÈÄâÊã©È°∫Â∫èÊèíÂÖ•Ôºå<strong>ÈÄâÊã©‰ΩøÁî®AUTO_INCREMENTËá™Â¢û‰∏ªÈîÆ</strong>„ÄÇ</li>
<li>Â∞ΩÈáè‰∏çË¶Å‰ΩøÁî®UUIDÂÅö‰∏ªÈîÆÊàñËÄÖÊòØÂÖ∂‰ªñËá™ÁÑ∂‰∏ªÈîÆÔºåÂ¶ÇË∫´‰ªΩËØÅÂè∑„ÄÇ</li>
<li>‰∏öÂä°Êìç‰ΩúÊó∂ÔºåÈÅøÂÖçÂØπ‰∏ªÈîÆÁöÑ‰øÆÊîπ„ÄÇ</li>
</ul>
<h3 id="3-3-order-by‰ºòÂåñ"><a href="#3-3-order-by‰ºòÂåñ" class="headerlink" title="3.3 order by‰ºòÂåñ"></a>3.3 order by‰ºòÂåñ</h3><ul>
<li>Using filesortÔºöÈÄöËøáË°®ÁöÑÁ¥¢ÂºïÊàñÂÖ®Ë°®Êâ´ÊèèÔºåËØªÂèñÊª°Ë∂≥Êù°‰ª∂ÁöÑÊï∞ÊçÆË°åÔºåÁÑ∂ÂêéÂú®ÊéíÂ∫èÁºìÂÜ≤Âå∫sort buffer‰∏≠ÂÆåÊàêÊéíÂ∫èÊìç‰ΩúÔºåÊâÄÊúâ‰∏çÊòØÈÄöËøáÁ¥¢ÂºïÁõ¥Êé•ËøîÂõûÊéíÂ∫èÁªìÊûúÁöÑÊéíÂ∫èÈÉΩÂè´ FileSort ÊéíÂ∫è„ÄÇ</li>
<li>Using index ÔºöÈÄöËøáÊúâÂ∫èÁ¥¢ÂºïÈ°∫Â∫èÊâ´ÊèèÁõ¥Êé•ËøîÂõûÊúâÂ∫èÊï∞ÊçÆÔºåËøôÁßçÊÉÖÂÜµÂç≥‰∏∫using indexÔºå‰∏çÈúÄË¶ÅÈ¢ùÂ§ñÊéíÂ∫èÔºåÊìç‰ΩúÊïàÁéáÈ´ò„ÄÇ</li>
</ul>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#Ê≤°ÊúâÂàõÂª∫Á¥¢ÂºïÊó∂ÔºåÊ†πÊçÆage,phoneËøõË°åÊéíÂ∫è</span><br><span class="line">explain <span class="keyword">select</span> id,age,phone <span class="keyword">from</span> tb _user <span class="keyword">order</span> <span class="keyword">by</span> age, phone;</span><br><span class="line">#ÂàõÂª∫Á¥¢Âºï</span><br><span class="line"><span class="keyword">create</span> index idx_user_age_phone <span class="keyword">on</span> tb_user(age,phone);</span><br><span class="line"></span><br><span class="line">#ÂàõÂª∫Á¥¢ÂºïÂêéÔºåÊ†πÊçÆage,phoneËøõË°åÂçáÂ∫èÊéíÂ∫è</span><br><span class="line">explain <span class="keyword">select</span> id,age,phone <span class="keyword">from</span> th _user <span class="keyword">order</span> <span class="keyword">by</span> age, phone;</span><br><span class="line">#ÂàõÂª∫Á¥¢ÂºïÂêéÔºåÊ†πÊçÆage,phoneËøõË°åÈôçÂ∫èÊéíÂ∫è</span><br><span class="line">explain <span class="keyword">select</span> id, age,phone <span class="keyword">from</span> th_user <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">desc</span>, phone <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>Âè™ÊúâÂ≠óÊÆµÂÖ®ÈÉΩÊòØÂçáÂ∫èÊéíÂàóÊàñËÄÖÂÖ®ÈÉΩÊòØÈôçÂ∫èÊéíÂàóÊó∂Ôºåidx_user_age_phoneÁ¥¢ÂºïÁîüÊïàÔºå‰∏∫Using index</li>
</ul>
<p>Â¶ÇÊûú‰∏Ä‰∏™ÂçáÂ∫è‰∏Ä‰∏™ÈôçÂ∫èÊàñËÄÖ‰∏Ä‰∏™ÈôçÂ∫è‰∏Ä‰∏™ÂçáÂ∫èÔºåÂ∞±ÈúÄË¶ÅÈáçÊñ∞ÂàõÂª∫‰∏Ä‰∏™Êñ∞Á¥¢Âºï</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#Ê≤°ÊúâÂàõÂª∫Á¥¢ÂºïÊó∂ÔºåÊ†πÊçÆageÂçáÂ∫è,phoneÈôçÂ∫èËøõË°åÊéíÂ∫è</span><br><span class="line">explain <span class="keyword">select</span> id,age,phone <span class="keyword">from</span> tb _user <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>, phone <span class="keyword">desc</span>;</span><br><span class="line">#ÂàõÂª∫Á¥¢Âºï</span><br><span class="line"><span class="keyword">create</span> index idx_user_age_phone_ad <span class="keyword">on</span> tb_user(age <span class="keyword">asc</span>,phone <span class="keyword">desc</span>);</span><br><span class="line"></span><br><span class="line">#ÂàõÂª∫Á¥¢ÂºïÂêéÔºåÊ†πÊçÆageÂçáÂ∫è,phoneÈôçÂ∫èËøõË°åÊéíÂ∫èÔºå‰∏∫<span class="keyword">Using</span> index</span><br><span class="line">explain <span class="keyword">select</span> id,age,phone <span class="keyword">from</span> tb _user <span class="keyword">order</span> <span class="keyword">by</span> age <span class="keyword">asc</span>, phone <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure>



<p><strong>ÊÄªÁªì</strong></p>
<ul>
<li>Ê†πÊçÆÊéíÂ∫èÂ≠óÊÆµÂª∫Á´ãÂêàÈÄÇÁöÑÁ¥¢ÂºïÔºåÂ§öÂ≠óÊÆµÊéíÂ∫èÊó∂Ôºå‰πüÈÅµÂæ™ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô„ÄÇ</li>
<li>Â∞ΩÈáè‰ΩøÁî®Ë¶ÜÁõñÁ¥¢Âºï„ÄÇ</li>
<li>Â§öÂ≠óÊÆµÊéíÂ∫èÔºå‰∏Ä‰∏™ÂçáÂ∫è‰∏Ä‰∏™ÈôçÂ∫èÔºåÊ≠§Êó∂ÈúÄË¶ÅÊ≥®ÊÑèËÅîÂêàÁ¥¢ÂºïÂú®ÂàõÂª∫Êó∂ÁöÑËßÑÂàô(ASC&#x2F;DESC)„ÄÇ</li>
<li>Â¶ÇÊûú‰∏çÂèØÈÅøÂÖçÁöÑÂá∫Áé∞<strong>filesort</strong>ÔºåÂ§ßÊï∞ÊçÆÈáèÊéíÂ∫èÊó∂ÔºåÂèØ‰ª•ÈÄÇÂΩìÂ¢ûÂ§ßÊéíÂ∫èÁºìÂÜ≤Âå∫Â§ßÂ∞è sort_ buffer_size(ÈªòËÆ§256kÔºâ„ÄÇ</li>
</ul>
<h3 id="3-4-group-by‰ºòÂåñ"><a href="#3-4-group-by‰ºòÂåñ" class="headerlink" title="3.4 group by‰ºòÂåñ"></a>3.4 group by‰ºòÂåñ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#ÊâßË°åÂàÜÁªÑÊìç‰ΩúÔºåÊ†πÊçÆprofessionÂ≠óÊÆµÂàÜÁªÑ</span><br><span class="line">explain <span class="keyword">select</span> profession, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> th_user <span class="keyword">group</span> <span class="keyword">by</span> profession;</span><br><span class="line"></span><br><span class="line">#ÂàõÂª∫Á¥¢Âºï</span><br><span class="line"><span class="keyword">Create</span> index id_user_pro_age_sta <span class="keyword">on</span> tb_user(profession,age,status);</span><br><span class="line"></span><br><span class="line">#‰ª•‰∏ãÂùá‰ºöËµ∞Á¥¢Âºï</span><br><span class="line">#ÊâßË°åÂàÜÁªÑÊìç‰ΩúÔºåÊ†πÊçÆprofessionÂ≠óÊÆµÂàÜÁªÑ</span><br><span class="line">explain <span class="keyword">select</span> profession, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user <span class="keyword">group</span> <span class="keyword">by</span> profession;</span><br><span class="line">#ÊâßË°åÂàÜÁªÑÊìç‰ΩúÔºåÊ†πÊçÆprofessionÂ≠óÊÆµÂàÜÁªÑ</span><br><span class="line">explain <span class="keyword">select</span> profession, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user <span class="keyword">group</span> <span class="keyword">by</span> profession,age;</span><br><span class="line">#ÊâßË°åÂàÜÁªÑÊìç‰ΩúÔºåÊ†πÊçÆprofessionÂ≠óÊÆµÂàÜÁªÑ</span><br><span class="line">explain <span class="keyword">select</span> profession, <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user <span class="keyword">where</span> profession <span class="operator">=</span> <span class="string">&#x27;ËΩØ‰ª∂Â∑•Á®ã&#x27;</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> age;</span><br></pre></td></tr></table></figure>



<p><strong>ÊÄªÁªì</strong></p>
<ul>
<li>Âú®ÂàÜÁªÑÊìç‰ΩúÊó∂ÔºåÂèØ‰ª•ÈÄöËøáÁ¥¢ÂºïÊù•ÊèêÈ´òÊïàÁéá</li>
<li>ÂàÜÁªÑÊìç‰ΩúÊó∂Ôºå<strong>Á¥¢ÂºïÁöÑ‰ΩøÁî®‰πüÊòØÊª°Ë∂≥ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàôÁöÑ</strong></li>
</ul>
<h3 id="3-5-limit‰ºòÂåñ"><a href="#3-5-limit‰ºòÂåñ" class="headerlink" title="3.5 limit‰ºòÂåñ"></a>3.5 limit‰ºòÂåñ</h3><p>‰∏Ä‰∏™Â∏∏ËßÅÂèàÈùûÂ∏∏Â§¥ÁñºÁöÑÈóÆÈ¢òÂ∞±ÊòØ limit 2000000,10ÔºåÊ≠§Êó∂ÈúÄË¶ÅMySQLÊéíÂ∫èÂâç2000010 ËÆ∞ÂΩïÔºå‰ªÖ‰ªÖËøîÂõû2000000-2000010ÁöÑËÆ∞ÂΩïÔºåÂÖ∂‰ªñËÆ∞ÂΩï‰∏¢ÂºÉÔºåÊü•ËØ¢ÊéíÂ∫èÁöÑ‰ª£‰ª∑ÈùûÂ∏∏Â§ß„ÄÇ</p>
<p>‰ºòÂåñÊÄùË∑ØÔºö‰∏ÄËà¨ÂàÜÈ°µÊü•ËØ¢Êó∂ÔºåÈÄöËøáÂàõÂª∫ <strong>Ë¶ÜÁõñÁ¥¢Âºï</strong> ËÉΩÂ§üÊØîËæÉÂ•ΩÂú∞ÊèêÈ´òÊÄßËÉΩÔºåÂèØ‰ª•<strong>ÈÄöËøáË¶ÜÁõñÁ¥¢ÂºïÂä†Â≠êÊü•ËØ¢ÂΩ¢Âºè</strong>ËøõË°å‰ºòÂåñ„ÄÇ</p>
<p>‰ºòÂåñÂâçÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> tb_sku <span class="keyword">order</span> <span class="keyword">by</span> id limit <span class="number">2000000</span>,<span class="number">10</span> </span><br></pre></td></tr></table></figure>

<p>‰ºòÂåñÂêéÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> t.<span class="operator">*</span> <span class="keyword">from</span> tb_sku t, (<span class="keyword">select</span> id <span class="keyword">from</span> tb_sku <span class="keyword">order</span> <span class="keyword">by</span> id limit <span class="number">2000000</span>,<span class="number">10</span>) a <span class="keyword">where</span> t.id <span class="operator">=</span> a.id</span><br></pre></td></tr></table></figure>



<h3 id="3-6-count‰ºòÂåñ"><a href="#3-6-count‰ºòÂåñ" class="headerlink" title="3.6 count‰ºòÂåñ"></a>3.6 count‰ºòÂåñ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> tb_user;</span><br></pre></td></tr></table></figure>

<ul>
<li>MyISAM ÂºïÊìéÊää‰∏Ä‰∏™Ë°®ÁöÑÊÄªË°åÊï∞Â≠òÂú®‰∫ÜÁ£ÅÁõò‰∏äÔºåÂõ†Ê≠§ÊâßË°å count(*)ÁöÑÊó∂ÂÄô‰ºöÁõ¥Êé•ËøîÂõûËøô‰∏™Êï∞ÔºåÊïàÁéáÂæàÈ´ò</li>
<li>InnoDB ÂºïÊìéÂ∞±È∫ªÁÉ¶‰∫ÜÔºåÂÆÉÊâßË°å count(*)ÁöÑÊó∂ÂÄôÔºåÈúÄË¶ÅÊääÊï∞ÊçÆ‰∏ÄË°å‰∏ÄË°åÂú∞‰ªéÂºïÊìéÈáåÈù¢ËØªÂá∫Êù•ÔºåÁÑ∂ÂêéÁ¥ØÁßØÊï∞</li>
</ul>
<p>‰ºòÂåñÊÄùË∑ØÔºöËá™Â∑±ËÆ°Êï∞„ÄÇ</p>
<h4 id="countÁöÑÂá†ÁßçÁî®Ê≥ï"><a href="#countÁöÑÂá†ÁßçÁî®Ê≥ï" class="headerlink" title="countÁöÑÂá†ÁßçÁî®Ê≥ï"></a>countÁöÑÂá†ÁßçÁî®Ê≥ï</h4><p>count(ÊòØ‰∏Ä‰∏™ËÅöÂêàÂáΩÊï∞ÔºåÂØπ‰∫éËøîÂõûÁöÑÁªìÊûúÈõÜÔºå‰∏ÄË°åË°åÂú∞Âà§Êñ≠ÔºåÂ¶ÇÊûúcount ÂáΩÊï∞ÁöÑÂèÇÊï∞‰∏çÊòØ NULLÔºåÁ¥ØËÆ°ÂÄºÂ∞±Âä†1ÔºåÂê¶Âàô‰∏çÂä†ÔºåÊúÄÂêéËøîÂõûÁ¥ØËÆ°ÂÄº„ÄÇ</p>
<p>Áî®Ê≥ïÔºöcount(*)„ÄÅcount(‰∏ªÈîÆ)„ÄÅcount(Â≠óÊÆµ)„ÄÅcount(1)</p>
<ul>
<li><p>count(‰∏ªÈîÆ)</p>
<p>InnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÔºåÊääÊØè‰∏ÄË°åÁöÑ ‰∏ªÈîÆid ÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±Ç„ÄÇÊúçÂä°Â±ÇÊãøÂà∞‰∏ªÈîÆÂêéÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†(‰∏ªÈîÆ‰∏çÂèØËÉΩ‰∏∫nul)„ÄÇ</p>
</li>
<li><p>count(Â≠óÊÆµ)</p>
<ul>
<li>Ê≤°Êúânot null Á∫¶ÊùüÔºöInnoDB Âºï1Êìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÊúçÂä°Â±ÇÂà§Êñ≠ÊòØÂê¶‰∏∫nullÔºå‰∏ç‰∏∫nullÔºåËÆ°Êï∞Á¥ØÂä†„ÄÇ</li>
<li>Êúânot null Á∫¶ÊùüÔºöInnoDB ÂºïÊìé‰ºöÈÅçÂéÜÊï¥Âº†Ë°®ÊääÊØè‰∏ÄË°åÁöÑÂ≠óÊÆµÂÄºÈÉΩÂèñÂá∫Êù•ÔºåËøîÂõûÁªôÊúçÂä°Â±ÇÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ</li>
</ul>
</li>
<li><p>count(1)</p>
<p>InnoDB ÂºïÊìéÈÅçÂéÜÊï¥Âº†Ë°®Ôºå‰ΩÜ‰∏çÂèñÂÄº„ÄÇÊúçÂä°Â±ÇÂØπ‰∫éËøîÂõûÁöÑÊØè‰∏ÄË°åÔºåÊîæ‰∏Ä‰∏™Êï∞Â≠ó‚Äù1‚ÄùËøõÂéªÔºåÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ</p>
</li>
<li><p>count(*)</p>
<p>InnoDBÂºïÊìéÂπ∂‰∏ç‰ºöÊääÂÖ®ÈÉ®Â≠óÊÆµÂèñÂá∫Êù•ÔºåËÄåÊòØ‰∏ìÈó®ÂÅö‰∫Ü‰ºòÂåñÔºå‰∏çÂèñÂÄºÔºåÊúçÂä°Â±ÇÁõ¥Êé•ÊåâË°åËøõË°åÁ¥ØÂä†„ÄÇ</p>
</li>
</ul>
<p>ÊåâÁÖßÊïàÁéáÊéíÂ∫èÁöÑËØùÔºå<code>count(Â≠óÊÆµ) &lt; count(‰∏ªÈîÆid) &lt; count(1) ‚âà count(*)</code>ÔºåÊâÄ‰ª•Â∞ΩÈáè‰ΩøÁî® *<em>count(</em>)**„ÄÇ</p>
<h3 id="3-7-update‰ºòÂåñ"><a href="#3-7-update‰ºòÂåñ" class="headerlink" title="3.7 update‰ºòÂåñ"></a>3.7 update‰ºòÂåñ</h3><p>InnoDBÁöÑË°åÈîÅÊòØÈíàÂØπÁ¥¢ÂºïÂä†ÁöÑÈîÅÔºå‰∏çÊòØÈíàÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅ</p>
<p>Â¶ÇÊûúËØ•Á¥¢ÂºïÂ§±ÊïàÊàñËÄÖÊ≤°ÊúâÁ¥¢ÂºïÔºåÂàô‰ºö‰ªéË°åÈîÅÂçáÁ∫ß‰∏∫Ë°®ÈîÅ„ÄÇ</p>
</div><div class="story post-story"><h2 id="4-ËßÜÂõæ"><a href="#4-ËßÜÂõæ" class="headerlink" title="4.ËßÜÂõæ"></a>4.ËßÜÂõæ</h2><p>ËßÜÂõæ(view)ÊòØ‰∏ÄÁßçËôõÊãüÂ≠òÂú®ÁöÑË°®„ÄÇËßÜÂõæ‰∏≠ÁöÑÊï∞ÊçÆÂπ∂‰∏çÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÂÆûÈôÖÂ≠òÂú®ÔºåË°åÂíåÂàóÊï∞ÊçÆÊù•Ëá™ÂÆö‰πâËßÜÂõæÁöÑÊü•ËØ¢‰∏≠‰ΩøÁî®ÁöÑË°®ÔºåÂπ∂‰∏îÊòØÂú®‰ΩøÁî®ËßÜÂõæÊó∂Âä®ÊÄÅÁîüÊàêÁöÑ„ÄÇ</p>
<p>ÈÄö‰øóÁöÑËÆ≤ÔºåËßÜÂõæÂè™‰øùÂ≠ò‰∫ÜÊü•ËØ¢ÁöÑSQLÈÄªËæëÔºå‰∏ç‰øùÂ≠òÊü•ËØ¢ÁªìÊûú„ÄÇÊâÄ‰ª•Êàë‰ª¨Âú®ÂàõÂª∫ËßÜÂõæÁöÑÊó∂ÂÄôÔºå‰∏ªË¶ÅÁöÑÂ∑•‰ΩúÂ∞±ËêΩÂú®ÂàõÂª∫ËøôÊù°SQLÊü•ËØ¢ËØ≠Âè•‰∏ä„ÄÇ</p>
<h3 id="4-1-Âü∫Á°ÄËØ≠Ê≥ï"><a href="#4-1-Âü∫Á°ÄËØ≠Ê≥ï" class="headerlink" title="4.1 Âü∫Á°ÄËØ≠Ê≥ï"></a>4.1 Âü∫Á°ÄËØ≠Ê≥ï</h3><p>ÂàõÂª∫ËßÜÂõæÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> replace] <span class="keyword">view</span> ËßÜÂõæÂêç[(ÂàóÂêçÂàóË°®)] <span class="keyword">as</span> <span class="keyword">select</span>ËØ≠Âè•</span><br></pre></td></tr></table></figure>



<p>Êü•ËØ¢ËßÜÂõæÔºö</p>
<ul>
<li><p>Êü•ÁúãÂàõÂª∫ËßÜÂõæËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">view</span> ËßÜÂõæÂêçÁß∞;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Êü•ÁúãËßÜÂõæÊï∞ÊçÆÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> ËßÜÂõæÂêçÁß∞‚Ä¶;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>‰øÆÊîπËßÜÂõæÔºö</p>
<ul>
<li><p>ÊñπÂºè‰∏ÄÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> [<span class="keyword">or</span> replace] <span class="keyword">view</span> ËßÜÂõæÂêç[(ÂàóÂêçÂàóË°®)] <span class="keyword">as</span> <span class="keyword">select</span>ËØ≠Âè•</span><br></pre></td></tr></table></figure>
</li>
<li><p>ÊñπÂºè‰∫åÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">view</span> ËßÜÂõæÂêç[(ÂàóÂêçÂàóË°®)] <span class="keyword">as</span> <span class="keyword">select</span>ËØ≠Âè•</span><br></pre></td></tr></table></figure></li>
</ul>
<p>Âà†Èô§ËßÜÂõæÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> [if <span class="keyword">exists</span>] ËßÜÂõæÂêçÁß∞ [,ËßÜÂõæÂêçÁß∞]</span><br></pre></td></tr></table></figure>



<h3 id="4-2-Ê£ÄÊü•ÈÄâÈ°π"><a href="#4-2-Ê£ÄÊü•ÈÄâÈ°π" class="headerlink" title="4.2 Ê£ÄÊü•ÈÄâÈ°π"></a>4.2 Ê£ÄÊü•ÈÄâÈ°π</h3><p>ÂΩì‰ΩøÁî®WITH CHECK OPTIONÂ≠êÂè•ÂàõÂª∫ËßÜÂõæÊó∂ÔºåMySQL‰ºöÈÄöËøáËßÜÂõæÊ£ÄÊü•Ê≠£Âú®Êõ¥ÊîπÁöÑÊØè‰∏™Ë°åÔºå‰æãÂ¶ÇÊèíÂÖ•ÔºåÊõ¥Êñ∞ÔºåÂà†Èô§Ôºå‰ª•‰ΩøÂÖ∂Á¨¶ÂêàËßÜÂõæÁöÑÂÆö‰πâ„ÄÇMySQLÂÖÅËÆ∏Âü∫‰∫éÂè¶‰∏Ä‰∏™ËßÜÂõæÂàõÂª∫ËßÜÂõæÔºåÂÆÉËøò‰ºöÊ£ÄÊü•‰æùËµñËßÜÂõæ‰∏≠ÁöÑËßÑÂàô‰ª•‰øùÊåÅ‰∏ÄËá¥ÊÄß„ÄÇ‰∏∫‰∫ÜÁ°ÆÂÆöÊ£ÄÊü•ÁöÑËåÉÂõ¥ÔºåMySQLÊèê‰æõ‰∫Ü‰∏§‰∏™ÈÄâÈ°πÔºöCASCADEDÂíåLOCAL,ÈªòËÆ§ÂÄº‰∏∫CASCADED„ÄÇ</p>
<p>CASCADEDÁ§∫‰æãÔºö</p>
<p>Á¨¨‰∏ÄÁßçÊÉÖÂÜµÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> stu_v_1 <span class="keyword">as</span> <span class="keyword">select</span> id,name <span class="keyword">from</span> v1 <span class="keyword">where</span> id <span class="operator">&lt;=</span><span class="number">20</span> <span class="keyword">with</span> <span class="keyword">cascaded</span> <span class="keyword">check</span> option</span><br></pre></td></tr></table></figure>

<p>ÊâßË°åÊèíÂÖ•ËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu_v_1 <span class="keyword">values</span>(<span class="number">30</span>,<span class="string">&#x27;Tom&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>‰ºö‰æùÊçÆÊù°‰ª∂<code>where id &lt;=10</code>ËøõË°åÊ£ÄÊü•ÔºåÂ¶ÇÊûú‰∏çÁ¨¶ÂêàÊù°‰ª∂ÂàôÊä•Èîô</p>
</blockquote>
<p>Á¨¨‰∫åÁßçÊÉÖÂÜµÔºö</p>
<p>‰øÆÊîπËßÜÂõæstu_v_1Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> stu_v_1 <span class="keyword">as</span> <span class="keyword">select</span> id,name <span class="keyword">from</span> v1 <span class="keyword">where</span> id <span class="operator">&lt;=</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>‰æùÊçÆstu_v_1ËßÜÂõæÂª∫Á´ãËßÜÂõæstu_v_2Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> stu_v_2 <span class="keyword">as</span> <span class="keyword">select</span> id,name <span class="keyword">from</span> stu_v_1 <span class="keyword">where</span> id <span class="operator">&gt;=</span><span class="number">10</span> <span class="keyword">with</span> <span class="keyword">cascaded</span> <span class="keyword">check</span> option</span><br></pre></td></tr></table></figure>

<p>ÊâßË°åÊèíÂÖ•ËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu_v_2 <span class="keyword">values</span>(<span class="number">30</span>,<span class="string">&#x27;Tom&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Ê≠§ÊèíÂÖ•ËØ≠Âè•Á¨¶ÂêàËßÜÂõæstu_v_2ÁöÑÊù°‰ª∂Ôºå‰ΩÜÊòØÊó†ËÆ∫stu_v_1ÊòØÂê¶ÊúâÊ£ÄÊü•ÈÄâÈ°πÔºåÈÉΩ‰ºöËøõË°åÂØπstu_v_1Êù°‰ª∂ÁöÑÊ£ÄÊü•ÔºåÊâÄ‰ª•‰∏çÁ¨¶ÂêàÊä•Èîô</p>
</blockquote>
<p>LOCALÁ§∫‰æãÔºö</p>
<p>Á¨¨‰∏ÄÁßçÊÉÖÂÜµ‰∏éCASCADEDÁõ∏Âêå</p>
<p>Á¨¨‰∫åÁßçÊÉÖÂÜµÔºö</p>
<p>‰øÆÊîπËßÜÂõæstu_v_1Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> stu_v_1 <span class="keyword">as</span> <span class="keyword">select</span> id,name <span class="keyword">from</span> v1 <span class="keyword">where</span> id <span class="operator">&lt;=</span><span class="number">20</span></span><br></pre></td></tr></table></figure>

<p>‰æùÊçÆstu_v_1ËßÜÂõæÂª∫Á´ãËßÜÂõæstu_v_2Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> stu_v_2 <span class="keyword">as</span> <span class="keyword">select</span> id,name <span class="keyword">from</span> stu_v_1 <span class="keyword">where</span> id <span class="operator">&gt;=</span><span class="number">10</span> <span class="keyword">with</span> <span class="keyword">local</span> <span class="keyword">check</span> option</span><br></pre></td></tr></table></figure>

<p>ÊâßË°åÊèíÂÖ•ËØ≠Âè•Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> stu_v_2 <span class="keyword">values</span>(<span class="number">30</span>,<span class="string">&#x27;Tom&#x27;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Ê≠§ÊèíÂÖ•ËØ≠Âè•Á¨¶ÂêàËßÜÂõæstu_v_2ÁöÑÊù°‰ª∂Ôºå‰ºöÂØπstu_v_1ËøõË°åÊ£ÄÊü•ÊòØÂê¶ÊúâÊ£ÄÊü•ÈÄâÈ°π„ÄÇÂ¶ÇÊûúÊúâÔºåÂàôÂØπstu_v_1ËøõË°åÊù°‰ª∂Ê£ÄÊü•ÔºõÂ¶ÇÊûúÊ≤°ÊúâÔºåÂàô‰∏ç‰ºöÂØπstu_v_1ËøõË°åÊ£ÄÊü•ÔºåÊâÄ‰ª•‰∏ç‰ºöÊä•Èîô</p>
</blockquote>
<h3 id="4-3-Êõ¥Êñ∞Âèä‰ΩúÁî®"><a href="#4-3-Êõ¥Êñ∞Âèä‰ΩúÁî®" class="headerlink" title="4.3 Êõ¥Êñ∞Âèä‰ΩúÁî®"></a>4.3 Êõ¥Êñ∞Âèä‰ΩúÁî®</h3><p>ËßÜÂõæÁöÑÊõ¥Êñ∞Ôºö</p>
<p>Ë¶Å‰ΩøËßÜÂõæÂèØÊõ¥Êñ∞ÔºåËßÜÂõæ‰∏≠ÁöÑË°å‰∏éÂü∫Á°ÄË°®‰∏≠ÁöÑË°å‰πãÈó¥ÂøÖÈ°ªÂ≠òÂú®‰∏ÄÂØπ‰∏ÄÁöÑÂÖ≥Á≥ª„ÄÇÂ¶ÇÊûúËßÜÂõæÂåÖÂê´‰ª•‰∏ã‰ªª‰Ωï‰∏ÄÈ°πÔºåÂàôËØ•ËßÜÂõæ‰∏çÂèØÊõ¥Êñ∞Ôºö</p>
<ol>
<li>ËÅöÂêàÂáΩÊï∞ÊàñÁ™óÂè£ÂáΩÊï∞(SUM()„ÄÅMIN()„ÄÅMAX()„ÄÅCOUNT()Á≠â)</li>
<li>DISTINCT</li>
<li>GROUP BY</li>
<li>HAVING</li>
<li>UNIONÊàñËÄÖUNION ALL</li>
</ol>
<p>ËßÜÂõæÁöÑ‰ΩúÁî®Ôºö</p>
<blockquote>
<ul>
<li><p>ÁÆÄÂçïÔºö</p>
<p>ËßÜÂõæ‰∏ç‰ªÖÂèØ‰ª•ÁÆÄÂåñÁî®Êà∑ÂØπÊï∞ÊçÆÁöÑÁêÜËß£Ôºå‰πüÂèØ‰ª•ÁÆÄÂåñ‰ªñ‰ª¨ÁöÑÊìç‰Ωú„ÄÇÈÇ£‰∫õË¢´ÁªèÂ∏∏‰ΩøÁî®ÁöÑÊü•ËØ¢ÂèØ‰ª•Ë¢´ÂÆö‰πâ‰∏∫ËßÜÂõæÔºå‰ªéËÄå‰ΩøÂæóÁî®Êà∑‰∏çÂøÖ‰∏∫‰ª•ÂêéÁöÑÊìç‰ΩúÊØèÊ¨°ÊåáÂÆöÂÖ®ÈÉ®ÁöÑÊù°‰ª∂„ÄÇ</p>
</li>
<li><p>ÂÆâÂÖ®Ôºö</p>
<p>Êï∞ÊçÆÂ∫ìÂèØ‰ª•ÊéàÊùÉÔºå‰ΩÜ‰∏çËÉΩÊéàÊùÉÂà∞Êï∞ÊçÆÂ∫ìÁâπÂÆöË°åÂíåÁâπÂÆöÁöÑÂàó‰∏ä„ÄÇÈÄöËøáËßÜÂõæÁî®Êà∑Âè™ËÉΩÊü•ËØ¢Âíå‰øÆÊîπ‰ªñ‰ª¨ÊâÄËÉΩËßÅÂà∞ÁöÑÊï∞ÊçÆ</p>
</li>
<li><p>Êï∞ÊçÆÁã¨Á´ãÔºö</p>
<p>ËßÜÂõæÂèØÂ∏ÆÂä©Áî®Êà∑Â±èËîΩÁúüÂÆûË°®ÁªìÊûÑÂèòÂåñÂ∏¶Êù•ÁöÑÂΩ±Âìç„ÄÇ</p>
</li>
</ul>
</blockquote>
</div><div class="story post-story"><h2 id="5-Â≠òÂÇ®ËøáÁ®ã"><a href="#5-Â≠òÂÇ®ËøáÁ®ã" class="headerlink" title="5.Â≠òÂÇ®ËøáÁ®ã"></a>5.Â≠òÂÇ®ËøáÁ®ã</h2><p>Â≠òÂÇ®ËøáÁ®ãÊòØ‰∫ãÂÖàÁªèËøáÁºñËØëÂπ∂Â≠òÂÇ®Âú®Êï∞ÊçÆÂ∫ì‰∏≠ÁöÑ‰∏ÄÊÆµSQLËØ≠Âè•ÁöÑÈõÜÂêàÔºåË∞ÉÁî®Â≠òÂÇ®ËøáÁ®ãÂèØ‰ª•ÁÆÄÂåñÂ∫îÁî®ÂºÄÂèë‰∫∫ÂëòÁöÑÂæàÂ§öÂ∑•‰ΩúÔºåÂáèÂ∞ëÊï∞ÊçÆÂú®Êï∞ÊçÆÂ∫ìÂíåÂ∫îÁî®ÊúçÂä°Âô®‰πãÈó¥ÁöÑ‰º†ËæìÔºåÂØπ‰∫éÊèêÈ´òÊï∞ÊçÆÂ§ÑÁêÜÁöÑÊïàÁéáÊòØÊúâÂ•ΩÂ§ÑÁöÑ„ÄÇ</p>
<p>Â≠òÂÇ®ËøáÁ®ãÊÄùÊÉ≥‰∏äÂæàÁÆÄÂçïÔºåÂ∞±ÊòØÊï∞ÊçÆÂ∫ìSQLËØ≠Ë®ÄÂ±ÇÈù¢ÁöÑ‰ª£Á†ÅÂ∞ÅË£Ö‰∏éÈáçÁî®„ÄÇ</p>
<p>ÁâπÁÇπÔºö</p>
<ul>
<li>Â∞ÅË£ÖÔºåÂ§çÁî®</li>
<li>ÂèØ‰ª•Êé•Êî∂ÂèÇÊï∞Ôºå‰πüÂèØ‰ª•ËøîÂõûÊï∞ÊçÆ</li>
<li>ÂáèÂ∞ëÁΩëÁªú‰∫§‰∫íÔºåÊïàÁéáÊèêÂçá</li>
</ul>
<h3 id="5-1-Âü∫Á°ÄËØ≠Ê≥ï"><a href="#5-1-Âü∫Á°ÄËØ≠Ê≥ï" class="headerlink" title="5.1 Âü∫Á°ÄËØ≠Ê≥ï"></a>5.1 Âü∫Á°ÄËØ≠Ê≥ï</h3><p>ÂàõÂª∫Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞([ÂèÇÊï∞ÂàóË°®])</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">SQL</span>ËØ≠Âè•;</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Ê≥®ÊÑèÔºöÂú®ÂëΩ‰ª§Ë°å‰∏≠ÔºåÊâßË°åÂàõÂª∫Â≠òÂÇ®ËøáÁ®ãÁöÑSQLÊó∂ÔºåÈúÄË¶ÅÈÄöËøáÂÖ≥ÈîÆÂ≠ó<code>delimiter</code>ÊåáÂÆöSQLËØ≠Âè•ÁöÑÁªìÊùüÁ¨¶„ÄÇ</p>
</blockquote>
<p>Ë∞ÉÁî®Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞([ÂèÇÊï∞])</span><br></pre></td></tr></table></figure>

<p>Êü•ÁúãÔºö</p>
<ul>
<li><p>Êü•ËØ¢ÊåáÂÆöÊï∞ÊçÆÂ∫ìÁöÑÂ≠òÂÇ®ËøáÁ®ãÂèäÁä∂ÊÄÅ‰ø°ÊÅØÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> INFORMATION_SCHEMA.ROUTINES <span class="keyword">where</span> ROUTINE_SCHEMA<span class="operator">=</span><span class="string">&#x27;XXX&#x27;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Êü•ËØ¢Êüê‰∏™Â≠òÂÇ®ËøáÁ®ãÁöÑÂÆö‰πâÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">procedure</span> Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞;</span><br></pre></td></tr></table></figure></li>
</ul>
<p>Âà†Èô§Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> [if <span class="keyword">exists</span>] Â≠òÂÇ®ËøáÁ®ãÂêçÁß∞;</span><br></pre></td></tr></table></figure>



</div><div class="story post-story"><h2 id="6-Ëß¶ÂèëÂô®"><a href="#6-Ëß¶ÂèëÂô®" class="headerlink" title="6.Ëß¶ÂèëÂô®"></a>6.Ëß¶ÂèëÂô®</h2><h3 id="6-1-‰ªãÁªç"><a href="#6-1-‰ªãÁªç" class="headerlink" title="6.1 ‰ªãÁªç"></a>6.1 ‰ªãÁªç</h3><p>Ëß¶ÂèëÂô®ÊòØ‰∏éË°®ÊúâÂÖ≥ÁöÑÊï∞ÊçÆÂ∫ìÂØπË±°ÔºåÊåáÂú®<code>insert</code>&#x2F;<code>update</code>&#x2F;<code>delete</code>‰πãÂâçÊàñ‰πãÂêéÔºåËß¶ÂèëÂπ∂ÊâßË°åËß¶ÂèëÂô®‰∏≠ÂÆö‰πâÁöÑSQLËØ≠Âè•ÈõÜÂêà„ÄÇËß¶ÂèëÂô®ÁöÑËøôÁßçÁâπÊÄßÂèØ‰ª•ÂçèÂä©Â∫îÁî®Âú®Êï∞ÊçÆÂ∫ìÁ´ØÁ°Æ‰øùÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄßÔºåÊó•ÂøóËÆ∞ÂΩïÔºåÊï∞ÊçÆÊ†°È™åÁ≠âÊìç‰Ωú„ÄÇ</p>
<p>‰ΩøÁî®Âà´ÂêçOLDÂíåNEWÊù•ÂºïÁî®Ëß¶ÂèëÂô®‰∏≠ÂèëÁîüÂèòÂåñÁöÑËÆ∞ÂΩïÂÜÖÂÆπÔºåËøô‰∏éÂÖ∂‰ªñÁöÑÊï∞ÊçÆÂ∫ìÊòØÁõ∏‰ººÁöÑ„ÄÇÁé∞Âú®Ëß¶ÂèëÂô®ËøòÂè™ÊîØÊåÅË°åÁ∫ßËß¶ÂèëÔºå‰∏çÊîØÊåÅËØ≠Âè•Á∫ßËß¶Âèë„ÄÇ</p>
<table>
<thead>
<tr>
<th>Ëß¶ÂèëÂô®Á±ªÂûã</th>
<th>NEWÂíåOLD</th>
</tr>
</thead>
<tbody><tr>
<td>INSERTÂûãËß¶ÂèëÂô®</td>
<td>NEWË°®Á§∫Â∞ÜË¶ÅÊàñËÄÖÂ∑≤ÁªèÊñ∞Â¢ûÁöÑÊï∞ÊçÆ</td>
</tr>
<tr>
<td>UPDATEÂûãËß¶ÂèëÂô®</td>
<td>OLDË°®Á§∫‰øÆÊîπ‰πãÂâçÁöÑÊï∞ÊçÆÔºåNEWË°®Á§∫Â∞ÜË¶ÅÊàñÂ∑≤Áªè‰øÆÊîπÂêéÁöÑÊï∞ÊçÆ</td>
</tr>
<tr>
<td>DELETEÂûãËß¶ÂèëÂô®</td>
<td>OLDË°®Á§∫Â∞ÜË¶ÅÊàñËÄÖÂ∑≤ÁªèÂà´Èô§ÁöÑÊï∞ÊçÆ</td>
</tr>
</tbody></table>
<h3 id="6-2-Âü∫Á°ÄËØ≠Ê≥ï"><a href="#6-2-Âü∫Á°ÄËØ≠Ê≥ï" class="headerlink" title="6.2 Âü∫Á°ÄËØ≠Ê≥ï"></a>6.2 Âü∫Á°ÄËØ≠Ê≥ï</h3><p>ÂàõÂª∫Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TRIGGER</span> trigger_name</span><br><span class="line">BEFORE<span class="operator">/</span>AFTER <span class="keyword">INSERT</span><span class="operator">/</span><span class="keyword">UPDATE</span><span class="operator">/</span><span class="keyword">DELETE</span></span><br><span class="line"><span class="keyword">ON</span> tbl_name <span class="keyword">FOR</span> <span class="keyword">EACH</span> <span class="type">ROW</span>			<span class="comment">--Ë°åÁ∫ßËß¶ÂèëÂô®</span></span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">		trigger_stmt</span><br><span class="line"><span class="keyword">END</span>;</span><br></pre></td></tr></table></figure>

<p>Êü•ÁúãÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SHOW</span> TRIGGERS;</span><br></pre></td></tr></table></figure>

<p>Âà†Èô§Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TRIGGER</span> [schema_name.]trigger_name;	<span class="comment">--Â¶ÇÊûúÊ≤°ÊúâÊåáÂÆöschema_name,ÈªòËÆ§‰∏∫ÂΩìÂâçÊï∞ÊçÆÂ∫ì„ÄÇ</span></span><br></pre></td></tr></table></figure>



<h3 id="6-3-Ê°à‰æã"><a href="#6-3-Ê°à‰æã" class="headerlink" title="6.3 Ê°à‰æã"></a>6.3 Ê°à‰æã</h3><p>ÈÄöËøáËß¶ÂèëÂô®Â∞ÜËÆ∞ÂΩïtb_userË°®ÁöÑÊï∞ÊçÆÂèòÊõ¥Êó•ÂøóÊèíÂÖ•Âà∞Êó•ÂøóË°®user_logs‰∏≠ÔºåÂåÖÂê´Â¢ûÂä†Ôºå‰øÆÊîπÔºåÂà†Èô§Ôºö</p>
<p>user_logsË°®ÁªìÊûÑÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> user_logs(</span><br><span class="line">	id <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="keyword">null</span> auto increment,</span><br><span class="line">	operation <span class="type">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;Êìç‰ΩúÁ±ªÂûãinsert/update/delete&#x27;</span>,</span><br><span class="line">	operate_time datetime <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;Êìç‰ΩúÊó∂Èó¥&#x27;</span>Ôºå</span><br><span class="line">	operate_id <span class="type">int</span>(<span class="number">11</span>) <span class="keyword">not</span> <span class="keyword">null</span> comment <span class="string">&#x27;Êìç‰ΩúÁöÑID&#x27;</span>,</span><br><span class="line">	operate_params <span class="type">varchar</span>(<span class="number">500</span>)comment <span class="string">&#x27;Êìç‰ΩúÂèÇÊï∞&#x27;</span>,</span><br><span class="line">	<span class="keyword">primary</span> key(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">)engine<span class="operator">=</span>innodb <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure>



<h4 id="insertÁ±ªÂûã"><a href="#insertÁ±ªÂûã" class="headerlink" title="insertÁ±ªÂûã"></a>insertÁ±ªÂûã</h4><p>ÂàõÂª∫tb_user_insert_triggerËß¶ÂèëÂô®Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> tb_user_insert_trigger</span><br><span class="line">	after <span class="keyword">insert</span> <span class="keyword">on</span> tb_user <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">insert</span> <span class="keyword">into</span> user_logs(id,operation,operate_time,operate_id,operate_params) <span class="keyword">VALUES</span></span><br><span class="line">	(<span class="keyword">null</span>,<span class="string">&#x27;insert&#x27;</span>,now(),new.id,concat(<span class="string">&#x27;ÊèíÂÖ•ÁöÑÊï∞ÊçÆÂÜÖÂÆπ‰∏∫Ôºöid=&#x27;</span>,new.id, <span class="string">&#x27;,name=&#x27;</span>,new.name, <span class="string">&#x27;,phone=&#x27;</span>,new.phone, <span class="string">&#x27;,email=&#x27;</span>,new.email, <span class="string">&#x27;,profession=&#x27;</span>,new.profession));</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>new‰∏∫ÊèíÂÖ•ÁöÑÊï∞ÊçÆ</li>
<li>concat() ÂáΩÊï∞Áî®‰∫éÂ∞ÜÂ§ö‰∏™Â≠óÁ¨¶‰∏≤ËøûÊé•Ëµ∑Êù•ÔºåÂΩ¢Êàê‰∏Ä‰∏™Âçï‰∏ÄÁöÑÂ≠óÁ¨¶‰∏≤</li>
</ul>
<h4 id="updateÁ±ªÂûã"><a href="#updateÁ±ªÂûã" class="headerlink" title="updateÁ±ªÂûã"></a>updateÁ±ªÂûã</h4><p>ÂàõÂª∫tb_user_update_triggerËß¶ÂèëÂô®Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> tb_user_insert_trigger</span><br><span class="line">	after <span class="keyword">update</span> <span class="keyword">on</span> tb_user <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">insert</span> <span class="keyword">into</span> user_logs(id,operation,operate_time,operate_id,operate_params) <span class="keyword">VALUES</span></span><br><span class="line">	(<span class="keyword">null</span>,<span class="string">&#x27;update&#x27;</span>,now(),new.id,concat(<span class="string">&#x27;Êõ¥Êñ∞‰πãÂêéÁöÑÊï∞ÊçÆÂÜÖÂÆπ‰∏∫Ôºöid=&#x27;</span>,old.id, <span class="string">&#x27;,name=&#x27;</span>,old.name, <span class="string">&#x27;,phone=&#x27;</span>,old.phone, <span class="string">&#x27;,email=&#x27;</span>,old.email, <span class="string">&#x27;,profession=&#x27;</span>,old.profession, <span class="string">&#x27;|Êõ¥Êñ∞‰πãÂêéÁöÑÊï∞ÊçÆÂÜÖÂÆπ‰∏∫Ôºöid=&#x27;</span>,new.id, <span class="string">&#x27;,name=&#x27;</span>,new.name, <span class="string">&#x27;,phone=&#x27;</span>,new.phone, <span class="string">&#x27;,email=&#x27;</span>,new.email, <span class="string">&#x27;,profession=&#x27;</span>,new.profession));</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>old‰∏∫Êõ¥Êñ∞‰πãÂâçÁöÑÊï∞ÊçÆ</li>
</ul>
<h4 id="deleteÁ±ªÂûã"><a href="#deleteÁ±ªÂûã" class="headerlink" title="deleteÁ±ªÂûã"></a>deleteÁ±ªÂûã</h4><p>ÂàõÂª∫tb_user_delete_triggerËß¶ÂèëÂô®Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">trigger</span> tb_user_delete_trigger</span><br><span class="line">	after <span class="keyword">delete</span> <span class="keyword">on</span> tb_user <span class="keyword">for</span> <span class="keyword">each</span> <span class="type">row</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">	<span class="keyword">insert</span> <span class="keyword">into</span> user_logs(id,operation,operate_time,operate_id,operate_params) <span class="keyword">VALUES</span></span><br><span class="line">	(<span class="keyword">null</span>,<span class="string">&#x27;update&#x27;</span>,now(),new.id,concat(<span class="string">&#x27;Âà†Èô§ÁöÑÊï∞ÊçÆÂÜÖÂÆπ‰∏∫Ôºöid=&#x27;</span>,old.id, <span class="string">&#x27;,name=&#x27;</span>,old.name, <span class="string">&#x27;,phone=&#x27;</span>,old.phone, <span class="string">&#x27;,email=&#x27;</span>,old.email, <span class="string">&#x27;,profession=&#x27;</span>,old.profession));</span><br><span class="line"><span class="keyword">end</span>;</span><br></pre></td></tr></table></figure>



</div><div class="story post-story"><h2 id="7-ÈîÅ"><a href="#7-ÈîÅ" class="headerlink" title="7.ÈîÅ"></a>7.ÈîÅ</h2><h3 id="7-1-‰ªãÁªç"><a href="#7-1-‰ªãÁªç" class="headerlink" title="7.1 ‰ªãÁªç"></a>7.1 ‰ªãÁªç</h3><p>ÈîÅÊòØËÆ°ÁÆóÊú∫ÂçèË∞ÉÂ§ö‰∏™ËøõÁ®ãÊàñÁ∫øÁ®ãÂπ∂ÂèëËÆøÈóÆÊüê‰∏ÄËµÑÊ∫êÁöÑÊú∫Âà∂„ÄÇÂú®Êï∞ÊçÆÂ∫ì‰∏≠ÔºåÈô§‰º†ÁªüÁöÑËÆ°ÁÆóËµÑÊ∫ê(CPU„ÄÅRAM„ÄÅI&#x2F;O)ÁöÑ‰∫âÁî®‰ª•Â§ñÔºåÊï∞ÊçÆ‰πüÊòØ‰∏ÄÁßç‰æõËÆ∏Â§öÁî®Êà∑ÂÖ±‰∫´ÁöÑËµÑÊ∫ê„ÄÇÂ¶Ç‰Ωï‰øùËØÅÊï∞ÊçÆÂπ∂ÂèëËÆøÈóÆÁöÑ‰∏ÄËá¥ÊÄß„ÄÅÊúâÊïàÊÄßÊòØÊâÄÊúâÊï∞ÊçÆÂ∫ìÂøÖÈ°ªËß£ÂÜ≥ÁöÑ‰∏Ä‰∏™ÈóÆÈ¢òÔºåÈîÅÂÜ≤Á™Å‰πüÊòØÂΩ±ÂìçÊï∞ÊçÆÂ∫ìÂπ∂ÂèëËÆøÈóÆÊÄßËÉΩÁöÑ‰∏Ä‰∏™ÈáçË¶ÅÂõ†Á¥†„ÄÇ‰ªéËøô‰∏™ËßíÂ∫¶Êù•ËØ¥ÔºåÈîÅÂØπÊï∞ÊçÆÂ∫ìËÄåË®ÄÊòæÂæóÂ∞§ÂÖ∂ÈáçË¶ÅÔºå‰πüÊõ¥Âä†Â§çÊùÇ„ÄÇ</p>
<h3 id="7-2-ÂÖ®Â±ÄÈîÅ"><a href="#7-2-ÂÖ®Â±ÄÈîÅ" class="headerlink" title="7.2 ÂÖ®Â±ÄÈîÅ"></a>7.2 ÂÖ®Â±ÄÈîÅ</h3><p>ÂÖ®Â±ÄÈîÅÂ∞±ÊòØÂØπÊï¥‰∏™Êï∞ÊçÆÂ∫ìÂÆû‰æãÂä†ÈîÅÔºåÂä†ÈîÅÂêéÊï¥‰∏™ÂÆû‰æãÂ∞±Â§Ñ‰∫éÂè™ËØªÁä∂ÊÄÅÔºåÂêéÁª≠ÁöÑDML(ÂØπÊï∞ÊçÆÁöÑÂ¢ûÂà†ÊîπÊü•)ÁöÑÂÜôËØ≠Âè•ÔºåDDL(ÂØπÊï∞ÊçÆÂ∫ìÁ¥¢ÂºïÁöÑÂ¢ûÂà†ÊîπÊü•)ËØ≠Âè•ÔºåÂ∑≤ÁªèÊõ¥Êñ∞Êìç‰ΩúÁöÑ‰∫ãÂä°Êèê‰∫§ËØ≠Âè•ÈÉΩÂ∞ÜË¢´ÈòªÂ°û„ÄÇ</p>
<p>ÂÖ∂ÂÖ∏ÂûãÁöÑ‰ΩøÁî®Âú∫ÊôØÊòØÂÅöÂÖ®Â∫ìÁöÑÈÄªËæëÂ§á‰ªΩÔºåÂØπÊâÄÊúâÁöÑË°®ËøõË°åÈîÅÂÆöÔºå‰ªéËÄåËé∑Âèñ‰∏ÄËá¥ÊÄßËßÜÂõæÔºå‰øùËØÅÊï∞ÊçÆÁöÑÂÆåÊï¥ÊÄß</p>
<p>Ê∑ªÂä†ÂÖ®Â±ÄÈîÅÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flush tables <span class="keyword">with</span> read lock;</span><br></pre></td></tr></table></figure>

<p>Âú®<strong>ÈùûMySQLÂëΩ‰ª§Ë°å‰∏≠</strong>ËæìÂÖ•Âú∞ÂùÄ„ÄÅË¥¶Âè∑„ÄÅÂØÜÁ†ÅÔºåÂ∞ÜÊï∞ÊçÆÂ∫ìÂ≠òÊîæÂà∞ÊåáÂÆöÁöÑÊñá‰ª∂‰∏≠Ôºö</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump -h 192.168.200.001 -uroot -p1234 user &gt; D:/user.sql</span><br></pre></td></tr></table></figure>

<p>Ëß£Èô§ÂÖ®Â±ÄÈîÅÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unlock tables;</span><br></pre></td></tr></table></figure>



<p>ÁâπÁÇπÔºö</p>
<p>Êï∞ÊçÆÂ∫ì‰∏≠Âä†ÂÖ®Â±ÄÈîÅÔºåÊòØ‰∏Ä‰∏™ÊØîËæÉÈáçÁöÑÊìç‰ΩúÔºåÂ≠òÂú®‰ª•‰∏ãÈóÆÈ¢òÔºö</p>
<ul>
<li>Â¶ÇÊûúÂú®‰∏ªÂ∫ì‰∏äÂ§á‰ªΩÔºåÈÇ£‰πàÂú®Â§á‰ªΩÊúüÈó¥ÈÉΩ‰∏çËÉΩÊâßË°åÊõ¥Êñ∞Ôºå‰∏öÂä°Âü∫Êú¨‰∏äÂ∞±ÂæóÂÅúÊëÜ„ÄÇ</li>
<li>Â¶ÇÊûúÂú®‰ªéÂ∫ì‰∏äÂ§á‰ªΩÔºåÈÇ£‰πàÂú®Â§á‰ªΩÊúüÈó¥‰ªéÂ∫ì‰∏çËÉΩÊâßË°å‰∏ªÂ∫ìÂêåÊ≠•ËøáÊù•ÁöÑ‰∫åËøõÂà∂Êó•Âøó(binlog),‰ºöÂØºËá¥‰∏ª‰ªéÂª∂Ëøü„ÄÇ</li>
</ul>
<p>Âú®InnoDBÂºïÊìé‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•Âú®Â§á‰ªΩÊó∂Âä†‰∏äÂèÇÊï∞<code>--single-transaction</code>ÂèÇÊï∞Êù•ÂÆåÊàê‰∏çÂä†ÈîÅÁöÑ‰∏ÄËá¥ÊÄßÊï∞ÊçÆÂ§á‰ªΩ„ÄÇ</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump --single-transaction -uroot -p123456 db &gt; db.sql</span><br></pre></td></tr></table></figure>



<h3 id="7-3-Ë°®Á∫ßÈîÅ"><a href="#7-3-Ë°®Á∫ßÈîÅ" class="headerlink" title="7.3 Ë°®Á∫ßÈîÅ"></a>7.3 Ë°®Á∫ßÈîÅ</h3><p>Ë°®Á∫ßÈîÅÔºåÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÊï¥Âº†Ë°®„ÄÇÈîÅÂÆöÁ≤íÂ∫¶Â§ßÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄÈ´òÔºåÂπ∂ÂèëÂ∫¶ÊúÄ‰Ωé„ÄÇÂ∫îÁî®Âú®MyISAM„ÄÅInnoDB„ÄÅBDBÁ≠âÂ≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ</p>
<p>ÂØπ‰∫éË°®Á∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ul>
<li>Ë°®ÈîÅ</li>
<li>ÂÖÉÊï∞ÊçÆÈîÅ(meta data lock,MDL)</li>
<li>ÊÑèÂêëÈîÅ</li>
</ul>
<h4 id="Ë°®ÈîÅ"><a href="#Ë°®ÈîÅ" class="headerlink" title="Ë°®ÈîÅ"></a>Ë°®ÈîÅ</h4><p>ÂØπ‰∫éË°®ÈîÅÔºåÂàÜ‰∏∫‰∏§Á±ªÔºö</p>
<ul>
<li>Ë°®ÂÖ±‰∫´ËØªÈîÅ(read lock)ÔºöÂΩìÂâçÂÆ¢Êà∑Á´ØÂè™ÂèØ‰ª•ËØªÔºå‰∏çÂèØ‰ª•ÂÜôÔºåÂÖ∂‰ªñÂÆ¢Êà∑Á´Ø‰πü‰∏ÄÊ†∑</li>
<li>Ë°®Áã¨Âç†ÂÜôÈîÅ(write lock)ÔºöÂΩìÂâçÂÆ¢Êà∑Á´ØÊó¢ÂèØ‰ª•ËØªÔºåÂèàÂèØ‰ª•ÂÜôÔºåÂÖ∂‰ªñÂÆ¢Êà∑Á´ØÈÉΩ‰∏çÂèØ‰ª•</li>
</ul>
<p>ËØ≠Ê≥ïÔºö</p>
<ul>
<li><p>Âä†ÈîÅÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lock tables Ë°®Âêç read<span class="operator">/</span>write;</span><br></pre></td></tr></table></figure>
</li>
<li><p>ÈáäÊîæÈîÅÔºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unlock tables;<span class="operator">/</span>‰∏éÂÆ¢Êà∑Á´ØÊñ≠ÂºÄËøûÊé•</span><br></pre></td></tr></table></figure></li>
</ul>
<h4 id="ÂÖÉÊï∞ÊçÆÈîÅ"><a href="#ÂÖÉÊï∞ÊçÆÈîÅ" class="headerlink" title="ÂÖÉÊï∞ÊçÆÈîÅ"></a>ÂÖÉÊï∞ÊçÆÈîÅ</h4><p>MDLÂä†ÈîÅËøáÁ®ãÊòØÁ≥ªÁªüËá™Âä®ÊéßÂà∂ÔºåÊó†ÈúÄÊòæÂºè‰ΩøÁî®ÔºåÂú®ËÆøÈóÆ‰∏ÄÂº†Ë°®ÁöÑÊó∂ÂÄô‰ºöËá™Âä®Âä†‰∏ä„ÄÇMDLÈîÅ‰∏ªË¶Å‰ΩúÁî®ÊòØÁª¥Êä§Ë°®ÂÖÉÊï∞ÊçÆÁöÑÊï∞ÊçÆ‰∏ÄËá¥ÊÄßÔºåÂú®Ë°®‰∏äÊúâÊ¥ªÂä®‰∫ãÂä°ÁöÑÊó∂ÂÄôÔºå‰∏çÂèØ‰ª•ÂØπÂÖÉÊï∞ÊçÆËøõË°åÂÜôÂÖ•Êìç‰Ωú„ÄÇ‰∏∫‰∫ÜÈÅøÂÖçDML‰∏éDDLÂÜ≤Á™ÅÔºå‰øùËØÅËØªÂÜôÁöÑÊ≠£Á°ÆÊÄß„ÄÇ</p>
<p>Âú®MySQL5.5‰∏≠ÂºïÂÖ•‰∫ÜMDL,ÂΩìÂØπ‰∏ÄÂº†Ë°®ËøõË°åÂ¢ûÂà†ÊîπÊü•ÁöÑÊó∂ÂÄôÔºåÂä†MDLËØªÈîÅÔºàÂÖ±‰∫´ÔºâÔºõÂΩìÂØπË°®ÁªìÊûÑËøõË°åÂèòÊõ¥Êìç‰ΩúÁöÑÊó∂ÂÄôÔºåÂä†MDLÂÜôÈîÅ(Êéí‰ªñ)„ÄÇ</p>
<table>
<thead>
<tr>
<th>ÂØπÂ∫îSQL</th>
<th>ÈîÅÁ±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody><tr>
<td>lock tables xxx read&#x2F;write</td>
<td>SHARED_READ_ONLY&#x2F;SHARED_NO_READ_WRITE</td>
<td></td>
</tr>
<tr>
<td>select,select ‚Ä¶ lock in share mode</td>
<td>SHARED_READ</td>
<td>‰∏éSHARED_READ„ÄÅSHARED_WRITEÂÖºÂÆπÔºå‰∏éEXCLUSIVE‰∫íÊñ•</td>
</tr>
<tr>
<td>insert,update„ÄÅdelete„ÄÅselect,for update</td>
<td>SHARED_WRITE</td>
<td>‰∏éSHARED_READ„ÄÅSHARED_WRITEÂÖºÂÆπÔºå‰∏éEXCLUSIVE‰∫íÊñ•</td>
</tr>
<tr>
<td>alter table‚Ä¶</td>
<td>EXCLUSIVE</td>
<td>‰∏éÂÖ∂‰ªñÁöÑMDLÈÉΩ‰∫íÊñ•</td>
</tr>
</tbody></table>
<ul>
<li>Â§ßËá¥Â∞±ÊòØ‰øÆÊîπË°®ÁªìÊûÑÊó∂ÔºåÊó†Ê≥ïÂ¢ûÂà†ÊîπÊü•ÔºõÂ¢ûÂà†Êü•ÊîπÊó∂ÔºåÊó†Ê≥ï‰øÆÊîπË°®ÁªìÊûÑ</li>
</ul>
<h4 id="ÊÑèÂêëÈîÅ"><a href="#ÊÑèÂêëÈîÅ" class="headerlink" title="ÊÑèÂêëÈîÅ"></a>ÊÑèÂêëÈîÅ</h4><p>‰∏∫‰∫ÜÈÅøÂÖçDMLÂú®ÊâßË°åÊó∂ÔºåÂä†ÁöÑË°åÈîÅ‰∏éË°®ÈîÅÁöÑÂÜ≤Á™ÅÔºåÂú®InnoDB‰∏≠ÂºïÂÖ•‰∫ÜÊÑèÂêëÈîÅÔºå‰Ωø<strong>ÂæóË°®ÈîÅ‰∏çÁî®Ê£ÄÊü•ÊØèË°åÊï∞ÊçÆÊòØÂê¶Âä†ÈîÅ</strong>Ôºå‰ΩøÁî®ÊÑèÂêëÈîÅÊù•ÂáèÂ∞ëË°®ÈîÅÁöÑÊ£ÄÊü•„ÄÇ</p>
<p>Âú®Âä†ÂÖ•<strong>Ë°åÈîÅ</strong>ÂêéÔºå‰ºöËá™Âä®Ê∑ªÂä†<strong>ÊÑèÂêëÈîÅ</strong>Ôºå<strong>Â¶ÇÊûúÂ≠òÂú®ÊÑèÂêëÈîÅÈÇ£‰πàÊ∑ªÂä†Ë°®ÈîÅÂ∞±‰ºöÈòªÂ°ûÁ≠âÂæÖ</strong>Ôºå‰ΩøÂæó‰∏çÈúÄË¶ÅÊ£ÄÊü•ÊòØÂê¶Â≠òÂú®Ë°åÈîÅÔºõËß£Èô§Ë°åÈîÅÂêéÔºåËá™Âä®Ëß£Èô§ÊÑèÂêëÈîÅÔºåÂ∞±ÂèØ‰ª•‰∏äË°®ÈîÅ‰∫Ü</p>
<p>ÊÑèÂêëÈîÅÂàÜ‰∏∫Ôºö</p>
<ol>
<li><p>ÊÑèÂêëÂÖ±‰∫´ÈîÅ(IS)ÔºöÁî±ËØ≠Âè•select..lock in share modeÊ∑ªÂä†„ÄÇ</p>
<ul>
<li>‰∏éË°®ÈîÅÂÖ±‰∫´ÈîÅ(read)ÂÖºÂÆπÔºå‰∏éË°®ÈîÅÊéíÂÆÉÈîÅ(write)‰∫íÊñ•„ÄÇ</li>
</ul>
</li>
<li><p>ÊÑèÂêëÊéí‰ªñÈîÅ(lX)ÔºöÁî±insert„ÄÅupdate„ÄÅdelete„ÄÅselect..for updateÊ∑ªÂä†„ÄÇ</p>
<ul>
<li>‰∏éË°®ÈîÅÂÖ±‰∫´ÈîÅ(read)ÂèäÊéíÂÆÉÈîÅ(write)ÈÉΩ‰∫íÊñ•„ÄÇÊÑèÂêëÈîÅ‰πãÈó¥‰∏ç‰ºö‰∫íÊñ•„ÄÇ</li>
</ul>
</li>
</ol>
<h3 id="7-4-Ë°åÁ∫ßÈîÅ"><a href="#7-4-Ë°åÁ∫ßÈîÅ" class="headerlink" title="7.4 Ë°åÁ∫ßÈîÅ"></a>7.4 Ë°åÁ∫ßÈîÅ</h3><p>Ë°åÁ∫ßÈîÅÔºåÊØèÊ¨°Êìç‰ΩúÈîÅ‰ΩèÂØπÂ∫îÁöÑË°åÊï∞ÊçÆ„ÄÇÈîÅÂÆöÁ≤íÂ∫¶ÊúÄÂ∞èÔºåÂèëÁîüÈîÅÂÜ≤Á™ÅÁöÑÊ¶ÇÁéáÊúÄ‰ΩéÔºåÂπ∂ÂèëÂ∫¶ÊúÄÈ´ò„ÄÇÂ∫îÁî®Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠„ÄÇ</p>
<p>InnoDBÁöÑÊï∞ÊçÆÊòØÂü∫‰∫éÁ¥¢ÂºïÁªÑÁªáÁöÑÔºåË°åÈîÅÊòØÈÄöËøáÂØπÁ¥¢Âºï‰∏äÁöÑÁ¥¢ÂºïÈ°πÂä†ÈîÅÊù•ÂÆûÁé∞ÁöÑÔºåËÄå‰∏çÊòØÂØπËÆ∞ÂΩïÂä†ÁöÑÈîÅ„ÄÇÂØπ‰∫éË°åÁ∫ßÈîÅÔºå‰∏ªË¶ÅÂàÜ‰∏∫‰ª•‰∏ã‰∏âÁ±ªÔºö</p>
<ol>
<li>Ë°åÈîÅ(Record Lock)ÔºöÈîÅÂÆöÂçï‰∏™Ë°åËÆ∞ÂΩïÁöÑÈîÅÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÂØπÊ≠§Ë°åËøõË°åupdateÂíådelete„ÄÇÂú®RC„ÄÅRRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇ</li>
<li>Èó¥ÈöôÈîÅ(Gap Lock)ÔºöÈîÅÂÆöÁ¥¢ÂºïËÆ∞ÂΩïÈó¥ÈöôÔºà‰∏çÂê´ËØ•ËÆ∞ÂΩïÔºâÔºåÁ°Æ‰øùÁ¥¢ÂºïËÆ∞ÂΩïÈó¥Èöô‰∏çÂèòÔºåÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°Âú®Ëøô‰∏™Èó¥ÈöôËøõË°åinsert,‰∫ßÁîüÂπªËØª„ÄÇÂú®RRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÈÉΩÊîØÊåÅ„ÄÇ<ul>
<li>ÂπªËØªÔºö‰∫ãÂä°A‰øÆÊîπ‰∫ÜË°®‰∏≠ÊâÄÊúâ‰ø°ÊÅØÔºåÊ≠§Êó∂‰∫ãÂä°BÊèíÂÖ•‰∏ÄÊù°Êï∞ÊçÆÔºåÂú®‰∫ãÂä°AÊèê‰∫§Êó∂ÂèëÁé∞Êúâ‰∏ÄÊù°Êú™‰øÆÊîπÁöÑÊï∞ÊçÆ</li>
</ul>
</li>
<li>‰∏¥ÁïåÈîÅ(Next-Key Lock)ÔºöË°åÈîÅÂíåÈó¥ÈöôÈîÅÁªÑÂêàÔºåÂêåÊó∂ÈîÅ‰ΩèÊï∞ÊçÆÔºåÂπ∂ÈîÅ‰ΩèÊï∞ÊçÆÂâçÈù¢ÁöÑÈó¥ÈöôGap„ÄÇÂú®RRÈöîÁ¶ªÁ∫ßÂà´‰∏ãÊîØÊåÅ„ÄÇ</li>
</ol>
<h4 id="Ë°åÈîÅ"><a href="#Ë°åÈîÅ" class="headerlink" title="Ë°åÈîÅ"></a>Ë°åÈîÅ</h4><p>InnoDBÂÆûÁé∞‰∫Ü‰ª•‰∏ã‰∏§ÁßçÁ±ªÂûãÁöÑË°åÈîÅÔºö</p>
<ol>
<li>ÂÖ±‰∫´ÈîÅ(S)ÔºöÂÖÅËÆ∏‰∏Ä‰∏™‰∫ãÂä°ÂéªËØª‰∏ÄË°åÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÊéíÂÆÉÈîÅ„ÄÇ</li>
<li>Êéí‰ªñÈîÅ(X)ÔºöÂÖÅËÆ∏Ëé∑ÂèñÊéí‰ªñÈîÅÁöÑ‰∫ãÂä°Êõ¥Êñ∞Êï∞ÊçÆÔºåÈòªÊ≠¢ÂÖ∂‰ªñ‰∫ãÂä°Ëé∑ÂæóÁõ∏ÂêåÊï∞ÊçÆÈõÜÁöÑÂÖ±‰∫´ÈîÅÂíåÊéí‰ªñÈîÅ„ÄÇ</li>
</ol>
<p>ÂÖ±‰∫´ÈîÅ‰∏éÂÖ±‰∫´ÈîÅ‰πãÈó¥ÂÖºÂÆπÔºåÊéí‰ªñÈîÅ‰∏éÂÖ±‰∫´ÈîÅ‰ª•ÂèäËá™Â∑±ÈÉΩ‰∏çÂÖºÂÆπ</p>
<table>
<thead>
<tr>
<th>SQL</th>
<th>Ë°åÈîÅÁ±ªÂûã</th>
<th>ËØ¥Êòé</th>
</tr>
</thead>
<tbody><tr>
<td>insert</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>update</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>delete</td>
<td>Êéí‰ªñÈîÅ</td>
<td>Ëá™Âä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>select</td>
<td>Êó†</td>
<td></td>
</tr>
<tr>
<td>select ‚Ä¶ lock in share mode</td>
<td>ÂÖ±‰∫´ÈîÅ</td>
<td>ÊâãÂä®Âä†ÈîÅ</td>
</tr>
<tr>
<td>select ‚Ä¶ for update</td>
<td>Êéí‰ªñÈîÅ</td>
<td>ÊâãÂä®Âä†ÈîÅ</td>
</tr>
</tbody></table>
<h4 id="Èó¥ÈöôÈîÅ-amp-‰∏¥ÁïåÈîÅ"><a href="#Èó¥ÈöôÈîÅ-amp-‰∏¥ÁïåÈîÅ" class="headerlink" title="Èó¥ÈöôÈîÅ&amp;‰∏¥ÁïåÈîÅ"></a>Èó¥ÈöôÈîÅ&amp;‰∏¥ÁïåÈîÅ</h4><p><strong>ÈªòËÆ§ÊÉÖÂÜµ‰∏ã</strong>ÔºåInnoDBÂú®REPEATABLE READ‰∫ãÂä°ÈöîÁ¶ªÁ∫ßÂà´ËøêË°åÔºå<strong>InnoDB‰ΩøÁî®next-keyÈîÅ</strong>(‰∏¥ÁïåÈîÅ)ËøõË°åÊêúÁ¥¢ÂíåÁ¥¢ÂºïÊâ´ÊèèÔºå‰ª•Èò≤Ê≠¢ÂπªËØª„ÄÇ</p>
<ol>
<li><p>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢ÔºàÂîØ‰∏ÄÁ¥¢ÂºïÔºâÔºåÁªô‰∏çÂ≠òÂú®ÁöÑËÆ∞ÂΩïÂä†ÈîÅÊó∂Ôºå‰ºòÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</p>
<ul>
<li><p>Ë°®‰∏≠ÁöÑÊï∞ÊçÆÁöÑid‰æùÊ¨°‰∏∫1„ÄÅ3„ÄÅ5</p>
<p>Ê≠§Êó∂‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØË¶ÅÊü•ËØ¢‰∏Ä‰∏™‰∏çÂ≠òÂú®ÁöÑËÆ∞ÂΩïË¶ÅÊü•ËØ¢id‰∏∫4ÔºåÈÇ£‰πàÂ∞±‰ºöÂä†‰∏äÈó¥ÈöôÈîÅÔºåÈîÅ‰Ωè3Âíå5‰πãÈó¥</p>
<p>Èò≤Ê≠¢Ê≠§Êó∂Âè¶‰∏Ä‰∏™ÂÆ¢Êà∑Á´ØÊèíÂÖ•‰∏Ä‰∏™id‰∏∫4ÁöÑËÆ∞ÂΩïÔºåÂØºËá¥ÂèëÁîüÂπªËØª</p>
</li>
</ul>
</li>
<li><p>Á¥¢Âºï‰∏äÁöÑÁ≠âÂÄºÊü•ËØ¢(ÊôÆÈÄöÁ¥¢Âºï)ÔºåÂêëÂè≥ÈÅçÂéÜÊó∂ÊúÄÂêé‰∏Ä‰∏™ÂÄº‰∏çÊª°Ë∂≥Êü•ËØ¢ÈúÄÊ±ÇÊó∂Ôºånext-key lockÈÄÄÂåñ‰∏∫Èó¥ÈöôÈîÅ„ÄÇ</p>
<ul>
<li>Âõ†‰∏∫Á¥¢ÂºïÊòØÊåâÁÖßÂçáÂ∫èÊéíÂ∫èÁöÑÔºåÂÅáËÆæË¶ÅÊêúÁ¥¢ÁöÑÊòØÂÄºÊòØ18ÔºåÂΩìÊêúÁ¥¢Âà∞Á¨¨‰∏Ä‰∏™‰∏ç‰∏∫18ÂÄºÁöÑÊó∂ÂÄôÔºåËøô‰∏™ÂÄºÂÅáËÆæ‰∏∫30ÔºåÈÇ£‰πàÂ∞±‰ºöÂú®ÊúÄÂêé‰∏Ä‰∏™18‰∏é30‰πãÈó¥Âä†Èó¥ÈöôÈîÅ</li>
</ul>
</li>
<li><p>Á¥¢Âºï‰∏äÁöÑËåÉÂõ¥Êü•ËØ¢(ÂîØ‰∏ÄÁ¥¢Âºï)Ôºå‰ºöËÆøÈóÆÂà∞‰∏çÊª°Ë∂≥Êù°‰ª∂ÁöÑÁ¨¨‰∏Ä‰∏™ÂÄº‰∏∫Ê≠¢„ÄÇ</p>
</li>
</ol>
<p>Ê≥®ÊÑèÔºöÈó¥ÈöôÈîÅÂîØ‰∏ÄÁõÆÁöÑÊòØÈò≤Ê≠¢ÂÖ∂‰ªñ‰∫ãÂä°ÊèíÂÖ•Èó¥Èöô„ÄÇÈó¥ÈöôÈîÅÂèØ‰ª•ÂÖ±Â≠òÔºå‰∏Ä‰∏™‰∫ãÂä°ÈááÁî®ÁöÑÈó¥ÈöôÈîÅ‰∏ç‰ºöÈòªÊ≠¢Âè¶‰∏Ä‰∏™‰∫ãÂä°Âú®Âêå‰∏ÄÈó¥Èöô‰∏äÈááÁî®Èó¥ÈöôÈîÅ„ÄÇ</p>
</div><div class="story post-story"><h2 id="8-InnoDBÂºïÊìé"><a href="#8-InnoDBÂºïÊìé" class="headerlink" title="8.InnoDBÂºïÊìé"></a>8.InnoDBÂºïÊìé</h2><h3 id="8-1-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"><a href="#8-1-ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ" class="headerlink" title="8.1 ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ"></a>8.1 ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ</h3><p><img src="https://s2.loli.net/2022/12/06/OyXSt8omNKhjUGc.png" class="lazyload" data-srcset="https://s2.loli.net/2022/12/06/OyXSt8omNKhjUGc.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20221206173530147.png"></p>
<ul>
<li><p>TablespaceÔºöË°®Á©∫Èó¥(ibdÊñá‰ª∂)Ôºå‰∏Ä‰∏™sqlÂÆû‰æãÂèØ‰ª•ÂØπÂ∫îÂ§ö‰∏™Ë°®Á©∫Èó¥ÔºåÁî®‰∫éÂ≠òÂÇ®ËÆ∞ÂΩï„ÄÅÁ¥¢ÂºïÁ≠âÊï∞ÊçÆ„ÄÇ</p>
</li>
<li><p>SegmentÔºöÊÆµÔºåÂàÜ‰∏∫Êï∞ÊçÆÊÆµ(Leaf node segment)„ÄÅÁ¥¢ÂºïÊÆµ(Non-leaf node segment)„ÄÅÂõûÊªöÊÆµ(Rollback segment),InnoDBÊòØÁ¥¢ÂºïÁªÑÁªáË°®ÔºåÊï∞ÊçÆÊÆµÂ∞±ÊòØB+Ê†ëÁöÑÂè∂Â≠êËäÇÁÇπÔºåÁ¥¢ÂºïÊÆµÂç≥‰∏∫B+Ê†ëÁöÑÈùûÂè∂Â≠êËäÇÁÇπ„ÄÇÊÆµÁî®Êù•ÁÆ°ÁêÜÂ§ö‰∏™Extent(Âå∫)„ÄÇ</p>
</li>
<li><p>ExtentÔºöÂå∫ÔºåË°®Á©∫Èó¥ÁöÑÂçïÂÖÉÁªìÊûÑÔºåÊØè‰∏™Âå∫ÁöÑÂ§ßÂ∞è‰∏∫1M„ÄÇÈªòËÆ§ÊÉÖÂÜµ‰∏ãÔºåInnoDBÂ≠òÂÇ®ÂºïÊìéÈ°µÂ§ßÂ∞è‰∏∫16K,Âç≥‰∏Ä‰∏™Âå∫‰∏≠‰∏ÄÂÖ±Êúâ64‰∏™ËøûÁª≠ÁöÑÈ°µ„ÄÇ</p>
</li>
<li><p>PageÔºöÈ°µÔºåÊòØInnoDBÂ≠òÂÇ®ÂºïÊìéÁ£ÅÁõòÁÆ°ÁêÜÁöÑÊúÄÂ∞èÂçïÂÖÉÔºåÊØè‰∏™È°µÁöÑÂ§ßÂ∞èÈªòËÆ§‰∏∫16KB„ÄÇ‰∏∫‰∫Ü‰øùËØÅÈ°µÁöÑËøûÁª≠ÊÄßÔºåInnoDBÂ≠òÂÇ®ÂºïÊìéÊØèÊ¨°‰ªéÁ£ÅÁõòÁî≥ËØ∑4-5‰∏™Âå∫„ÄÇ</p>
</li>
<li><p>RowÔºöË°åÔºåInnoDBÂ≠òÂÇ®ÂºïÊìéÊï∞ÊçÆÊòØÊåâË°åËøõË°åÂ≠òÊîæÁöÑ„ÄÇ</p>
</li>
</ul>
<h3 id="8-2-Êû∂ÊûÑ"><a href="#8-2-Êû∂ÊûÑ" class="headerlink" title="8.2 Êû∂ÊûÑ"></a>8.2 Êû∂ÊûÑ</h3><p>MySQL5.5ÁâàÊú¨ÂºÄÂßãÔºåÈªòËÆ§‰ΩøÁî®InnoDBÂ≠òÂÇ®ÂºïÊìéÔºåÂÆÉÊìÖÈïø‰∫ãÂä°Â§ÑÁêÜÔºåÂÖ∑ÊúâÂ¥©Ê∫ÉÊÅ¢Â§çÁâπÊÄßÔºåÂú®Êó•Â∏∏ÂºÄÂèë‰∏≠‰ΩøÁî®ÈùûÂ∏∏ÂπøÊ≥õ„ÄÇ</p>
<p>‰∏ãÈù¢ÊòØInnoDBÊû∂ÊûÑÂõæÔºåÂ∑¶‰æß‰∏∫ÂÜÖÂ≠òÁªìÊûÑÔºåÂè≥‰æß‰∏∫Á£ÅÁõòÁªìÊûÑÔºö</p>
<img src="https://s2.loli.net/2023/01/17/tK8HjiSqAhx2QC1.png" class="lazyload" data-srcset="https://s2.loli.net/2023/01/17/tK8HjiSqAhx2QC1.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20230117140744367.png"  />



<h4 id="ÂÜÖÂ≠òÁªìÊûÑ"><a href="#ÂÜÖÂ≠òÁªìÊûÑ" class="headerlink" title="ÂÜÖÂ≠òÁªìÊûÑ"></a>ÂÜÖÂ≠òÁªìÊûÑ</h4><ul>
<li><p><strong>Buffer Pool</strong>ÔºöÁºìÂÜ≤Ê±†ÊòØ‰∏ªÂÜÖÂ≠ò‰∏≠ÁöÑ‰∏Ä‰∏™Âå∫ÂüüÔºåÈáåÈù¢ÂèØ‰ª•ÁºìÂ≠òÁ£ÅÁõò‰∏äÁªèÂ∏∏Êìç‰ΩúÁöÑÁúüÂÆûÊï∞ÊçÆÔºåÂú®ÊâßË°åÂ¢ûÊîπÊü•Êìç‰ΩúÂÖàÊìç‰ΩúÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆ(Ëã•ÁºìÂÜ≤Ê±†Ê≤°ÊúâÊï∞ÊçÆÔºåÂàô‰ªéÁ£ÅÁõòÂä†ËΩΩÂπ∂ÁºìÂ≠ò)ÔºåÁÑ∂ÂêéÂÜç‰ª•‰∏ÄÂÆöÈ¢ëÁéáÂà∑Êñ∞Âà∞Á£ÅÁõòÔºå‰ªéËÄåÂáèÂ∞ëÁ£ÅÁõòÁöÑI&#x2F;OÊìç‰ΩúÔºåÂø´Â§ÑÁêÜÈÄüÂ∫¶„ÄÇ</p>
<p>ÁºìÂÜ≤Ê±†‰ª•PageÈ°µ‰∏∫Âçï‰ΩçÔºåÂ∫ïÂ±ÇÈááÁî®ÈìæË°®ÁªìÊûÑÁÆ°ÁêÜPage„ÄÇÊ†πÊçÆÁä∂ÊÄÅÔºåÂ∞ÜPageÂàÜ‰∏∫‰∏âÁßçÁ±ªÂûãÔºö</p>
<ul>
<li><p>free pageÔºöÊú™Ë¢´‰ΩøÁî®„ÄÇ</p>
</li>
<li><p>clean pageÔºöË¢´‰ΩøÁî®pageÔºåÊï∞ÊçÆÊ≤°ÊúâË¢´‰øÆÊîπËøá.</p>
</li>
<li><p>dirty pageÔºöËÑèÈ°µÔºåË¢´‰ΩøÁî®pageÔºå Êï∞ÊçÆË¢´‰øÆÊîπËøáÔºå‰πü‰∏≠Êï∞ÊçÆ‰∏éÁ£ÅÁõòÁöÑÊï∞ÊçÆ‰∫ßÁîü‰∫Ü‰∏ç‰∏ÄËá¥„ÄÇ</p>
</li>
</ul>
</li>
<li><p>Change BufferÔºöÊõ¥ÊîπÁºìÂÜ≤Âå∫ÈíàÂØπ‰∫éÈùûÂîØ‰∏Ä ‰∫åÁ∫ßÁ¥¢ÂºïÈ°µ)ÔºåÂú®ÊâßË°åDMLËØ≠Âè•Êó∂ÔºåÂ¶ÇÊûúËøô‰∫õÊï∞ÊçÆPageÊ≤°ÊúâÂú®Buffer Pool‰∏≠Ôºå‰∏ç‰ºöÁõ¥Êé•Êìç‰ΩúÁ£ÅÁõòÔºåËÄå‰ºöÂ∞ÜÊï∞ÊçÆÂèòÊõ¥Â≠òÂú®Êõ¥ÊîπÁºìÂÜ≤Âå∫Change Buffer‰∏≠ÔºåÂú®Êú™Êù•Êï∞ÊçÆË¢´ËØªÂèñÊó∂ÔºåÂÜçÂ∞ÜÊï∞ÊçÆÂêàÂπ∂ÊÅ¢Â§çÂà∞Buffer Pool‰∏≠ÔºåÂÜçÂ∞ÜÂêàÂπ∂ÂêéÁöÑÊï∞ÊçÆÂà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠„ÄÇ</p>
<p>Change BufferÁöÑÊÑè‰πâÊòØ‰ªÄ‰πàÔºü</p>
<ul>
<li>‰∏éËÅöÈõÜÁ¥¢Âºï‰∏çÂêåÔºå‰∫åÁ∫ßÁ¥¢ÂºïÈÄöÂ∏∏ÊòØÈùûÂîØ‰∏ÄÁöÑÔºåÂπ∂‰∏î‰ª•Áõ∏ÂØπÈöèÊú∫ÁöÑÈ°∫Â∫èÊèíÂÖ•‰∫åÁ∫ßÁ¥¢Âºï„ÄÇÂêåÊ†∑ÔºåÂà†Èô§ÂíåÊõ¥Êñ∞ÂèØËÉΩ‰ºöÂΩ±ÂìçÁ¥¢ÂºïÊ†ë‰∏≠‰∏çÁõ∏ÈÇªÁöÑ‰∫åÁ∫ßÁ¥¢ÂºïÈ°µÔºåÂ¶ÇÊûúÊØè‰∏ÄÊ¨°ÈÉΩÊìç‰ΩúÁ£ÅÁõòÔºå‰ºöÈÄ†ÊàêÂ§ßÈáèÁöÑÁ£ÅÁõòI&#x2F;O„ÄÇÊúâ‰∫ÜChange Buffer‰πãÂêéÔºåÊàë‰ª¨ÂèØ‰ª•Âú®ÁºìÂÜ≤Ê±†‰∏≠ËøõË°åÂêàÂπ∂Â§ÑÁêÜÔºå‰ªéËÄåÂáèÂ∞ëÁ£ÅÁõòI&#x2F;O„ÄÇ</li>
</ul>
</li>
<li><p>Adaptive Hash IndexÔºöËá™ÈÄÇÂ∫îhashÁ¥¢ÂºïÔºåÁî®‰∫é‰ºòÂåñÂØπBuffer PoolÊï∞ÊçÆÁöÑÊü•ËØ¢(Âè™ËÉΩÁî®‰∫éÁ≠âÂÄºÂåπÈÖç)„ÄÇInnoDBÂ≠òÂÇ®ÂºïÊîÄ‰ºöÁõëÊéßÂØπË°®‰∏äÂêÑÁ¥¢ÂºïÈ°µÁöÑÊü•ËØ¢ÔºåÂ¶ÇÊûúËßÇÂØüÂà∞hashÁ¥¢ÂºïÂèØ‰ª•ÊèêÂçáÈÄüÂ∫¶ÔºåÂàôÂª∫Á´ãhashÁ¥¢ÂºïÔºåÁß∞‰πã‰∏∫Ëá™ÈÄÇÂ∫îhashÁ¥¢Âºï„ÄÇ</p>
<p>Ëá™ÈÄÇÂ∫îÂìàÂ∏åÁ¥†ÂºïÔºåÊó†ÈúÄ‰∫∫Â∑•Âπ≤È¢ÑÔºåÊòØÁ≥ªÁªüÊ†πÊçÆÊÉÖÂÜµËá™Âä®ÂÆåÊàê„ÄÇ</p>
<p>ÂèÇÊï∞Ôºöadaptive_hash_index</p>
</li>
<li><p>Log BufferÔºöÊó•ÂøóÁºìÂÜ≤Âå∫ÔºåÁî®Êù•‰øùÂ≠òË¶ÅÂÜôÂÖ•Âà∞Á£ÅÁõò‰∏≠ÁöÑlogÊó•ÂøóÊï∞ÊçÆ(redo log„ÄÅundo log)ÔºåÈªòËÆ§Â§ßÂ∞è‰∏∫16MBÔºåÊó•ÂøóÁºìÂÜ≤Âå∫ÁöÑÊó•Âøó‰ºöÂÆöÊúüÂà´Êñ∞Âà∞Á£ÅÁõò‰∏≠„ÄÇÂ¶ÇÊûúÈúÄË¶ÅÊõ¥Êñ∞„ÄÅÊèíÂÖ•ÊàñÂà†Èô§ËÆ∏Â§öË°åÁöÑ‰∫ãÂä°ÔºåÂ¢ûÂä†Êó•ÂøóÁºìÂÜ≤Âå∫ÁöÑÂ§ßÂ∞èÂèØ‰ª•ËäÇÁúÅÁ£ÅÁõòI&#x2F;O„ÄÇ</p>
<p>ÂèÇÊï∞Ôºö</p>
<ul>
<li><p>innodb_log_buffer_size:ÁºìÂÜ≤Âå∫Â§ßÂ∞è</p>
</li>
<li><p>innodb_flush_log_at_trx_commit:Êó•ÂøóÂà´Êñ∞Âà∞Á£ÅÁõòÊó∂Êú∫</p>
</li>
</ul>
</li>
</ul>
<h4 id="Á£ÅÁõòÁªìÊûÑ"><a href="#Á£ÅÁõòÁªìÊûÑ" class="headerlink" title="Á£ÅÁõòÁªìÊûÑ"></a>Á£ÅÁõòÁªìÊûÑ</h4><ul>
<li><p>System TablespaceÔºöÁ≥ªÁªüË°®Á©∫Èó¥ÊòØÊõ¥ÊîπÁºìÂÜ≤Âå∫ÁöÑÂ≠òÂÇ®Âå∫Âüü„ÄÇÂ¶ÇÊûúË°®ÊòØÂú®Á≥ªÁªüË°®Á©∫Èó¥ËÄå‰∏çÊòØÊØè‰∏™Ë°®Êñá‰ª∂ÊàñÈÄöÁî®Ë°®Á©∫Èó¥‰∏≠ÂàõÂª∫ÁöÑÔºåÂÆÉ‰πüÂèØËÉΩÂåÖÂê´Ë°®ÂíåÁ¥¢ÂºïÊï∞ÊçÆ„ÄÇ(Âú®MySQL5.xÁâàÊú¨‰∏≠ËøòÂåÖÂê´InnoDBÊï∞ÊçÆÂ≠óÂÖ∏„ÄÅundologÁ≠â)</p>
<p>ÂèÇÊï∞Ôºöinnodb_data_file_path</p>
</li>
<li><p>File-Per-Table TablespacesÔºöÊØè‰∏™Ë°®ÁöÑÊñá‰ª∂Ë°®Á©∫Èó¥ÂåÖÂê´Âçï‰∏™InnoDBË°®ÁöÑÊï∞ÊçÆÂíåÁ¥¢ÂºïÔºåÂπ∂Â≠òÂÇ®Âú®Êñá‰ª∂Á≥ªÁªü‰∏äÁöÑÂçï‰∏™Êï∞ÊçÆÊñá‰ª∂‰∏≠„ÄÇ</p>
<p>ÂèÇÊï∞Ôºöinnodb_file_per_table</p>
</li>
<li><p>General TablespacesÔºöÈÄöÁî®Ë°®Á©∫Èó¥ÔºåÈúÄË¶ÅÈÄöËøá<code>CREATE TABLESPACE</code>ËØ≠Ê≥ïÂàõÂª∫ÈÄöÁî®Ë°®Á©∫Èó¥ÔºåÂú®ÂàõÂª∫Ë°®Êó∂ÔºåÂèØ‰ª•ÊåáÂÆöËØ•Ë°®Á©∫Èó¥„ÄÇ</p>
<p>ÂàõÂª∫Ë°®Á©∫Èó¥Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span>SPACE xxx <span class="keyword">ADD</span>	<span class="comment">--ÊåáÂÆöË°®Á©∫Èó¥ÂêçÁß∞</span></span><br><span class="line">DATAFILE <span class="string">&#x27;file_name&#x27;</span>		<span class="comment">--ÊåáÂÆöË°®Á©∫Èó¥ÂÖ≥ËÅîË°®Á©∫Èó¥Êñá‰ª∂</span></span><br><span class="line">ENGINE <span class="operator">=</span> engine_name;			<span class="comment">--ÊåáÂÆöÂ≠òÂÇ®ÂºïÊìé</span></span><br></pre></td></tr></table></figure>

<p>ÂàõÂª∫Ë°®Êó∂ÊåáÂÆöË°®Á©∫Èó¥Ôºö</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">user</span>(</span><br><span class="line">	...</span><br><span class="line">)</span><br><span class="line">ENGINE <span class="operator">=</span> engine_name TABLESPACE ts_Rame;		<span class="comment">--ÊåáÂÆöË°®Á©∫Èó¥</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Undo TablespacesÔºöËæôÈîÄË°®Á©∫Èó¥ÔºåMySQLÂÆû‰æãÂú®ÂàùÂßãÂåñÊó∂‰ºöËá™Âä®ÂàõÂª∫‰∏§‰∏™ÈªòËÆ§ÁöÑundoË°®Á©∫Èó¥(ÂàùÂßãÂ§ßÂ∞è16M)ÔºåÁî®‰∫éÂ≠òÂÇ®undo logÊó•Âøó„ÄÇ</p>
</li>
<li><p>Temporary TablespacesÔºöInnoDB‰ΩøÁî®‰ºöËØù‰∏¥Êó∂Ë°®Á©∫Èó¥ÂíåÂÖ®Â±Ä‰∏¥Êó∂Ë°®Á©∫Èó¥„ÄÇÂ≠òÂÇ®Áî®Êà∑ÂàõÂª∫ÁöÑ‰∏¥Êó∂Ë°®Á≠âÊï∞ÊçÆ„ÄÇ</p>
</li>
<li><p>Doublewrite Buffer FilesÔºöÂèåÂÜôÁºìÂÜ≤Âå∫ÔºåinnoDBÂºïÊìéÂ∞ÜÊï∞ÊçÆÈ°µ‰ªéBuffer PoolÂà∑Êñ∞Âà∞Á£ÅÁõòÂâçÔºåÂÖàÂ∞ÜÊï∞ÊçÆÈ°µÂÜôÂÖ•ÂèåÂÜôÁºìÂÜ≤Âå∫Êñá‰ª∂‰∏≠Ôºå‰æø‰∫éÁ≥ªÁªüÂºÇÂ∏∏Êó∂ÊÅ¢Â§çÊï∞ÊçÆ„ÄÇ</p>
</li>
<li><p>Redo LogÔºöÈáçÂÅöÊó•ÂøóÔºåÊòØÁî®Êù•ÂÆûÁé∞‰∫ãÂä°ÁöÑÊåÅ‰πÖÊÄß„ÄÇ</p>
<p>ËØ•Êó•ÂøóÊñá‰ª∂Áî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºöÈáçÂÅöÊó•ÂøóÁºìÂÜ≤(redo log buffer)‰ª•ÂèäÈáçÂÅöÊó•ÂøóÊñá‰ª∂(redo log)ÔºåÂâçËÄÖÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêéËÄÖÂú®Á£ÅÁõò‰∏≠„ÄÇÂΩì‰∫ãÂä°Êèê‰∫§‰πãÂêé‰ºöÊääÊâÄÊúâ‰øÆÊîπ‰ø°ÊÅØÈÉΩ‰ºöÂ≠òÂà∞ËØ•Êó•Âøó‰∏≠ÔºåÁî®‰∫éÂú®Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÊó∂ÔºåÂèëÁîüÈîôËØØÊó∂ÔºåËøõË°åÊï∞ÊçÆÊÅ¢Â§ç‰ΩøÁî®„ÄÇ</p>
</li>
</ul>
<h4 id="ÂêéÂè∞Á∫øÁ®ã"><a href="#ÂêéÂè∞Á∫øÁ®ã" class="headerlink" title="ÂêéÂè∞Á∫øÁ®ã"></a>ÂêéÂè∞Á∫øÁ®ã</h4><ol>
<li><p>Master Thread</p>
<p>Ê†∏ÂøÉÂêéÂè∞Á∫øÁ®ãÔºåË¥üË¥£Ë∞ÉÂ∫¶ÂÖ∂‰ªñÁ∫øÁ®ãÔºåËøòË¥üË¥£Â∞ÜÁºìÂÜ≤Ê±†‰∏≠ÁöÑÊï∞ÊçÆÂºÇÊ≠•Âà∑Êñ∞Âà∞Á£ÅÁõò‰∏≠Ôºå‰øùÊåÅÊï∞ÊçÆÁöÑ‰∏ÄËá¥ÊÄßÔºå<br>ËøòÂåÖÊã¨ËÑèÈ°µÁöÑÂà∑Êñ∞„ÄÅÂêàÂπ∂ÊèíÂÖ•ÁºìÂ≠ò„ÄÅundoÈ°µÁöÑÂõûÊî∂„ÄÇ</p>
</li>
<li><p>IO Thread</p>
<p>Âú®InnoDBÂ≠òÂÇ®ÂºïÊìé‰∏≠Â§ßÈáè‰ΩøÁî®‰∫ÜAIOÊù•Â§ÑÁêÜI&#x2F;OËØ∑Ê±ÇÔºåËøôÊ†∑ÂèØ‰ª•ÊûÅÂ§ßÂú∞ÊèêÈ´òÊï∞ÊçÆÂ∫ìÁöÑÊÄßËÉΩÔºåËÄåIO Thread‰∏ªË¶ÅË¥üË¥£Ëøô‰∫õI&#x2F;OËØ∑Ê±ÇÁöÑÂõûË∞É„ÄÇ</p>
<table>
<thead>
<tr>
<th>Á∫øÁ®ãÁ±ªÂûã</th>
<th>ÈªòËÆ§‰∏™Êï∞</th>
<th>ËÅåË¥£</th>
</tr>
</thead>
<tbody><tr>
<td>Read thread</td>
<td>4</td>
<td>Ë¥üË¥£ËØªÊìç‰Ωú</td>
</tr>
<tr>
<td>Write thread</td>
<td>4</td>
<td>Ë¥üË¥£ÂÜôÊìç‰Ωú</td>
</tr>
<tr>
<td>Log thread</td>
<td>1</td>
<td>Ë¥üË¥£Â∞ÜÊó•ÂøóÁºìÂÜ≤Âå∫Âà∑Êñ∞Âà∞Á£ÅÁõò</td>
</tr>
<tr>
<td>Insert buffer thread</td>
<td>1</td>
<td>Ë¥üË¥£Â∞ÜÂÜôÁºìÂÜ≤Âå∫ÂÜÖÂÆπÂà∑Êñ∞Âà∞Á£ÅÁõò</td>
</tr>
</tbody></table>
</li>
<li><p>Purge Thread</p>
<p>‰∏ªË¶ÅÁî®‰∫éÂõûÊî∂‰∫ãÂä°Â∑≤ÁªèÊèê‰∫§‰∫ÜÁöÑundo log,Âú®‰∫ãÂä°Êèê‰∫§‰πãÂêéÔºåundo logÂèØËÉΩ‰∏çÁî®‰∫ÜÔºåÂ∞±Áî®ÂÆÉÊù•ÂõûÊî∂„ÄÇ</p>
</li>
<li><p>Page Cleaner Thread</p>
<p>ÂçèÂä©Master ThreadÂà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÁöÑÁ∫øÁ®ãÔºåÂÆÉÂèØ‰ª•ÂáèËΩªMaster ThreadÁöÑÂ∑•‰ΩúÂéãÂäõÔºåÂáèÂ∞ëÈòªÂ°û„ÄÇ</p>
</li>
</ol>
<h3 id="8-3-‰∫ãÂä°ÂéüÁêÜ"><a href="#8-3-‰∫ãÂä°ÂéüÁêÜ" class="headerlink" title="8.3 ‰∫ãÂä°ÂéüÁêÜ"></a>8.3 ‰∫ãÂä°ÂéüÁêÜ</h3><p>‰∫ãÂä°Ôºö</p>
<p>‰∫ãÂä°ÊòØ‰∏ÄÁªÑÊìç‰ΩúÁöÑÈõÜÂêàÔºåÂÆÉÊòØ‰∏Ä‰∏™‰∏çÂèØÂàÜÂâ≤ÁöÑÂ∑•‰ΩúÂçï‰ΩçÔºå‰∫ãÂä°‰ºöÊääÊâÄÊúâÁöÑÊìç‰Ωú‰Ωú‰∏∫‰∏Ä‰∏™Êï¥‰Ωì‰∏ÄËµ∑ÂêëÁ≥ªÁªüÊèê‰∫§ÊàñÊííÈîÄÊìç‰ΩúËØ∑Ê±ÇÔºåÂç≥Ëøô‰∫õÊìç‰ΩúË¶Å‰πàÂêåÊó∂ÊàêÂäüÔºåË¶Å‰πàÂêåÊó∂Â§±Ë¥•„ÄÇ</p>
<p>ÁâπÊÄßÔºö</p>
<ul>
<li>ÂéüÂ≠êÊÄß(Atomicity)Ôºö‰∫ãÂä°ÊòØ‰∏çÂèØÂàÜÂâ≤ÁöÑÊúÄÂ∞èÊìç‰ΩúÂçïÂÖÉÔºåË¶Å‰πàÂÖ®ÈÉ®ÊàêÂäüÔºåË¶Å‰πàÂÖ®ÈÉ®Â§±Ë¥•„ÄÇ</li>
<li>‰∏ÄËá¥ÊÄß(Consistency)Ôºö‰∫ãÂä°ÂÆåÊàêÊó∂ÔºåÂøÖÈ°ª‰ΩøÊâÄÊúâÁöÑÊï∞ÊçÆÈÉΩ‰øùÊåÅ‰∏ÄËá¥Áä∂ÊÄÅ„ÄÇ</li>
<li>ÈöîÁ¶ªÊÄß(lsolation)ÔºöÊï∞ÊçÆÂ∫ìÁ≥ªÁªüÊèê‰æõÁöÑÈöîÁ¶ªÊú∫Âà∂Ôºå‰øùËØÅ‰∫ãÂä°Âú®‰∏çÂèóÂ§ñÈÉ®Âπ∂ÂèëÊìç‰ΩúÂΩ±ÂìçÁöÑÁã¨Á´ãÁéØÂ¢É‰∏ãËøêË°å„ÄÇ</li>
<li>Áâπ‰πÖÊÄß(Durability)Ôºö‰∫ãÂä°‰∏ÄÊó¶Êèê‰∫§ÊàñÂõûÊªöÔºåÂÆÉÂØπÊï∞ÊçÆÂ∫ì‰∏≠ÁöÑÊï∞ÊçÆÁöÑÊîπÂèòÂ∞±ÊòØÊ∞∏‰πÖÁöÑ„ÄÇ</li>
</ul>
<h4 id="redo-log"><a href="#redo-log" class="headerlink" title="redo log"></a>redo log</h4><p>ÈáçÂÅöÊó•ÂøóÔºåËÆ∞ÂΩïÁöÑÊòØ‰∫ãÂä°Êèê‰∫§Êó∂Êï∞ÊçÆÈ°µÁöÑÁâ©ÁêÜ‰øÆÊîπÔºåÊòØÁî®Êù•ÂÆûÁé∞‰∫ãÂä°ÁöÑ<strong>ÊåÅ‰πÖÊÄß</strong>Ôºå</p>
<p>ËØ•Êó•ÂøóÊñá‰ª∂Áî±‰∏§ÈÉ®ÂàÜÁªÑÊàêÔºöÈáçÂÅöÊó•ÂøóÁºìÂÜ≤(redo log buffer)‰ª•ÂèäÈáçÂÅöÊó•ÂøóÊñá‰ª∂(redo log file)ÔºåÂâçËÄÖÊòØÂú®ÂÜÖÂ≠ò‰∏≠ÔºåÂêéËÄÖÂú®Á£ÅÁõò‰∏≠„ÄÇ</p>
<p>ÂΩì‰∫ãÂä°Êèê‰∫§‰πãÂêé‰ºö<strong>‰ºòÂÖàÊääÊâÄÊúâ‰øÆÊîπ‰ø°ÊÅØÂÖàÈÉΩÂ≠òÂà∞ËØ•Êó•ÂøóÊñá‰ª∂‰∏≠</strong>(Â¶ÇÊûúÂ≠òÂÖ•Êó•ÂøóÊñá‰ª∂Â§±Ë¥•Âàô‰∫ãÂä°Êèê‰∫§‰πüÂ∞±Â§±Ë¥•‰∫Ü)ÔºåÁî®‰∫éÂú®Âà∑Êñ∞ËÑèÈ°µÂà∞Á£ÅÁõòÔºåÂèëÁîüÈîôËØØÊó∂ÔºåËøõË°åÊï∞ÊçÆÊÅ¢Â§ç‰ΩøÁî®„ÄÇ</p>
<p>Âπ∂‰∏îÊó•ÂøóÊñá‰ª∂‰ºöÂ∞ÜÂ§öÊù°‰∫ãÂä°ÊéíÂàóÂ•ΩÈ°∫Â∫èÂà∑Êñ∞Âà∞Á£ÅÁõòÔºåÈÅøÂÖçÈöèÊú∫I&#x2F;OÔºåÊµ™Ë¥πÊÄßËÉΩ</p>
<h4 id="undo-log"><a href="#undo-log" class="headerlink" title="undo log"></a>undo log</h4><p>ÂõûÊªöÊó•ÂøóÔºåÁî®‰∫éËÆ∞ÂΩïÊï∞ÊçÆË¢´‰øÆÊîπÂâçÁöÑ‰ø°ÂæÆÔºå‰ΩúÁî®ÂåÖÂê´‰∏§‰∏™ÔºöÊèê‰æõÂõûÊªöÂíåMVCC(Â§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂)</p>
<p>undo logÂíåredo logËÆ∞ÂΩïÁâ©ÁêÜÊó•Âøó‰∏ç‰∏ÄÊ†∑ÔºåÂÆÉÊòØÈÄªËæëÊó•Âøó„ÄÇÂèØ‰ª•ËÆ§‰∏∫ÂΩìdelete‰∏ÄÊù°ËÆ∞ÂΩïÊó∂Ôºåundo log‰∏≠‰ºöËÆ∞Êù°ÂØπÂ∫îÁöÑinsertËÆ∞ÂΩïÔºåÂèç‰πã‰∫¶ÁÑ∂ÔºåÂΩìupdate‰∏ÄÊù°ËÆ∞ÂΩïÊó∂ÔºåÂÆÉËÆ∞ÂΩï‰∏ÄÊù°ÂØπÂ∫îÁõ∏ÂèçÁöÑupdateËÆ∞ÂΩï„ÄÇÂΩìÊâßË°årollbackÊó∂ÔºåÂ∞±ÂèØ‰ª•‰ªéundo log‰∏≠ÁöÑÈÄªËæëËÆ∞ÂΩïËØªÂÆ∂Âà∞Áõ∏Â∫îÁöÑÂÜÖÂÆπ‰∫ïËøõË°åÂõûÊªö„ÄÇ</p>
<p>Undo logÈîÄÁõüÔºöundo logÂú®‰∫ãÂä°ÊâßË°åÊó∂‰∫ßÁîüÔºå‰∫ãÂä°Êèê‰∫§Êó∂ÔºåÂπ∂‰∏ç‰ºöÁ´ãÂç≥Èô§undo log,Âõ†‰∏∫Ëøô‰∫õÊó•ÂøóÂèØËÉΩËøòÁî®‰∫éMVCC</p>
<p>Undo logÂ≠òÂÇ®Ôºöundo logÈááÁî®ÊÆµÁöÑÊñπÂºèËøõË°åÁÆ°ÁêÜÂíåËÆ∞ÂΩïÔºåÂ≠òÊîæÂú®ÂâçÈù¢‰ªãÁªçÁöÑrollback segmentÂõûÊªöÊÆµ‰∏≠ÔºåÂÜÖÈÉ®ÂåÖÂê´1024‰∏™undo log segment</p>
<h3 id="8-4-MVCC"><a href="#8-4-MVCC" class="headerlink" title="8.4 MVCC"></a>8.4 MVCC</h3><h4 id="Âü∫Êú¨Ê¶ÇÂøµ"><a href="#Âü∫Êú¨Ê¶ÇÂøµ" class="headerlink" title="Âü∫Êú¨Ê¶ÇÂøµ"></a>Âü∫Êú¨Ê¶ÇÂøµ</h4><ul>
<li><p>ÂΩìÂâçËØªÔºö</p>
<p>ËØªÂèñÁöÑÊòØËÆ∞ÂΩïÁöÑÊúÄÊñ∞ÁâàÊú¨ÔºåËØªÂèñÊó∂ËøòË¶Å‰øùËØÅÂÖ∂‰ªñÂπ∂Âèë‰∫ãÂä°‰∏çËÉΩ‰øÆÊîπÂΩìÂâçËÆ∞ÂΩïÔºå‰ºöÂØπËØªÂèñÁöÑËÆ∞ÂΩïËøõË°åÂä†ÈîÅ„ÄÇÂØπ‰∫éÊàë‰ª¨Êó•Â∏∏ÁöÑÊìç‰ΩúÔºåÂ¶ÇÔºö<code>select...lock in share mode(ÂÖ±‰∫´ÈîÅ)</code>Ôºå<code>select..for update„ÄÅupdate„ÄÅinsert„ÄÅdelete(Êéí‰ªñÈîÅ)</code>ÈÉΩÊòØ‰∏ÄÁßçÂΩìÂâçËØª„ÄÇ</p>
</li>
<li><p>Âø´ÁÖßËØªÔºö</p>
<p>ÁÆÄÂçïÁöÑselect(‰∏çÂä†ÈîÅ)Â∞±ÊòØÂø´ÁÖßËØªÔºåÂø´ÁÖßËØªÔºåËØªÂèñÁöÑÊòØËÆ∞ÂΩïÊï∞ÊçÆÁöÑÂèØËßÅÁâàÊú¨ÔºåÊúâÂèØËÉΩÊòØÂéÜÂè≤Êï∞ÊçÆÔºå‰∏çÂä†ÈîÅÔºåÊòØÈùûÈòªÂ°ûËØª„ÄÇ</p>
<p>ÈöîÁ¶ªÁ∫ßÂà´Ôºö</p>
<ul>
<li><p>Read Committed(‰∏çÂèØÈáçÂ§çËØª)ÔºöÊØèÊ¨°selectÔºåÈÉΩÁîüÊàê‰∏Ä‰∏™Âø´ÁÖßËØª„ÄÇ</p>
</li>
<li><p>Repeatable Read(ÂèØÈáçÂ§çËØª)ÔºöÂºÄÂêØ‰∫ãÂä°ÂêéÁ¨¨‰∏Ä‰∏™selectËØ≠Âè•ÊâçÊòØÂø´ÁÖßËØªÁöÑÂú∞Êñπ„ÄÇ</p>
</li>
<li><p>Serializable(‰∏≤Ë°åÂåñ)ÔºöÂø´ÁÖßËØª‰ºöÈÄÄÂåñ‰∏∫ÂΩìÂâçËØª„ÄÇ</p>
</li>
</ul>
</li>
<li><p>MVCCÔºö</p>
<p>ÂÖ®Áß∞Multi-Version Concurrency ControlÔºåÂ§öÁâàÊú¨Âπ∂ÂèëÊéßÂà∂„ÄÇÊåáÁª¥Êä§‰∏Ä‰∏™Êï∞ÊçÆÁöÑÂ§ö‰∏™ÁâàÊú¨Ôºå‰ΩøÂæóËØªÂÜôÊìç‰ΩúÊ≤°ÊúâÂÜ≤Á™ÅÔºåÂø´ÁÖßËØª‰∏∫MySQLÂÆûÁé∞MVCCÊèê‰æõ‰∫Ü‰∏Ä‰∏™ÈùûÈòªÂ°ûËØªÂäüËÉΩ„ÄÇMVCCÁöÑÂÖ∑‰ΩìÂÆûÁé∞ÔºåËøòÈúÄË¶Å‰æùËµñ‰∫éÊï∞ÊçÆÂ∫ìËÆ∞ÂΩï‰∏≠ÁöÑ<strong>‰∏â‰∏™ÈöêÂºèÂ≠óÊÆµ</strong>„ÄÅ<strong>undo logÊó•Âøó</strong>„ÄÅ<strong>readView</strong>„ÄÇ</p>
</li>
</ul>
<h4 id="ÈöêËóèÂ≠óÊÆµ"><a href="#ÈöêËóèÂ≠óÊÆµ" class="headerlink" title="ÈöêËóèÂ≠óÊÆµ"></a>ÈöêËóèÂ≠óÊÆµ</h4><p>ËÆ∞ÂΩï‰∏≠‰ºöÊúâ2‰∏™Êàñ3‰∏™ÈöêËóèÂ≠óÊÆµÔºö</p>
<table>
<thead>
<tr>
<th>ÈöêËóèÂ≠óÊÆµ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody><tr>
<td>DB_TRX_ID</td>
<td>ÊúÄËøë‰øÆÊîπ‰∫ãÂä°IDÔºåËÆ∞ÂΩïÊèíÂÖ•ËøôÊù°ËÆ∞ÂΩïÊàñÊúÄÂêé‰∏ÄÊ¨°‰øÆÊîπËØ•ËÆ∞ÂΩïÁöÑ‰∫ãÂä°ID„ÄÇ</td>
</tr>
<tr>
<td>DB_ROLL_PTR</td>
<td>ÂõûÊªöÊåáÈíàÔºåÊåáÂêëËøôÊù°ËÆ∞ÂΩïÁöÑ‰∏ä‰∏Ä‰∏™ÁâàÊú¨ÔºåÁî®‰∫éÈÖçÂêàundo logÔºåÊåáÂêë‰∏ä‰∏Ä‰∏™ÁâàÊú¨„ÄÇ</td>
</tr>
<tr>
<td>DB_ROW_ID</td>
<td>ÈöêËóè‰∏ªÈîÆÔºåÂ¶ÇÊûúË°®ÁªìÊûÑÊ≤°ÊúâÊåáÂÆö‰∏ªÈîÆÔºåÂ∞Ü‰ºöÁîüÊàêËØ•ÈöêËóèÂ≠óÊÆµ„ÄÇ</td>
</tr>
</tbody></table>
<h4 id="undo-logÁâàÊú¨Èìæ"><a href="#undo-logÁâàÊú¨Èìæ" class="headerlink" title="undo logÁâàÊú¨Èìæ"></a>undo logÁâàÊú¨Èìæ</h4><p>ÂõûÊªöÊó•ÂøóÔºåÂú®insert„ÄÅupdate„ÄÅdeletelÁöÑÊó∂ÂÄô‰∫ßÁîüÁöÑ‰æø‰∫éÊï∞ÊçÆÂõûÊªöÁöÑÊó•Âøó„ÄÇ</p>
<p>ÂΩìinsertÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑundo logÊó•ÂøóÂè™Âú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®‰∫ãÂä°Êèê‰∫§ÂêéÔºåÂèØË¢´Á´ãÂç≥Âà†Èô§„ÄÇ</p>
<p>ËÄåupdate„ÄÅdeleteÁöÑÊó∂ÂÄôÔºå‰∫ßÁîüÁöÑundo logÊó•Âøó‰∏ç‰ªÖÂú®ÂõûÊªöÊó∂ÈúÄË¶ÅÔºåÂú®Âø´ÁÖßËØªÊó∂‰πüÈúÄË¶ÅÔºå‰∏ç‰ºöÁ´ãÂç≥Ë¢´Âà†Èô§„ÄÇ</p>
<p><img src="https://s2.loli.net/2023/01/17/4EcuRgXlPhoZ6bV.png" class="lazyload" data-srcset="https://s2.loli.net/2023/01/17/4EcuRgXlPhoZ6bV.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20230117215145551.png">‰∏çÂêå‰∫ãÂä°ÊàñÁõ∏Âêå‰∫ãÂä°ÂØπÂêå‰∏ÄÊù°ËÆ∞ÂΩïËøõË°å‰øÆÊîπÔºå‰ºöÂØºËá¥ËØ•ËÆ∞ÂΩïÁöÑundo logÁîüÊàê‰∏ÄÊù°ËÆ∞ÂΩïÁâàÊú¨ÈìæË°®ÔºåÈìæË°®ÁöÑÂ§¥ÈÉ®ÊòØÊúÄÊñ∞ÁöÑÊóßËÆ∞ÂΩïÔºåÈìæË°®Â∞æÈÉ®ÊòØÊúÄÊó©ÁöÑÊóßËÆ∞ÂΩï„ÄÇ</p>
<h4 id="readview"><a href="#readview" class="headerlink" title="readview"></a>readview</h4><p>ReadView(ËØªËßÜÂõæ)ÊòØÂø´ÁÖßËØªSQLÊâßË°åÊó∂MVCCÊèêÂèñÊï∞ÊçÆÁöÑ‰æùÊçÆÔºåËÆ∞ÂΩïÂπ∂Áª¥Êä§Á≥ªÁªüÂΩìÂâçÊ¥ªË∑ÉÁöÑ‰∫ãÂä°(Êú™Êèê‰∫§ÁöÑ)id„ÄÇ</p>
<p>ReadView‰∏≠ÂåÖÂê´‰∫ÜÂõõ‰∏™Ê†∏ÂøÉÂ≠óÊÆµÔºö</p>
<table>
<thead>
<tr>
<th>Â≠óÊÆµ</th>
<th>Âê´‰πâ</th>
</tr>
</thead>
<tbody><tr>
<td>m_ids</td>
<td>ÂΩìÂâçÊ¥ªË∑ÉÁöÑ‰∫ãÂä°IDÈõÜÂêà</td>
</tr>
<tr>
<td>min_trx_id</td>
<td>ÊúÄÂ∞èÊ¥ªË∑É‰∫ãÂä°ID</td>
</tr>
<tr>
<td>max_trx id</td>
<td>È¢ÑÂàÜÈÖç‰∫ãÂä°ID,ÂΩìÂâçÊúÄÂ§ß‰∫ãÂä°ID+1(Âõ†‰∏∫‰∫ãÂä°IDÊòØËá™Â¢ûÁöÑ)</td>
</tr>
<tr>
<td>creator_trx_id</td>
<td>ReadViewÂàõÂª∫ËÄÖÁöÑ‰∫ãÂä°ID</td>
</tr>
</tbody></table>
<p><strong>ÁâàÊú¨ÈìæÊï∞ÊçÆËÆøÈóÆËßÑÂàô</strong>Ôºö</p>
<p>trx_id‰∏∫ËÆ∞ÂΩï‰∏≠ÁöÑDB_TRX_ID</p>
<ul>
<li><p><code>trx_id == creator_trx_id</code> ? <strong>ÂèØ‰ª•</strong>ËÆøÈóÆËØ•ÁâàÊú¨</p>
<p>ÊàêÁ´ãÔºåËØ¥ÊòéÊï∞ÊçÆÊòØÂΩìÂâçËøô‰∏™‰∫ãÂä°Êõ¥ÊîπÁöÑ„ÄÇ</p>
</li>
<li><p><code>trx_id &lt; min trx_id</code> ? <strong>ÂèØ‰ª•</strong>ËÆøÈóÆËØ•ÁâàÊú¨</p>
<p>ÊàêÁ´ãÔºåËØ¥ÊòéÊï∞ÊçÆÂ∑≤ÁªèÊèê‰∫§‰∫Ü„ÄÇ</p>
</li>
<li><p><code>trx_id &gt; max_trx_id</code> ? <strong>‰∏çÂèØ‰ª•</strong>ËÆøÈóÆËØ•ÁâàÊú¨</p>
<p>ÊàêÁ´ãÔºåËØ¥ÊòéËØ•‰∫ãÂä°ÊòØÂú®ReadViewÁîüÊàêÂêéÊâçÂºÄÂêØ„ÄÇ</p>
</li>
<li><p><code>min_trx_id &lt;= trx_id &lt;= max_trx_id</code> ? Â¶ÇÊûútrx_id<strong>‰∏çÂú®m_ids</strong>‰∏≠ÊòØ<strong>ÂèØ‰ª•ËÆøÈóÆ</strong>ËØ•ÁâàÊú¨ÁöÑ</p>
<p>ÊàêÁ´ãÔºåËØ¥ÊòéÊï∞ÊçÆÂ∑≤ÁªèÊèê‰∫§</p>
</li>
</ul>
<p>‰∏çÂêåÁöÑÈöîÁ¶ªÁ∫ßÂà´ÔºåÁîüÊàêReadViewÁöÑÊó∂Êú∫‰∏çÂêåÔºö</p>
<ul>
<li>READ COMMITTEDÔºöÂú®‰∫ãÂä°‰∏≠ÊØè‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadview„ÄÇ</li>
<li>REPEATABLE READÔºö‰ªÖÂú®‰∫ãÂä°‰∏≠Á¨¨‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadviewÔºåÂêéÁª≠Â§çÁî®ËØ•Readview„ÄÇ</li>
</ul>
<p><strong>RCÈöîÁ¶ªÁ∫ßÂà´</strong>‰∏ãÔºåÂú®‰∫ãÂä°‰∏≠ÊØè‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadView„ÄÇ</p>
<img src="https://s2.loli.net/2023/01/17/kNiI9A3HLgshzE4.png" class="lazyload" data-srcset="https://s2.loli.net/2023/01/17/kNiI9A3HLgshzE4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20230117221941419.png" style="zoom:67%;" />



<p>ÊâßË°å<strong>‰∫ãÂä°5</strong>Êó∂ÁöÑ<strong>Á¨¨‰∏ÄÊù°Êü•ËØ¢ËØ≠Âè•</strong>ÁîüÊàêÁöÑReadViewÔºö</p>
<ul>
<li>m_ids(Ê¥ªË∑É‰∫ãÂä°ÈõÜÂêà)Ôºö{3„ÄÅ4„ÄÅ5}</li>
<li>min_trx_id(ÊúÄÂ∞è‰∫ãÂä°id)Ôºö3</li>
<li>max_trx id(È¢ÑÂàÜÈÖç‰∫ãÂä°id)Ôºö6</li>
<li>creator_trx_id(ÂàõÂª∫ReadViewÁöÑ‰∫ãÂä°id)Ôºö5</li>
</ul>
<p>Âú®ÊâßË°å<strong>‰∫ãÂä°5</strong>Êó∂ÁöÑ<strong>Á¨¨‰∫åÊù°Êü•ËØ¢ËØ≠Âè•</strong>ÁîüÊàêÁöÑReadViewÔºö</p>
<ul>
<li><p>m_ids(Ê¥ªË∑É‰∫ãÂä°ÈõÜÂêà)Ôºö{4„ÄÅ5}</p>
<p>Ê≠§Êó∂Ôºå‰∫ãÂä°3Â∑≤ÁªèÊèê‰∫§‰∫ãÂä°</p>
</li>
<li><p>min_trx_id(ÊúÄÂ∞è‰∫ãÂä°id)Ôºö4</p>
</li>
<li><p>max_trx id(È¢ÑÂàÜÈÖç‰∫ãÂä°id)Ôºö6</p>
</li>
<li><p>creator_trx_id(ÂàõÂª∫ReadViewÁöÑ‰∫ãÂä°id)Ôºö5</p>
</li>
</ul>
<p>ËøôÊ†∑Â∞±ÂèØ‰ª•ÈÄöËøá‰∏ÄÊù°ËÆ∞ÂΩï‰∏≠ÁöÑ<strong>DB_TRX_ID</strong>‰∏é<strong>ÁâàÊú¨ÈìæÊï∞ÊçÆËÆøÈóÆËßÑÂàô</strong>ËøõË°åÂà§Êñ≠Ôºå‰ªé<strong>undo log</strong>ÊâæÂá∫ÂèØ‰ª•ËÆøÈóÆÁöÑÁâàÊú¨</p>
<p><strong>RRÈöîÁ¶ªÁ∫ßÂà´</strong>‰∏ãÔºå‰ªÖÂú®‰∫ãÂä°‰∏≠Á¨¨‰∏ÄÊ¨°ÊâßË°åÂø´ÁÖßËØªÊó∂ÁîüÊàêReadViewÔºåÂêéÁª≠Â§çÁî®ËØ•ReadView„ÄÇ</p>
<p>ÂêåÊ†∑‰∏∫Ëøô‰∏™ÂõæÔºö</p>
<img src="https://s2.loli.net/2023/01/17/kNiI9A3HLgshzE4.png" class="lazyload" data-srcset="https://s2.loli.net/2023/01/17/kNiI9A3HLgshzE4.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" alt="image-20230117221941419.png" style="zoom:67%;" />



<p>ÊâßË°å<strong>‰∫ãÂä°5</strong>Êó∂ÁöÑ<strong>Á¨¨‰∏ÄÊù°Êü•ËØ¢ËØ≠Âè•</strong>ÁîüÊàêÁöÑReadViewÔºö</p>
<ul>
<li>m_ids(Ê¥ªË∑É‰∫ãÂä°ÈõÜÂêà)Ôºö{3„ÄÅ4„ÄÅ5}</li>
<li>min_trx_id(ÊúÄÂ∞è‰∫ãÂä°id)Ôºö3</li>
<li>max_trx id(È¢ÑÂàÜÈÖç‰∫ãÂä°id)Ôºö6</li>
<li>creator_trx_id(ÂàõÂª∫ReadViewÁöÑ‰∫ãÂä°id)Ôºö5</li>
</ul>
<p>Âú®<strong>‰∫ãÂä°5</strong>ÊâßË°å<strong>Á¨¨‰∫åÊù°Êü•ËØ¢ËØ≠Âè•</strong>Êó∂Ôºå‰ºöÂ§çÁî®‰πãÂâçÁöÑReadview</p>
<p>ÊâÄ‰ª•Âú®Âêå‰∏ÄÊ¨°‰∫ãÂä°‰∏≠ÔºåÂè™‰ºöÁîüÊàê‰∏ÄÊ¨°ReadView</p>

</div>
  </div>
  
  
    
    <div class='footer'>
       <!-- ÂèÇËÄÉËµÑÊñô„ÄÅÁõ∏ÂÖ≥ËµÑÊñôÁ≠â -->
      
       <!-- Áõ∏ÂÖ≥ÊñáÁ´† -->
      
      <!-- ÁâàÊùÉÂ£∞ÊòéÁªÑ‰ª∂ -->
      
        
          
          <div class="copyright license">
            <div class="license-title">MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞</div>
            <div class="license-link"><a href="http://example.com/2022/10/08/Java/MySQL/">http://example.com/2022/10/08/Java/MySQL/</a>
            </div>
            <div class="license-meta">
              <div class="license-meta-item">
                <div class="license-meta-title">Êú¨Êñá‰ΩúËÄÖ</div>
                <div class="license-meta-text">‰∏Ä‰∏™Â∞èÂûÉÂúæ</div>
              </div>
              <div class="license-meta-item">
                <div class="license-meta-title">ÂèëÂ∏É‰∫é</div>
                <div class="license-meta-text">2022Âπ¥10Êúà8Êó•</div>
              </div>
              
              <div class="license-meta-item">
                <div class="license-meta-title">Êõ¥Êñ∞‰∫é</div>
                <div class="license-meta-text">2023Âπ¥3Êúà29Êó•</div>
              </div>
              
              
              <div class="license-meta-item">
                <div class="license-meta-title">ËÆ∏ÂèØÂçèËÆÆ</div>
                <div class="license-meta-text"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh#" target="_blank">CC BY-NC-SA 4.0</a></div>
              </div>
            </div>
            <div class="license-statement">ÁΩ≤Âêç-ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî®-Áõ∏ÂêåÊñπÂºèÂÖ±‰∫´ 4.0 ÂõΩÈôÖ„ÄÇ</div>
          </div>
        
      
      <!-- ÊâìËµèÁªÑ‰ª∂ -->
      
    </div>
  
  
    


  <div class='article-meta' id="bottom">
    <div class='new-meta-box'>
      
        
          <div class="new-meta-item date" itemprop="dateModified" datetime="2023-03-29T14:11:03+08:00">
  <a class='notlink'>
    <i class="fa-solid fa-edit fa-fw" aria-hidden="true"></i>
    <p>Êõ¥Êñ∞‰∫éÔºö2023Âπ¥3Êúà29Êó•</p>
  </a>
</div>

        
      
        
          
  
  <div class="new-meta-item meta-tags"><a class="tag" href="/tags/Java/" rel="nofollow"><i class="fa-solid fa-hashtag fa-fw" aria-hidden="true"></i><p>Java</p></a></div> <div class="new-meta-item meta-tags"><a class="tag" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="nofollow"><i class="fa-solid fa-hashtag fa-fw" aria-hidden="true"></i><p>Êï∞ÊçÆÂ∫ì</p></a></div>
  <span hidden itemprop="keywords">Java Êï∞ÊçÆÂ∫ì</span>


        
      
        
          
  <div class="new-meta-item share -mob-share-list">
  <div class="-mob-share-list share-body">
    
      
        <a class="-mob-share-qq" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://example.com/2022/10/08/Java/MySQL/&title=MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞ - Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qq.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qq.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-qzone" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=http://example.com/2022/10/08/Java/MySQL/&title=MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞ - Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qzone.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/qzone.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
        <a class="-mob-share-weibo" title="" rel="external nofollow noopener noreferrer noopener"
          
          target="_blank" href="http://service.weibo.com/share/share.php?url=http://example.com/2022/10/08/Java/MySQL/&title=MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞ - Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ&summary="
          
          >
          
            <img src="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/weibo.png" class="lazyload" data-srcset="https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/logo/128/weibo.png" srcset="data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==">
          
        </a>
      
    
      
    
      
    
  </div>
</div>



        
      
    </div>
    <!-- Custom Files bottomMeta begin -->
    
    <!-- Custom Files bottomMeta end -->
  </div>


  
  

  
    <div class="prev-next">
      
        <a class='prev' href='/2022/10/09/%E6%AF%8F%E6%97%A5LeetCode/2022-10/856%20%E6%8B%AC%E5%8F%B7%E7%9A%84%E5%88%86%E6%95%B0/'>
          <p class='title'><i class="fa-solid fa-chevron-left" aria-hidden="true"></i>(ÊØèÊó•LeetCode)856. Êã¨Âè∑ÁöÑÂàÜÊï∞</p>
          <p class='content'>È¢òÁõÆÔºöÁªôÂÆö‰∏Ä‰∏™Âπ≥Ë°°Êã¨Âè∑Â≠óÁ¨¶‰∏≤ SÔºåÊåâ‰∏ãËø∞ËßÑÂàôËÆ°ÁÆóËØ•Â≠óÁ¨¶‰∏≤ÁöÑÂàÜÊï∞Ôºö

() Âæó 1 ÂàÜ„ÄÇ
AB Âæó A + B ÂàÜÔºåÂÖ∂‰∏≠ A Âíå B ÊòØÂπ≥Ë°°Êã¨Âè∑Â≠óÁ¨¶‰∏≤„ÄÇ
(A) Âæó 2 * A ÂàÜÔºåÂÖ∂‰∏≠ A ÊòØÂπ≥...</p>
        </a>
      
      
        <a class='next' href='/2022/10/08/%E6%AF%8F%E6%97%A5LeetCode/2022-10/870%20%E4%BC%98%E5%8A%BF%E6%B4%97%E7%89%8C/'>
          <p class='title'>(ÊØèÊó•LeetCode)870. ‰ºòÂäøÊ¥óÁâå<i class="fa-solid fa-chevron-right" aria-hidden="true"></i></p>
          <p class='content'>È¢òÁõÆÔºöÁªôÂÆö‰∏§‰∏™Â§ßÂ∞èÁõ∏Á≠âÁöÑÊï∞ÁªÑ nums1 Âíå nums2Ôºånums1 Áõ∏ÂØπ‰∫é nums2 ÁöÑ‰ºòÂäøÂèØ‰ª•Áî®Êª°Ë∂≥ nums1[i] &gt; nums2[i] ÁöÑÁ¥¢Âºï i ÁöÑÊï∞ÁõÆÊù•ÊèèËø∞„ÄÇ
ËøîÂõû num...</p>
        </a>
      
    </div>
  
  <!-- Custom Files postEnd begin-->
  
  <!-- Custom Files postEnd end-->
</article>


  

  





</div>
<aside id='l_side' itemscope itemtype="http://schema.org/WPSideBar">
  

  
    
    
      
    
  


<div class="widget-sticky pjax">

  
  


  <section class="widget toc-wrapper desktop mobile " id="toc-div" >
    
  <header>
    
      <i class="fa-solid fa-list fa-fw" aria-hidden="true"></i><span class='name'>Êú¨ÊñáÁõÆÂΩï</span>
    
  </header>


    <div class='content'>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E"><span class="toc-text">1.Â≠òÂÇ®ÂºïÊìé</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-1-MySQL%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-text">1.1 MySQL‰ΩìÁ≥ªÁªìÊûÑ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%AE%80%E4%BB%8B"><span class="toc-text">1.2 Â≠òÂÇ®ÂºïÊìéÁÆÄ‰ªã</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-3-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%89%B9%E7%82%B9"><span class="toc-text">1.3 Â≠òÂÇ®ÂºïÊìéÁâπÁÇπ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-4-%E5%AD%98%E5%82%A8%E5%BC%95%E6%93%8E%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">1.4 Â≠òÂÇ®ÂºïÊìéÁöÑÂ∫îÁî®Âú∫ÊôØ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-%E7%B4%A2%E5%BC%95"><span class="toc-text">2.Á¥¢Âºï</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-%E6%A6%82%E8%BF%B0"><span class="toc-text">2.1 Ê¶ÇËø∞</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E7%BB%93%E6%9E%84"><span class="toc-text">2.2 ÁªìÊûÑ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-3-%E5%88%86%E7%B1%BB"><span class="toc-text">2.3 ÂàÜÁ±ª</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-%E8%AF%AD%E6%B3%95"><span class="toc-text">2.4 ËØ≠Ê≥ï</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-SQL%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-text">2.5 SQLÊÄßËÉΩÂàÜÊûê</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%85%A2%E6%9F%A5%E8%AF%A2%E6%97%A5%E5%BF%97"><span class="toc-text">ÊÖ¢Êü•ËØ¢Êó•Âøó</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#profile%E8%AF%A6%E6%83%85"><span class="toc-text">profileËØ¶ÊÉÖ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#explain%E6%89%A7%E8%A1%8C%E8%AE%A1%E5%88%92"><span class="toc-text">explainÊâßË°åËÆ°Âàí</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-%E4%BD%BF%E7%94%A8%E8%A7%84%E5%88%99"><span class="toc-text">2.6 ‰ΩøÁî®ËßÑÂàô</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81%E7%B4%A2%E5%BC%95%E6%95%88%E7%8E%87"><span class="toc-text">È™åËØÅÁ¥¢ÂºïÊïàÁéá</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9C%80%E5%B7%A6%E5%89%8D%E7%BC%80%E6%B3%95%E5%88%99"><span class="toc-text">ÊúÄÂ∑¶ÂâçÁºÄÊ≥ïÂàô</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E5%A4%B1%E6%95%88%E6%83%85%E5%86%B5"><span class="toc-text">Á¥¢ÂºïÂ§±ÊïàÊÉÖÂÜµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#SQL%E6%8F%90%E7%A4%BA"><span class="toc-text">SQLÊèêÁ§∫</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A6%86%E7%9B%96%E7%B4%A2%E5%BC%95-amp-%E5%9B%9E%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-text">Ë¶ÜÁõñÁ¥¢Âºï&amp;ÂõûË°®Êü•ËØ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%8D%E7%BC%80%E7%B4%A2%E5%BC%95"><span class="toc-text">ÂâçÁºÄÁ¥¢Âºï</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8D%95%E5%88%97-amp-%E8%81%94%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-text">ÂçïÂàó&amp;ËÅîÂêàÁ¥¢Âºï</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-7-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="toc-text">2.7 ËÆæËÆ°ÂéüÂàô</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link"><span class="toc-text"></span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-SQL%E4%BC%98%E5%8C%96"><span class="toc-text">3.SQL‰ºòÂåñ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-1-%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-text">3.1 ÊèíÂÖ•Êï∞ÊçÆ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#insert%E4%BC%98%E5%8C%96"><span class="toc-text">insert‰ºòÂåñ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-2-%E4%B8%BB%E9%94%AE%E4%BC%98%E5%8C%96"><span class="toc-text">3.2 ‰∏ªÈîÆ‰ºòÂåñ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F"><span class="toc-text">Êï∞ÊçÆÁªÑÁªáÊñπÂºè</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E5%88%86%E8%A3%82"><span class="toc-text">È°µÂàÜË£Ç</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E5%90%88%E5%B9%B6"><span class="toc-text">È°µÂêàÂπ∂</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%BB%E9%94%AE%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99"><span class="toc-text">‰∏ªÈîÆËÆæËÆ°ÂéüÂàô</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-order-by%E4%BC%98%E5%8C%96"><span class="toc-text">3.3 order by‰ºòÂåñ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-group-by%E4%BC%98%E5%8C%96"><span class="toc-text">3.4 group by‰ºòÂåñ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-limit%E4%BC%98%E5%8C%96"><span class="toc-text">3.5 limit‰ºòÂåñ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-count%E4%BC%98%E5%8C%96"><span class="toc-text">3.6 count‰ºòÂåñ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#count%E7%9A%84%E5%87%A0%E7%A7%8D%E7%94%A8%E6%B3%95"><span class="toc-text">countÁöÑÂá†ÁßçÁî®Ê≥ï</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-update%E4%BC%98%E5%8C%96"><span class="toc-text">3.7 update‰ºòÂåñ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E8%A7%86%E5%9B%BE"><span class="toc-text">4.ËßÜÂõæ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">4.1 Âü∫Á°ÄËØ≠Ê≥ï</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E6%A3%80%E6%9F%A5%E9%80%89%E9%A1%B9"><span class="toc-text">4.2 Ê£ÄÊü•ÈÄâÈ°π</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%9B%B4%E6%96%B0%E5%8F%8A%E4%BD%9C%E7%94%A8"><span class="toc-text">4.3 Êõ¥Êñ∞Âèä‰ΩúÁî®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-text">5.Â≠òÂÇ®ËøáÁ®ã</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">5.1 Âü∫Á°ÄËØ≠Ê≥ï</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-%E8%A7%A6%E5%8F%91%E5%99%A8"><span class="toc-text">6.Ëß¶ÂèëÂô®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">6.1 ‰ªãÁªç</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95"><span class="toc-text">6.2 Âü∫Á°ÄËØ≠Ê≥ï</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E6%A1%88%E4%BE%8B"><span class="toc-text">6.3 Ê°à‰æã</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#insert%E7%B1%BB%E5%9E%8B"><span class="toc-text">insertÁ±ªÂûã</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#update%E7%B1%BB%E5%9E%8B"><span class="toc-text">updateÁ±ªÂûã</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#delete%E7%B1%BB%E5%9E%8B"><span class="toc-text">deleteÁ±ªÂûã</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%94%81"><span class="toc-text">7.ÈîÅ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%E4%BB%8B%E7%BB%8D"><span class="toc-text">7.1 ‰ªãÁªç</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%E5%85%A8%E5%B1%80%E9%94%81"><span class="toc-text">7.2 ÂÖ®Â±ÄÈîÅ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-%E8%A1%A8%E7%BA%A7%E9%94%81"><span class="toc-text">7.3 Ë°®Á∫ßÈîÅ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A8%E9%94%81"><span class="toc-text">Ë°®ÈîÅ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E6%95%B0%E6%8D%AE%E9%94%81"><span class="toc-text">ÂÖÉÊï∞ÊçÆÈîÅ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%84%8F%E5%90%91%E9%94%81"><span class="toc-text">ÊÑèÂêëÈîÅ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-%E8%A1%8C%E7%BA%A7%E9%94%81"><span class="toc-text">7.4 Ë°åÁ∫ßÈîÅ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%8C%E9%94%81"><span class="toc-text">Ë°åÈîÅ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%97%B4%E9%9A%99%E9%94%81-amp-%E4%B8%B4%E7%95%8C%E9%94%81"><span class="toc-text">Èó¥ÈöôÈîÅ&amp;‰∏¥ÁïåÈîÅ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-InnoDB%E5%BC%95%E6%93%8E"><span class="toc-text">8.InnoDBÂºïÊìé</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-%E9%80%BB%E8%BE%91%E5%AD%98%E5%82%A8%E7%BB%93%E6%9E%84"><span class="toc-text">8.1 ÈÄªËæëÂ≠òÂÇ®ÁªìÊûÑ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-%E6%9E%B6%E6%9E%84"><span class="toc-text">8.2 Êû∂ÊûÑ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84"><span class="toc-text">ÂÜÖÂ≠òÁªìÊûÑ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E7%BB%93%E6%9E%84"><span class="toc-text">Á£ÅÁõòÁªìÊûÑ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%90%8E%E5%8F%B0%E7%BA%BF%E7%A8%8B"><span class="toc-text">ÂêéÂè∞Á∫øÁ®ã</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%E4%BA%8B%E5%8A%A1%E5%8E%9F%E7%90%86"><span class="toc-text">8.3 ‰∫ãÂä°ÂéüÁêÜ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#redo-log"><span class="toc-text">redo log</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undo-log"><span class="toc-text">undo log</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-4-MVCC"><span class="toc-text">8.4 MVCC</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-text">Âü∫Êú¨Ê¶ÇÂøµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9A%90%E8%97%8F%E5%AD%97%E6%AE%B5"><span class="toc-text">ÈöêËóèÂ≠óÊÆµ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#undo-log%E7%89%88%E6%9C%AC%E9%93%BE"><span class="toc-text">undo logÁâàÊú¨Èìæ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#readview"><span class="toc-text">readview</span></a></li></ol></li></ol></li></ol>
    </div>
  </section>

  

</div>


<!-- Ê≤°Êúâ pjax Âç†‰Ωç‰ºöÊä•Èîô ‰∏áÊÅ∂ÁöÑ pjax -->

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <div class="pjax">
    <!-- pjaxÂç†‰Ωç -->
  </div>

  <!-- Custom Files side begin -->
  
  <!-- Custom Files side end -->
</aside>



          <!--Ê≠§Êñá‰ª∂Áî®Êù•Â≠òÊîæ‰∏Ä‰∫õ‰∏çÊñπ‰æøÂèñÂÄºÁöÑÂèòÈáè-->
<!--ÊÄùË∑ØÂ§ßÊ¶ÇÊòØÂ∞ÜÂÄºËóèÂà∞ÈáçÂä†ËΩΩÁöÑÂå∫ÂüüÂÜÖ-->

<pjax>
<script>
  window.pdata={}
  pdata.ispage=true;
  pdata.commentPath="";
  pdata.commentPlaceholder="";
  pdata.commentConfig={};
  //  see: /layout/_partial/scripts/_ctrl/coverCtrl.ejs
  
    // header
    var l_header=document.getElementById("l_header");
    
    l_header.classList.add("show");
    
    
      // cover
      var cover_wrapper=document.querySelector('#l_cover .cover-wrapper');
      var scroll_down=document.getElementById('scroll-down');
      cover_wrapper.id="none";
      cover_wrapper.style.display="none";
      scroll_down.style.display="none";
    
  
</script>
</pjax>
        </div>
        
  
  <footer class="footer clearfix"  itemscope itemtype="http://schema.org/WPFooter">
    <br><br>
    
      
        <div class="aplayer-container">
          


        </div>
      
    
      
        <br>
        <div class="social-wrapper" itemprop="about" itemscope itemtype="http://schema.org/Thing">
          
            
          
            
          
            
          
        </div>
      
    
      
        <div><p>ÂçöÂÆ¢ÂÜÖÂÆπÈÅµÂæ™ <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">ÁΩ≤Âêç-ÈùûÂïÜ‰∏öÊÄß‰ΩøÁî®-Áõ∏ÂêåÊñπÂºèÂÖ±‰∫´ 4.0 ÂõΩÈôÖ (CC BY-NC-SA 4.0) ÂçèËÆÆ</a></p>
</div>
      
    
      
        
      
    
      
        Êú¨Á´ô‰ΩøÁî®
        <a href="https://github.com/volantis-x/hexo-theme-volantis/tree/5.5.0" target="_blank" class="codename">Volantis</a>
        ‰Ωú‰∏∫‰∏ªÈ¢ò
      
    
      
        <div class='copyright'>
        <p><a href="/">Copyright ¬© since 2022 ‰∏Ä‰∏™Â∞èÂûÉÂúæ</a></p>

        </div>
      
    
    <!-- Custom Files footer begin-->
    
    <!-- Custom Files footer end-->
  </footer>



  <script src='https://unpkg.com/mermaid@8.13.8/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({theme: 'forest'});
    }
  </script>


        <a id="s-top" class="fa-solid fa-arrow-up fa-fw" href="/" onclick="return false;" title="top"></a>
      </div>
    </div>
    <div>
      <script>
  /******************** volantis.dom ********************************/
  // È°µÈù¢ÈÄâÊã©Âô® Â∞ÜdomÂØπË±°ÁºìÂ≠òËµ∑Êù• see: /source/js/app.js etc.
  volantis.dom.bodyAnchor = volantis.dom.$(document.getElementById("safearea")); // È°µÈù¢‰∏ª‰Ωì
  volantis.dom.topBtn = volantis.dom.$(document.getElementById('s-top')); // Âêë‰∏ä
  volantis.dom.wrapper = volantis.dom.$(document.getElementById('wrapper')); // Êï¥‰∏™ÂØºËà™Ê†è
  volantis.dom.coverAnchor = volantis.dom.$(document.querySelector('#l_cover .cover-wrapper')); // 1‰∏™
  volantis.dom.switcher = volantis.dom.$(document.querySelector('#l_header .switcher .s-search')); // ÊêúÁ¥¢ÊåâÈíÆ   ÁßªÂä®Á´Ø 1‰∏™
  volantis.dom.header = volantis.dom.$(document.getElementById('l_header')); // ÁßªÂä®Á´ØÂØºËà™Ê†è
  volantis.dom.search = volantis.dom.$(document.querySelector('#l_header .m_search')); // ÊêúÁ¥¢Ê°Ü Ê°åÈù¢Á´Ø ÁßªÂä®Á´Ø 1‰∏™
  volantis.dom.mPhoneList = volantis.dom.$(document.querySelectorAll('#l_header .m-phone .list-v')); //  ÊâãÊú∫Á´Ø Â≠êËèúÂçï Â§ö‰∏™
</script>

<script>
  
  volantis.css("https://unpkg.com/volantis-static@0.0.1654736714924/libs/@fortawesome/fontawesome-free/css/all.min.css");
  
  
  
</script>

<!-- required -->


<!-- internal -->

<script src="/js/app.af2d54c8.js"></script>





  













<div id="rightmenu-wrapper">
  <ul class="list-v rightmenu" id="rightmenu-content">
    
  <li class='navigation menuNavigation-Content'>


    <a class="nav icon-only fix-cursor-default" onclick="history.back()"><i class="fa-solid fa-arrow-left fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="history.forward()"><i class="fa-solid fa-arrow-right fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="window.location.reload()"><i class="fa-solid fa-redo fa-fw"></i></a>



    <a class="nav icon-only fix-cursor-default" onclick="VolantisApp.scrolltoElement(volantis.dom.bodyAnchor)"><i class="fa-solid fa-arrow-up fa-fw"></i></a>


  </li>


    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyPaste" data-event="copyPaste" data-group="inputBox">
      <i class="fa-solid fa-paste fa-fw"></i>
      Á≤òË¥¥ÊñáÊú¨
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyAll" data-event="copyAll" data-group="inputBox">
      <i class="fa-solid fa-object-ungroup fa-fw"></i>
      ÂÖ®ÈÄâÊñáÊú¨
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyCut" data-event="copyCut" data-group="inputBox">
      <i class="fa-solid fa-cut fa-fw"></i>
      Ââ™ÂàáÊñáÊú¨
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyText" data-event="copyText" data-group="seletctText">
      <i class="fa-solid fa-copy fa-fw"></i>
      Â§çÂà∂ÊñáÊú¨
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="searchWord" data-event="OpenSearch(__text__)" data-group="seletctText">
      <i class="fa-solid fa-search fa-fw"></i>
      Á´ôÂÜÖÊêúÁ¥¢
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="bingSearch" data-event="window.open(`https://cn.bing.com/search?q=${__text__}`)" data-group="seletctText">
      <i class="fa-solid fa-search fa-fw"></i>
      ÂøÖÂ∫îÊêúÁ¥¢
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="openTab" data-event="window.open(__link__)" data-group="elementCheck">
      <i class="fa-solid fa-external-link-square-alt fa-fw"></i>
      Êñ∞Ê†áÁ≠æÈ°µÊâìÂºÄ
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyLink" data-event="copyLink" data-group="elementCheck">
      <i class="fa-solid fa-link fa-fw"></i>
      Â§çÂà∂ÈìæÊé•Âú∞ÂùÄ
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="copyImg" data-event="copyImg" data-group="elementImage">
      <i class="fa-solid fa-image fa-fw"></i>
      Â§çÂà∂ÂõæÁâá
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="googleImg" data-event="window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)" data-group="elementImage">
      <i class="fa-solid fa-images fa-fw"></i>
      Ë∞∑Ê≠åËØÜÂõæ
    </span>
  </li>



    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="source_docs" target="_blank" rel="noopener" href="https://github.com/volantis-x/volantis-docs/" data-group="link">
      <i class="fa-solid fa-code-branch fa-fw"></i>
      Êú¨Á´ôÊ∫êÁ†Å
    </a>
  </li>



  <li class="menuLoad-Content">
    <a class="vlts-menu fix-cursor-default" id="source_theme" target="_blank" rel="noopener" href="https://github.com/volantis-x/hexo-theme-volantis/" data-group="link">
      <i class="fa-solid fa-code-branch fa-fw"></i>
      ‰∏ªÈ¢òÊ∫êÁ†Å
    </a>
  </li>



    <hr class="menuLoad-Content" >



    <hr class="menuLoad-Content" >



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="printMode" data-event="printMode" data-group="articlePage">
      <i class="fa-solid fa-print fa-fw"></i>
      ÊâìÂç∞È°µÈù¢
    </span>
  </li>



  <li class="menuLoad-Content">
    <span class="vlts-menu fix-cursor-default event" id="readMode" data-event="readMode" data-group="articlePage">
      <i class="fa-solid fa-book-open fa-fw"></i>
      ÈòÖËØªÊ®°Âºè
    </span>
  </li>


<div id="menuMusic">
  <li class='music name menuOption-Content'>
    <p class='nav music-title fix-cursor-default'></p>
  </li>
  <li class='music ctrl'>
    <a class='nav icon-only backward fix-cursor-default' href="/" onclick="return false;" title="backward">
      <i class='fa-solid fa-step-backward fa-fw'></i>
    </a>
    <a class='nav icon-only toggle fix-cursor-default' href="/" onclick="return false;" title="toggle">
      <i class='fa-solid fa-play fa-fw'></i>
    </a>
    <a class='nav icon-only forward fix-cursor-default' href="/" onclick="return false;" title="forward">
      <i class='fa-solid fa-step-forward fa-fw'></i>
    </a>
  </li>
  <li class='music volume'>
    <div class='nav volume'>
      <div class="aplayer-volume-bar-wrap">
        <div class="aplayer-volume-bar fix-cursor-pointer">
          <div class="aplayer-volume"></div>
          <i class='left fa-solid fa-volume-off fa-fw'></i>
          <i class='right fa-solid fa-volume-up fa-fw'></i>
        </div>
      </div>
    </div>
  </li>
</div>

  </ul>
</div>
<script src="/js/plugins/rightMenus.4d580c89.js"></script>
<script>
  const RightMenusFunction = {};
  












  <!-- RightMenusFunction['copyPaste'] = (fun) => {fun()} -->





  <!-- RightMenusFunction['copyAll'] = (fun) => {fun()} -->





  <!-- RightMenusFunction['copyCut'] = (fun) => {fun()} -->





  <!-- RightMenusFunction['copyText'] = (fun) => {fun()} -->





  RightMenusFunction['searchWord'] = (__text__) => {OpenSearch(__text__)}





  RightMenusFunction['bingSearch'] = (__text__) => {window.open(`https://cn.bing.com/search?q=${__text__}`)}





  RightMenusFunction['openTab'] = (__link__) => {window.open(__link__)}





  <!-- RightMenusFunction['copyLink'] = (fun) => {fun()} -->





  <!-- RightMenusFunction['copyImg'] = (fun) => {fun()} -->





  RightMenusFunction['googleImg'] = (__link__) => {window.open(`https://www.google.com.hk/searchbyimage?image_url=${__link__}`)}















  <!-- RightMenusFunction['printMode'] = (fun) => {fun()} -->





  <!-- RightMenusFunction['readMode'] = (fun) => {fun()} -->





</script>



<!-- rightmenuË¶ÅÂú®darkmode‰πãÂâçÔºàToggleButtonÔºâ darkmodeË¶ÅÂú®comments‰πãÂâçÔºàvolantis.dark.pushÔºâ-->



<script>
  function loadIssuesJS() {
    
      const sites_api = document.getElementById('sites-api');
      if (sites_api != undefined && typeof SitesJS === 'undefined') {
        volantis.js("/js/plugins/tags/sites.76bf19b8.js")
      }
    
    
      const friends_api = document.getElementById('friends-api');
      if (friends_api != undefined && typeof FriendsJS === 'undefined') {
        volantis.js("/js/plugins/tags/friends.f372da57.js")
      }
    
    
      const contributors_api = document.getElementById('contributors-api');
      if (contributors_api != undefined && typeof ContributorsJS === 'undefined') {
        volantis.js("/js/plugins/tags/contributors.aec80453.js")
      }
    
  };
  loadIssuesJS()
  volantis.pjax.push(()=>{
    loadIssuesJS();
  })

</script>




  <script defer src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/vanilla-lazyload/dist/lazyload.min.js"></script>
<script>
  // https://www.npmjs.com/package/vanilla-lazyload
  // Set the options globally
  // to make LazyLoad self-initialize
  window.lazyLoadOptions = {
    elements_selector: ".lazyload",
    threshold: 0
  };
  // Listen to the initialization event
  // and get the instance of LazyLoad
  window.addEventListener(
    "LazyLoad::Initialized",
    function (event) {
      window.lazyLoadInstance = event.detail.instance;
    },
    false
  );
  document.addEventListener('DOMContentLoaded', function () {
    lazyLoadInstance.update();
  });
  document.addEventListener('pjax:complete', function () {
    lazyLoadInstance.update();
  });
</script>




  

<script>
  window.FPConfig = {
	delay: 0,
	ignoreKeywords: ["#"],
	maxRPS: 6,
	hoverDelay: 0
  };
</script>
<script defer src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/flying-pages/flying-pages.min.js"></script>





   <script type="text/javascript">
  function pjax_scrollrebeal() {
    ScrollReveal().reveal("#l_main .reveal", {
      distance: "32px",
      duration: "800",
      interval: "20",
      scale: "1",
      easing: "ease-out",
    });
  }
  function init_scrollrebeal() {
    if (typeof ScrollReveal == "undefined") {
      volantis.requestAnimationFrame(init_scrollrebeal);
    } else {
      pjax_scrollrebeal();
    }
  }
  volantis.js("https://unpkg.com/volantis-static@0.0.1654736714924/libs/scrollreveal/dist/scrollreveal.min.js");
  document.addEventListener("DOMContentLoaded", init_scrollrebeal);
  volantis.pjax.push(
    pjax_scrollrebeal,
    "pjax_scrollrebeal",
    (setRequestAnimationFrame = false)
  );
</script>











<!-- optional -->

  <script>
  const SearchServiceDataPathRoot = ("/" || "/").endsWith("/") ?
    "/" || "/" :
    "//" || "/";
  const SearchServiceDataPath = SearchServiceDataPathRoot + "content.json";

  function loadSearchScript() {
    // see: layout/_partial/scripts/_ctrl/cdnCtrl.ejs
    return volantis.js("/js/search/hexo.0e52f222.js");
  }

  function loadSearchService() {
    loadSearchScript();
    document.querySelectorAll(".input.u-search-input").forEach((e) => {
      e.removeEventListener("focus", loadSearchService, false);
    });

    document.querySelectorAll(".u-search-form").forEach((e) => {
      e.addEventListener("submit", (event) => {
        event.preventDefault();
      }, false);
    });
  }

  // ÊâìÂºÄÂπ∂ÊêúÁ¥¢ Â≠óÁ¨¶‰∏≤ s
  function OpenSearch(s) {
    if (typeof SearchService === 'undefined')
      loadSearchScript().then(() => {
        SearchService.setQueryText(s);
        SearchService.search();
      });
    else {
      SearchService.setQueryText(s);
      SearchService.search();
    }
  }

  // ËÆøÈóÆÂê´Êúâ ?s=xxx  ÁöÑÈìæÊé•Êó∂ÊâìÂºÄÊêúÁ¥¢ // ‰∏éÊêúÁ¥¢ÂºïÊìé structured data Áõ∏ÂÖ≥: /scripts/helpers/structured-data/lib/config.js
  if (window.location.search && /^\?s=/g.test(window.location.search)) {
    let queryText = decodeURI(window.location.search)
      .replace(/\ /g, "-")
      .replace(/^\?s=/g, "");
    OpenSearch(queryText);
  }

  // ÊêúÁ¥¢ËæìÂÖ•Ê°ÜËé∑ÂèñÁÑ¶ÁÇπÊó∂Âä†ËΩΩÊêúÁ¥¢
  document.querySelectorAll(".input.u-search-input").forEach((e) => {
    e.addEventListener("focus", loadSearchService, false);
  });
</script>







  <script>



  function pjax_highlightjs_copyCode(){
    if (!(document.querySelector(".highlight .code pre") ||
      document.querySelector(".article pre code"))) {
      return;
    }
    VolantisApp.utilCopyCode(".highlight .code pre, .article pre code")
  }
  volantis.requestAnimationFrame(pjax_highlightjs_copyCode)
  volantis.pjax.push(pjax_highlightjs_copyCode)

</script>












  <script>
  function load_swiper() {
    if (!document.querySelectorAll(".swiper-container")[0]) return;
    volantis.css("https://unpkg.com/volantis-static@0.0.1654736714924/libs/swiper/swiper-bundle.min.css");
    volantis.js("https://unpkg.com/volantis-static@0.0.1654736714924/libs/swiper/swiper-bundle.min.js").then(() => {
      pjax_swiper();
    });
  }

  load_swiper();

  function pjax_swiper() {
    volantis.swiper = new Swiper('.swiper-container', {
      slidesPerView: 'auto',
      spaceBetween: 8,
      centeredSlides: true,
      loop: true,
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  }

  volantis.pjax.push(() => {
    if (!document.querySelectorAll(".swiper-container")[0]) return;
    if (typeof volantis.swiper === "undefined") {
      load_swiper();
    } else {
      pjax_swiper();
    }
  });
</script>


<!-- pjax Ê†áÁ≠æÂøÖÈ°ªÂ≠òÂú®‰∫éÊâÄÊúâÈ°µÈù¢ Âê¶Âàô pjax error -->
<pjax>

</pjax>

<script>
  function listennSidebarTOC() {
    const navItems = document.querySelectorAll(".toc li");
    if (!navItems.length) return;
    let targets = []
    const sections = [...navItems].map((element) => {
      const link = element.querySelector(".toc-link");
      const target = document.getElementById(
        decodeURI(link.getAttribute("href")).replace("#", "")
      );
      targets.push(target)
      // Ëß£Èô§ a Ê†áÁ≠æ href ÁöÑ ÈîöÁÇπÂÆö‰Ωç, a Ê†áÁ≠æ href ÁöÑ ÈîöÁÇπÂÆö‰Ωç ‰ºöÈöèÊú∫ÂêØÁî®?? ‰∫ßÁîüÈîô‰Ωç???
      link.setAttribute("onclick","return false;")
      link.setAttribute("toc-action","toc-"+decodeURI(link.getAttribute("href")).replace("#", ""))
      link.setAttribute("href","/")
      // ÈÖçÁΩÆ ÁÇπÂáª Ëß¶ÂèëÊñ∞ÁöÑÈîöÁÇπÂÆö‰Ωç
      link.addEventListener("click", (event) => {
        event.preventDefault();
        // ËøôÈáåÁöÑ addTop ÊòØÈÄöËøáÈîô‰Ωç‰ΩøÂæó toc Ëá™Âä®Â±ïÂºÄ.
        volantis.scroll.to(target,{addTop: 5, observer:true})
        // Anchor id
        history.pushState(null, document.title, "#" + target.id);
      });
      return target;
    });

    function activateNavByIndex(target) {
      if (target.classList.contains("active-current")) return;

      document.querySelectorAll(".toc .active").forEach((element) => {
        element.classList.remove("active", "active-current");
      });
      target.classList.add("active", "active-current");
      let parent = target.parentNode;
      while (!parent.matches(".toc")) {
        if (parent.matches("li")) parent.classList.add("active");
        parent = parent.parentNode;
      }
    }

    // ÊñπÊ°à‰∏ÄÔºö
    volantis.activateNavIndex=0
    activateNavByIndex(navItems[volantis.activateNavIndex])
    volantis.scroll.push(()=>{
      if (targets[0].getBoundingClientRect().top >= 0) {
        volantis.activateNavIndex = 0
      }else if (targets[targets.length-1].getBoundingClientRect().top < 0) {
        volantis.activateNavIndex = targets.length-1
      } else {
        for (let index = 0; index < targets.length; index++) {
          const target0 = targets[index];
          const target1 = targets[(index+1)%targets.length];
          if (target0.getBoundingClientRect().top < 0&&target1.getBoundingClientRect().top >= 0) {
            volantis.activateNavIndex=index
            break;
          }
        }
      }
      activateNavByIndex(navItems[volantis.activateNavIndex])
    })

    // ÊñπÊ°à‰∫åÔºö
    // IntersectionObserver ‰∏çÊòØÂÆåÁæéÁ≤æÁ°ÆÂà∞ÂÉèÁ¥†Á∫ßÂà´ ‰πü‰∏çÊòØ‰ΩéÂª∂Êó∂ÊÄßÁöÑ
    // function findIndex(entries) {
    //   let index = 0;
    //   let entry = entries[index];
    //   if (entry.boundingClientRect.top > 0) {
    //     index = sections.indexOf(entry.target);
    //     return index === 0 ? 0 : index - 1;
    //   }
    //   for (; index < entries.length; index++) {
    //     if (entries[index].boundingClientRect.top <= 0) {
    //       entry = entries[index];
    //     } else {
    //       return sections.indexOf(entry.target);
    //     }
    //   }
    //   return sections.indexOf(entry.target);
    // }
    // function createIntersectionObserver(marginTop) {
    //   marginTop = Math.floor(marginTop + 10000);
    //   let intersectionObserver = new IntersectionObserver(
    //     (entries, observe) => {
    //       let scrollHeight = document.documentElement.scrollHeight;
    //       if (scrollHeight > marginTop) {
    //         observe.disconnect();
    //         createIntersectionObserver(scrollHeight);
    //         return;
    //       }
    //       let index = findIndex(entries);
    //       activateNavByIndex(navItems[index]);
    //     }, {
    //       rootMargin: marginTop + "px 0px -100% 0px",
    //       threshold: 0,
    //     }
    //   );
    //   sections.forEach((element) => {
    //     element && intersectionObserver.observe(element);
    //   });
    // }
    // createIntersectionObserver(document.documentElement.scrollHeight);
  }

  document.addEventListener("DOMContentLoaded", ()=>{
    volantis.requestAnimationFrame(listennSidebarTOC)
  });
  document.addEventListener("pjax:success", ()=>{
    volantis.requestAnimationFrame(listennSidebarTOC)
  });
</script>

<script>
  try {
    // https://web.dev/content-visibility/
    // https://www.caniuse.com/?search=content-visibility
    // https://infrequently.org/2020/12/content-visibility-scroll-fix/
    // https://infrequently.org/2020/12/resize-resilient-deferred-rendering/

    // Â§áÊ≥® ÁõÆÂâçÂ∑≤Áü•ÁöÑÈóÆÈ¢ò:
    // Âä®ÊÄÅ‰øÆÊîπÂØºËá¥ÁöÑÂÜÖÂÆπÈ´òÂ∫¶ÂèòÂåñ(‰æãÂ¶ÇËØÑËÆ∫Ê°ÜÂºÇÊ≠•Ê∏≤ÊüìÁöÑÂ§ñÈÉ®ÁõíÂ≠êÈ´òÂ∫¶ÂèòÂåñ) Êó†Ê≥ïÊèêÂâçËé∑Áü•, ËøõËÄåÂØºËá¥ÁöÑÈ¶ñÊ¨°ÊªöÂä®Êù°Ë∑≥Âä®Êó†Ê≥ïÂéªÈô§ (wontfix) ‰∫ãÂÆû‰∏ä‰∏ç‰ΩøÁî® content-visibility ‰πü‰ºöÊúâË∑≥Âä®, ‰∏çËøáÊòØÊØî‰ΩøÁî® content-visibility Ë∑≥Âä®ÊèêÂâç
    // scrollreveal Êèí‰ª∂ÊΩúÂú®ÈóÆÈ¢ò ÁõÆÂâçÂ∞ö‰∏çÊòéÁ°Æ

    let eqIsh = (a, b, fuzz = 2) => {
      return Math.abs(a - b) <= fuzz;
    };

    let rectNotEQ = (a, b) => {
      return !eqIsh(a.width, b.width) || !eqIsh(a.height, b.height);
    };

    // Keep a map of elements and the dimensions of
    // their place-holders, re-setting the element's
    // intrinsic size when we get updated measurements
    // from observers.
    let spaced = new WeakMap();

    // Only call this when known cheap, post layout
    let reserveSpace = (el, rect = el.getClientBoundingRect()) => {
      let old = spaced.get(el);
      // Set intrinsic size to prevent jumping on un-painting:
      //    https://drafts.csswg.org/css-sizing-4/#intrinsic-size-override
      if (!old || rectNotEQ(old, rect)) {
        spaced.set(el, rect);
        el.style["contain-intrinsic-size"] = `${rect.width}px ${rect.height}px`;
      }
    };

    let iObs = new IntersectionObserver(
      (entries, o) => {
        entries.forEach((entry) => {
          // We don't care if the element is intersecting or
          // has been laid out as our page structure ensures
          // they'll get the right width.
          reserveSpace(entry.target, entry.boundingClientRect);
        });
      },
      { rootMargin: "500px 0px 500px 0px" }
    );

    let rObs = new ResizeObserver((entries, o) => {
      entries.forEach((entry) => {
        reserveSpace(entry.target, entry.contentRect);
      });
    });

    let resizeResilientDeferredRendering = (Selector) => {
      let articles = document.querySelectorAll(Selector);

      if (articles.length) {
        articles.forEach((el) => {
          iObs.observe(el);
          rObs.observe(el);
        });

        // Workaround for Chrome bug, part 2.
        //
        // Re-enable browser management of rendering for the
        // first article after the first paint. Double-rAF
        // to ensure we get called after a layout.
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            articles[0].style["content-visibility"] = "auto";
          });
        });
      }
    };

    let contentVisibilityScrollFix = () => {
      if (!("content-visibility" in document.documentElement.style)) {
        return;
      }
      resizeResilientDeferredRendering(".post-story");
    };
    contentVisibilityScrollFix();
    volantis.pjax.push(contentVisibilityScrollFix);
  } catch (error) {
    console.log(error);
  }
</script>


<script>
  document.onreadystatechange = function () {
    if (document.readyState == 'complete') {
      // È°µÈù¢Âä†ËΩΩÂÆåÊØï Ê†∑ÂºèÂä†ËΩΩÂ§±Ë¥•ÔºåÊàñÊòØÂΩìÂâçÁΩëÈÄüÊÖ¢ÔºåÊàñÊòØÂºÄÂêØ‰∫ÜÁúÅÊµÅÊ®°Âºè
      const { saveData, effectiveType } = navigator.connection || navigator.mozConnection || navigator.webkitConnection || {}
      if (getComputedStyle(document.querySelector("#safearea"), null)["display"] == "none" || saveData || /2g/.test(effectiveType)) {
        document.querySelectorAll(".reveal").forEach(function (e) {
          e.style["opacity"] = "1";
        });
        document.querySelector("#safearea").style["display"] = "block";
      }
    }
  }
</script>


  <script type="application/ld+json">[{"@context":"http://schema.org","@type":"Organization","name":"Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ","url":"http://example.com/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},{"@context":"http://schema.org","@type":"Person","name":"‰∏Ä‰∏™Â∞èÂûÉÂúæ","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"http://example.com/","sameAs":["https://github.com/volantis-x"],"description":"‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢"},{"@context":"http://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"item":{"@id":"http://example.com/","name":"Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ"}},{"@type":"ListItem","position":2,"item":{"@id":"http://example.com/categories/Java/","name":"Java"}},{"@type":"ListItem","position":3,"item":{"@id":"http://example.com/2022/10/08/Java/MySQL/","name":"MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞"}}]},{"@context":"http://schema.org","@type":"WebSite","name":"Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ","url":"http://example.com/","keywords":null,"description":"‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢","author":{"@type":"Person","name":"‰∏Ä‰∏™Â∞èÂûÉÂúæ","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"http://example.com/","description":"‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢"},"publisher":{"@type":"Organization","name":"Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ","url":"http://example.com/","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"potentialAction":{"@type":"SearchAction","name":"Site Search","target":{"@type":"EntryPoint","urlTemplate":"http://example.com?s={search_term_string}"},"query-input":"required name=search_term_string"}},{"@context":"http://schema.org","@type":"BlogPosting","headline":"MySQLÁöÑÂ≠¶‰π†Á¨îËÆ∞","description":"‰∏Ä‰∏™‰∏çËµ∑ÁúºÁöÑÂ∞èÂçöÂÆ¢","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2022/10/08/Java/MySQL/"},"author":{"@type":"Person","name":"‰∏Ä‰∏™Â∞èÂûÉÂúæ","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png"},"url":"http://example.com/"},"publisher":{"@type":"Organization","name":"Ê¥ªÁùÄÂ∞±ÊòØ‰∏∫‰∫ÜÊë∏È±ºüêüÔºÅÔºÅÔºÅ","logo":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}},"url":"http://example.com/2022/10/08/Java/MySQL/","wordCount":0,"datePublished":"2022-10-08T07:37:44.332Z","dateModified":"2023-03-29T06:11:03.275Z","articleSection":"Java","keywords":"Java,Êï∞ÊçÆÂ∫ì","image":{"@type":"ImageObject","url":"https://unpkg.com/volantis-static@0.0.1654736714924/media/org.volantis/blog/favicon/android-chrome-192x192.png","width":192,"height":192}}]</script>



      
        <!--
  pjaxÈáçËΩΩÂå∫ÂüüÊé•Âè£Ôºö
  1.  <pjax></pjax> Ê†áÁ≠æ pjax Ê†áÁ≠æÂøÖÈ°ªÂ≠òÂú®‰∫éÊâÄÊúâÈ°µÈù¢ Âê¶Âàô pjax error
  2.  script[data-pjax]
  3.  .pjax-reload script
  4.  .pjax
-->



<script src="https://unpkg.com/volantis-static@0.0.1654736714924/libs/pjax/pjax.min.js"></script>


<script>
    var pjax;
    document.addEventListener('DOMContentLoaded', function () {
      pjax = new Pjax({
        elements: 'a[href]:not([href^="#"]):not([href="javascript:void(0)"]):not([pjax-fancybox]):not([onclick="return false;"]):not([onclick="return!1"]):not([target="_blank"]):not([target="view_window"]):not([href$=".xml"])',
        selectors: [
          "head title",
          "head meta[name=keywords]",
          "head meta[name=description]",
          
          "#l_main",
          "#pjax-header-nav-list",
          ".pjax",
          "pjax", // <pjax></pjax> Ê†áÁ≠æ
          "script[data-pjax], .pjax-reload script" // scriptÊ†áÁ≠æÊ∑ªÂä†data-pjax Êàñ scriptÊ†áÁ≠æÂ§ñÂ±ÇÊ∑ªÂä†.pjax-reload ÁöÑscript‰ª£Á†ÅÊÆµÈáçËΩΩ
        ],
        cacheBust: false,   // url Âú∞ÂùÄËøΩÂä†Êó∂Èó¥Êà≥ÔºåÁî®‰ª•ÈÅøÂÖçÊµèËßàÂô®ÁºìÂ≠ò
        timeout: 5000,
        
      });
    });

    document.addEventListener('pjax:send', function (e) {
      //window.stop(); // Áõ∏ÂΩì‰∫éÁÇπÂáª‰∫ÜÊµèËßàÂô®ÁöÑÂÅúÊ≠¢ÊåâÈíÆ

      try {
        var currentUrl = window.location.pathname;
        var targetUrl = e.triggerElement.href;
        var banUrl = [""];
        if (banUrl[0] != "") {
          banUrl.forEach(item => {
            if(currentUrl.indexOf(item) != -1 || targetUrl.indexOf(item) != -1) {
              window.location.href = targetUrl;
            }
          });
        }
      } catch (error) {}

      // ‰ΩøÁî® volantis.pjax.send ÊñπÊ≥ï‰º†ÂÖ•pjax:sendÂõûË∞ÉÂáΩÊï∞ ÂèÇËßÅlayout/_partial/scripts/global.ejs
      volantis.pjax.method.send.start();
    });

    document.addEventListener('pjax:complete', function () {
      // ‰ΩøÁî® volantis.pjax.push ÊñπÊ≥ï‰º†ÂÖ•ÈáçËΩΩÂáΩÊï∞ ÂèÇËßÅlayout/_partial/scripts/global.ejs
      volantis.pjax.method.complete.start();
    });

    document.addEventListener('pjax:error', function (e) {
      if(volantis.debug) {
        console.error(e);
        console.log('pjax error: \n' + JSON.stringify(e));
      }else{
        // ‰ΩøÁî® volantis.pjax.error ÊñπÊ≥ï‰º†ÂÖ•pjax:errorÂõûË∞ÉÂáΩÊï∞ ÂèÇËßÅlayout/_partial/scripts/global.ejs
        volantis.pjax.method.error.start();
        window.location.href = e.triggerElement.href;
      }
    });
</script>

      
    </div>
    <!-- import body_end begin-->
    <!-- import body_end end-->
    <!-- Custom Files bodyEnd begin-->
    
    <!-- Custom Files bodyEnd end-->
  </body>
</html>
